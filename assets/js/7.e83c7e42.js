(window.webpackJsonp=window.webpackJsonp||[]).push([[7,3,8],{307:function(e,t,i){"use strict";var s=i(419),a=i(306);t.a={props:{translations:{type:Object,default:function(){return{}}}},computed:{_translations:function(){return Object(a.merge)(this.translations,s)}},created:function(){var e=this;this.$t||(this.$t=function(t){return Object(a.get)(e._translations,t)||t},this.$te=function(t){return!!Object(a.get)(e._translations,t)})}}},311:function(e,t,i){"use strict";i(24),i(173),i(69);t.a={methods:{apiErrorCallback:function(e){var t=this;if(!e||e.response||e.message){var i=e.response||e.data||e,s=this.parseErrorResponse(i);this.$te("aw.messages.".concat(s))?s=this.$t("aw.messages.".concat(s)):this.$te(s)&&(s=this.$t(s));var a=e.response&&e.response.data||e.data||e,n=a&&a.errors,o=n&&Array.isArray(n)?n.map((function(e){return e.message||e})).filter((function(e){return e!==i})).map((function(e){return"".concat(t.$te(e)?t.$t(e):e,"\n")})).join(""):"";this.$awNotify({title:s,message:o,type:"warning",timer:3e3})}else this.$awNotify({title:this.$t("common.messages.network_error"),type:"warning"})},parseErrorResponse:function(e){if(!e)return"";var t=e.response||e.data||e;if(t){var i="";return t.message?t.message:t.errors?(t.errors&&t.errors.length?i+="\n"+t.errors.map((function(e){return e.message||e})).join("<br/>"):i+=JSON.stringify(t.errors),i):t instanceof String?t:JSON.stringify(t)}return"Error status: ".concat(e.status)}}}},312:function(e,t,i){"use strict";i(170),i(70);var s=i(309);t.a={methods:{formatComponentName:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(t.$root===t)return"root instance";var i=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(i||"anonymous component")+(t._isVue&&t.$options.__file&&e?" at "+t.$options.__file:"")},$awEmit:function(e){for(var t,i=arguments.length,a=new Array(i>1?i-1:0),n=1;n<i;n++)a[n-1]=arguments[n];this.$emit.apply(this,[e].concat(a,[{source:this.formatComponentName(),context:this,item:Object.assign({},Object(s.a)({},this.selectedItem)),identity:this.identity,parent:this.parent}])),this.$awEventBus&&(t=this.$awEventBus).$emit.apply(t,[e].concat(a,[{source:this.formatComponentName(),context:this,item:Object.assign({},Object(s.a)({},this.selectedItem)),identity:this.identity,parent:this.parent}]))}}}},313:function(e,t,i){"use strict";i.d(t,"a",(function(){return x}));var s={};i.r(s),i.d(s,"fieldCheckbox",(function(){return k})),i.d(s,"fieldChecklist",(function(){return P})),i.d(s,"fieldInput",(function(){return R})),i.d(s,"fieldLabel",(function(){return L})),i.d(s,"fieldRadios",(function(){return E})),i.d(s,"fieldSelect",(function(){return B})),i.d(s,"fieldSubmit",(function(){return U})),i.d(s,"fieldTextArea",(function(){return H})),i.d(s,"fieldUpload",(function(){return G})),i.d(s,"fieldCleave",(function(){return W})),i.d(s,"fieldDateTimePicker",(function(){return X})),i.d(s,"fieldGoogleAddress",(function(){return te})),i.d(s,"fieldImage",(function(){return se})),i.d(s,"fieldNoUiSlider",(function(){return ne})),i.d(s,"fieldPikaday",(function(){return re})),i.d(s,"fieldStaticMap",(function(){return de})),i.d(s,"fieldSwitch",(function(){return ce})),i.d(s,"fieldVueMultiSelect",(function(){return me})),i.d(s,"fieldNumber",(function(){return D}));i(97),i(70),i(98),i(24),i(326),i(10);var a=i(0),n=i(306),o=i(320),r={methods:{getStyleClasses:function(e,t){var i=e.styleClasses;return Object(n.isArray)(i)?i.forEach((function(e){t[e]=!0})):Object(n.isString)(i)&&(t[i]=!0),t}}},l={name:"form-group",mixins:[r],props:{fields:{type:Array,default:function(){return[]}},group:{type:Object,default:function(){return{}}},tag:{type:String,default:"fieldset",validator:function(e){return e.length>0}},model:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},errors:{type:Array,default:function(){return[]}},eventBus:{type:Object,default:function(){return{}}}},data:function(){return{validationClass:{}}},watch:{},computed:{groupLegend:function(){return this.group&&this.group.legend?this.group.legend:""},groupRowClasses:function(){var e={"field-group":!0};return Object(n.isNil)(this.group)||(e=this.getStyleClasses(this.group,e)),e},groupIsVisible:function(){return this.group&&this.group.visible&&Object(n.isFunction)(this.group.visible)?this.group.visible.call(this,this.model,this.group,this):!!Object(n.isNil)(this.group.visible)||this.group.visible}},methods:{fieldVisible:function(e){return Object(n.isFunction)(e.visible)?e.visible.call(this,this.model,e,this):!!Object(n.isNil)(e.visible)||e.visible},getGroupTag:function(e){return Object(n.isNil)(e.tag)?this.tag:e.tag}},created:function(){var e=this;this.eventBus.$on("field-validated",(function(){e.$nextTick((function(){var t,i=null!==e.$refs.group.querySelector(".form-element."+Object(n.get)(e.options,"validationErrorClass","error"));e.validationClass=(t={},Object(o.a)(t,Object(n.get)(e.options,"validationErrorClass","error"),i),Object(o.a)(t,Object(n.get)(e.options,"validationSuccessClass","valid"),!i),t)}))}))}},d=i(42),u=Object(d.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.fields&&e.groupIsVisible?i(e.tag,{ref:"group",tag:"fieldset",class:[e.groupRowClasses,e.validationClass]},[e._t("group-legend",null,{group:e.group,groupLegend:e.groupLegend}),e._v(" "),e._t("group-help",null,{group:e.group}),e._v(" "),i("div",{staticClass:"row m-0",staticStyle:{flex:"1"}},[e._l(e.fields,(function(t,s){return[e.fieldVisible(t)?["group"===t.type?[i("div",{key:s,class:t.cols?"col-"+t.cols:""},[i("div",{staticClass:"wrapper",class:t.wrapperClasses},[i("form-group",{attrs:{fields:t.fields,group:t,tag:e.getGroupTag(t),model:e.model,options:e.options,errors:e.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"group-legend",fn:function(t){return[e._t("group-legend",null,{group:t.group,groupLegend:t.groupLegend})]}},{key:"group-help",fn:function(t){return[e._t("group-help",null,{group:t.group})]}},{key:"element",fn:function(t){return[e._t("element",null,{field:t.field,model:t.model,options:t.options,errors:t.errors,eventBus:t.eventBus})]}}],null,!0)})],1)])]:[e._t("element",null,{field:t,model:e.model,options:e.options,errors:e.errors,eventBus:e.eventBus})]]:e._e()]}))],2)],2):e._e()}),[],!1,null,null,null).exports,c=(i(171),i(45)),p=i(319),m={name:"form-element",mixins:[r],components:{AwesomeDisplay:i(321).a},props:{model:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},field:{type:Object,required:!0},errors:{type:Array,default:function(){return[]}},eventBus:{type:Object,default:function(){return{}}}},mounted:function(){this.model&&"object"===Object(c.a)(this.model)&&this.field.value},data:function(){return{childErrors:[],childTouched:!1}},computed:{fieldID:function(){var e=Object(n.get)(this.options,"fieldIdPrefix","");return Object(p.slugifyFormID)(this.field,e)},fieldType:function(){return"field-"+(this.field&&this.field.type?this.field.type:"input")},viewFieldType:function(){return this.field.displayOptions&&this.field.displayOptions.type?this.field.displayOptions.type:this.field.fieldOptions.relation?"relation":this.field.fieldOptions.inputType},fieldTypeHasLabel:function(){if(Object(n.isNil)(this.field.label))return!1;var e=this.getValueFromOption(this.field,"fieldOptions"),t="input"===this.field.type&&!Object(n.isNil)(e)?e.inputType:this.field.type;return!["button","submit","reset"].includes(t)},fieldHasHint:function(){return!Object(n.isNil)(this.field.hint)},fieldHasErrors:function(){return this.childErrors.length>0},fieldRowClasses:function(){var e,t=(e={},Object(o.a)(e,Object(n.get)(this.options,"validationErrorClass","error"),this.fieldHasErrors),Object(o.a)(e,Object(n.get)(this.options,"validationSuccessClass","valid"),!this.fieldHasErrors&&this.childTouched),Object(o.a)(e,Object(n.get)(this.options,"validationCleanClass","clean"),!this.fieldHasErrors&&!this.childTouched),Object(o.a)(e,"disabled",this.getValueFromOption(this.field,"disabled")),Object(o.a)(e,"readonly",this.getValueFromOption(this.field,"readonly")),Object(o.a)(e,"featured",this.getValueFromOption(this.field,"featured")),Object(o.a)(e,"required",this.getValueFromOption(this.field,"required")),e);return t=this.getStyleClasses(this.field,t),Object(n.isNil)(this.field.type)||(t["field-"+this.field.type]=!0),t},buttonsAreVisible:function(){return Object(n.isArray)(this.field.buttons)&&this.field.buttons.length>0},isViewMode:function(){return"view"===this.field.mode},fieldValue:function(){return Object(n.get)(this.model,this.field.model)}},methods:{getValueFromOption:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(n.isFunction)(e[t])?e[t].call(this,this.model,e,this):Object(n.isNil)(e[t])?i:e[t]},buttonClickHandler:function(e,t,i){return e.onclick.call(this,this.model,t,i,this)},onFieldTouched:function(){this.childTouched=!0},onChildValidated:function(e){this.childErrors=e}}},h=(i(424),{name:"form-generator",components:{formGroup:u,formElement:Object(d.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-element",class:[e.fieldRowClasses]},[i("div",{staticClass:"form-inner-div",class:e.field.innerClasses},[e.fieldTypeHasLabel?i("label",{class:e.field.labelClasses,attrs:{for:e.fieldID}},[e._t("label",null,{field:e.field,getValueFromOption:e.getValueFromOption}),e._v(" "),e._t("help",null,{field:e.field,getValueFromOption:e.getValueFromOption})],2):e._e(),e._v(" "),e.isViewMode?[i("awesome-display",e._b({attrs:{type:e.viewFieldType,value:e.fieldValue,relation:e.field.displayOptions.relation,"relation-url":e.field.displayOptions.relationUrl,"relation-key":e.field.displayOptions.relationKey,"relation-label":e.field.displayOptions.relationLabel}},"awesome-display",e.field.displayOptions,!1))]:i("div",{staticClass:"field-content"},[i("div",{staticClass:"field-wrap"},[i(e.fieldType,{ref:"child",tag:"component",attrs:{model:e.model,schema:e.field,"form-options":e.options,"event-bus":e.eventBus,"field-i-d":e.fieldID},on:{"field-touched":e.onFieldTouched,"errors-updated":e.onChildValidated}}),e._v(" "),e.buttonsAreVisible?i("div",{staticClass:"buttons"},e._l(e.field.buttons,(function(t,s){return i("button",{key:s,class:t.classes,domProps:{textContent:e._s(t.label)},on:{click:function(i){return e.buttonClickHandler(t,e.field,i)}}})})),0):e._e()],1),e._v(" "),e.fieldHasHint?[e._t("hint",null,{field:e.field,getValueFromOption:e.getValueFromOption})]:e._e(),e._v(" "),e.fieldHasErrors?[e._t("errors",null,{childErrors:e.childErrors,field:e.field,getValueFromOption:e.getValueFromOption})]:e._e()],2)],2)])}),[],!1,null,null,null).exports},props:{schema:{type:Object,default:function(){return{}}},model:{type:Object,default:function(){return{}}},isGroupVisible:function(e){return Object(n.isFunction)(e.visible)?e.visible.call(this,this.model,e,this):!!Object(n.isNil)(e.visible)||e.visible},options:{type:Object,default:function(){return{validateAfterLoad:!1,validateAsync:!1,validateAfterChanged:!1,validationErrorClass:"error",validationSuccessClass:""}}},isNewModel:{type:Boolean,default:!1},tag:{type:String,default:"fieldset",validator:function(e){return e.length>0}}},data:function(){return{eventBus:new a.a,totalNumberOfFields:0,errors:[]}},computed:{fields:function(){return this.schema&&this.schema.fields?(this.schema.mode&&this.injectFieldMode(this.schema.fields),this.schema.fields):{}},group:function(){return this.schema&&this.schema.group?this.schema.group:{}},styleClasses:function(){return this.schema&&this.schema.styleClasses?this.schema.styleClasses:{}}},watch:{model:{handler:function(e,t){var i=this;t!==e&&null!=e&&this.$nextTick((function(){!0===i.options.validateAfterLoad&&!0!==i.isNewModel?i.validate().then((function(){}),(function(){})):i.child&&i.child.clearValidationErrors&&i.clearValidationErrors()}))},immediate:function(){return!0}}},methods:{translate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.$te,this.$te.apply(this,t)?this.$t.apply(this,t):t&&t[0]},fillErrors:function(e,t,i){Object(n.isArray)(e)&&e.length>0&&e.forEach((function(e){t.push({uid:i,error:e})}))},onFieldValidated:function(e,t,i){this.errors=this.errors.filter((function(e){return e.uid!==i})),this.fillErrors(t,this.errors,i);var s=0===this.errors.length;this.$emit("validated",s,this.errors,this)},onModelUpdated:function(e,t){this.$emit("model-updated",e,t)},validate:function(){var e=this;return new Promise((function(t,i){e.clearValidationErrors();var s=0,a=[];e.eventBus.$on("field-deregistering",(function(){e.eventBus.$emit("fields-validation-terminated",a),i(a)}));Object(n.get)(e.options,"validateAfterChanged",!1)&&e.eventBus.$off("field-validated",e.onFieldValidated),e.eventBus.$on("field-validated",(function o(r,l,d){if(s++,e.fillErrors(l,a,d),s===e.totalNumberOfFields){e.eventBus.$off("field-validated",o),Object(n.get)(e.options,"validateAfterChanged",!1)&&e.eventBus.$on("field-validated",e.onFieldValidated),e.errors=a;var u=0===a.length;e.$emit("validated",u,a,e),e.eventBus.$emit("fields-validation-terminated",a),u?t():i(a)}})),e.eventBus.$emit("validate-fields",e)}))},clearValidationErrors:function(){this.errors.splice(0),this.eventBus.$emit("clear-validation-errors",this.clearValidationErrors)},injectFieldMode:function(e){var t=this;this.schema.mode&&e.forEach((function(e){e.mode=t.schema.mode,e.fields&&t.injectFieldMode(e.fields)}))}},created:function(){var e=this;Object(n.get)(this.options,"validateAfterChanged",!1)&&this.eventBus.$on("field-validated",this.onFieldValidated),this.eventBus.$on("model-updated",this.onModelUpdated),this.eventBus.$on("fields-validation-trigger",(function(){return e.validate().then((function(){}),(function(){}))})),this.eventBus.$on("field-registering",(function(){e.totalNumberOfFields=e.totalNumberOfFields+1})),this.eventBus.$on("field-deregistering",(function(){e.totalNumberOfFields=e.totalNumberOfFields-1}))},beforeDestroy:function(){this.eventBus.$off("field-validated"),this.eventBus.$off("model-updated"),this.eventBus.$off("fields-validation-trigger"),this.eventBus.$off("field-registering"),this.eventBus.$off("field-deregistering")}}),f=(i(425),Object(d.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!=e.schema?i("div",{staticClass:"vue-form-generator"},[i("form-group",{class:e.styleClasses,attrs:{tag:e.tag,fields:e.fields,group:e.group,model:e.model,options:e.options,errors:e.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"group-legend",fn:function(t){var s=t.group,a=t.groupLegend;return[e._t("group-legend",(function(){return[a?i("legend",{staticClass:"aw-form-group-legend"},[i("span",{domProps:{innerHTML:e._s(a)}})]):e._e()]}),{group:s,groupLegend:a})]}},{key:"group-help",fn:function(t){var s=t.group;return[e._t("group-help",(function(){return[s.help?i("span",{staticClass:"help"},[i("i",{staticClass:"icon"}),e._v(" "),i("div",{staticClass:"helpText",domProps:{innerHTML:e._s(s.help)}})]):e._e()]}),{group:s})]}},{key:"element",fn:function(t){return[i("form-element",{attrs:{field:t.field,model:t.model,options:t.options,errors:t.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"label",fn:function(t){var s=t.field,a=t.getValueFromOption;return[e._t("label",(function(){return[i("span",{domProps:{innerHTML:e._s(s.label)}})]}),{field:s,getValueFromOption:a})]}},{key:"help",fn:function(t){var s=t.field,a=t.getValueFromOption;return[e._t("help",(function(){return[s.help?i("span",{staticClass:"help"},[i("i",{staticClass:"icon"}),e._v(" "),i("div",{staticClass:"helpText",domProps:{innerHTML:e._s(s.help)}})]):e._e()]}),{field:s,getValueFromOption:a})]}},{key:"hint",fn:function(t){var s=t.field,a=t.getValueFromOption;return[e._t("hint",(function(){return[i("div",{staticClass:"hint",domProps:{innerHTML:e._s(a(s,"hint",void 0))}})]}),{field:s,getValueFromOption:a})]}},{key:"errors",fn:function(t){var s=t.childErrors,a=t.field,n=t.getValueFromOption;return[e._t("errors",(function(){return[i("div",{staticClass:"errors help-block"},e._l(s,(function(t,s){return i("span",{key:s,domProps:{innerHTML:e._s(e.translate(t))}})})),0)]}),{errors:s,field:a,getValueFromOption:n})]}}],null,!0)})]}}],null,!0)})],1):e._e()}),[],!1,null,null,null).exports),v=(i(99),i(330),i(43),i(100),i(71),i(314)),g=i.n(v),b={fieldIsRequired:"This field is required!",invalidFormat:"Invalid format!",numberTooSmall:"The number is too small! Minimum: {0}",numberTooBig:"The number is too big! Maximum: {0}",invalidNumber:"Invalid number",invalidInteger:"The value is not an integer",textTooSmall:"The length of text is too small! Current: {0}, Minimum: {1}",textTooBig:"The length of text is too big! Current: {0}, Maximum: {1}",thisNotText:"This is not a text!",thisNotArray:"This is not an array!",selectMinItems:"Select minimum {0} items!",selectMaxItems:"Select maximum {0} items!",invalidDate:"Invalid date!",dateIsEarly:"The date is too early! Current: {0}, Minimum: {1}",dateIsLate:"The date is too late! Current: {0}, Maximum: {1}",invalidEmail:"Invalid e-mail address!",invalidURL:"Invalid URL!",invalidCard:"Invalid card format!",invalidCardNumber:"Invalid card number!",invalidTextContainNumber:"Invalid text! Cannot contains numbers or special characters",invalidTextContainSpec:"Invalid text! Cannot contains special characters"};function y(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return Object(n.isNil)(e)||""===e?t?[C(i.fieldIsRequired)]:[]:null}function C(e){if(null!=e&&arguments.length>1)for(var t=1;t<arguments.length;t++)e=e.replace("{"+(t-1)+"}",arguments[t]);return e}var _={resources:b,required:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;return y(e,t.required,s)},number:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var o=[];return Object(n.isNumber)(e)?(!Object(n.isNil)(t.fieldOptions)&&!Object(n.isNil)(t.fieldOptions.min)&&e<t.fieldOptions.min&&o.push(C(s.numberTooSmall,t.fieldOptions.min)),!Object(n.isNil)(t.fieldOptions)&&!Object(n.isNil)(t.fieldOptions.max)&&e>t.fieldOptions.max&&o.push(C(s.numberTooBig,t.fieldOptions.max))):o.push(C(s.invalidNumber)),o},integer:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var o=_.number(e,t,i,s);return Object(n.isInteger)(e)||o.push(C(s.invalidInteger)),o},double:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);return null!=a?a:!Object(n.isNumber)(e)||isNaN(e)?[C(s.invalidNumber)]:void 0},string:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var o=[];return Object(n.isString)(e)?(!Object(n.isNil)(t.fieldOptions)&&!Object(n.isNil)(t.fieldOptions.min)&&e.length<t.fieldOptions.min&&o.push(C(s.textTooSmall,e.length,t.fieldOptions.min)),!Object(n.isNil)(t.fieldOptions)&&!Object(n.isNil)(t.fieldOptions.max)&&e.length>t.fieldOptions.max&&o.push(C(s.textTooBig,e.length,t.fieldOptions.max))):o.push(C(s.thisNotText)),o},array:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;if(t.required){if(!Object(n.isArray)(e))return[C(s.thisNotArray)];if(0===e.length)return[C(s.fieldIsRequired)]}if(!Object(n.isNil)(e)){if(!Object(n.isNil)(t.fieldOptions)&&!Object(n.isNil)(t.fieldOptions.min)&&e.length<t.fieldOptions.min)return[C(s.selectMinItems,t.fieldOptions.min)];if(!Object(n.isNil)(t.fieldOptions)&&!Object(n.isNil)(t.fieldOptions.max)&&e.length>t.fieldOptions.max)return[C(s.selectMaxItems,t.fieldOptions.max)]}},date:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var o=new Date(e);if(!o)return[C(s.invalidDate)];var r=[];if(!Object(n.isNil)(t.fieldOptions)&&!Object(n.isNil)(t.fieldOptions.min)){var l=new Date(t.fieldOptions.min);o.valueOf()<l.valueOf()&&r.push(C(s.dateIsEarly,g.a.format(o),g.a.format(l)))}if(!Object(n.isNil)(t.fieldOptions)&&!Object(n.isNil)(t.fieldOptions.max)){var d=new Date(t.fieldOptions.max);o.valueOf()>d.valueOf()&&r.push(C(s.dateIsLate,g.a.format(o),g.a.format(d)))}return r},regexp:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;if(!Object(n.isNil)(t.pattern)){var o=new RegExp(t.pattern);if(!o.test(e))return[C(s.invalidFormat)]}},email:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var n=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)?void 0:[C(s.invalidEmail)]},url:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var n=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return n.test(e)?void 0:[C(s.invalidURL)]},creditCard:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var n=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,o=e.replace(/[^0-9]+/g,"");if(!n.test(o))return[C(s.invalidCard)];for(var r,l,d,u=0,c=o.length-1;c>=0;c--)r=o.substring(c,c+1),l=parseInt(r,10),u+=d&&(l*=2)>=10?l%10+1:l,d=!d;return u%10==0&&o?void 0:[C(s.invalidCardNumber)]},alpha:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var n=/^[a-zA-Z]*$/;return n.test(e)?void 0:[C(s.invalidTextContainNumber)]},alphaNumeric:function(e,t,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,s);if(null!=a)return a;var n=/^[a-zA-Z0-9]*$/;return n.test(e)?void 0:[C(s.invalidTextContainSpec)]}};Object.keys(_).forEach((function(e){var t=_[e];Object(n.isFunction)(t)&&(t.locale=function(e){return function(i,s,a){return t(i,s,a,Object(n.defaults)(e,b))}})}));var w=_,O=(i(170),i(169),i(25),i(316),i(29),function(e){return Object(n.isString)(e)?null!=w[e]?w[e]:(console.warn("'".concat(e,"' is not a validator function!")),null):e});function F(e,t,i){var s=Object(n.get)(i.context,"schema.attributes",{}),a=t.value||"input";Object(n.isString)(a)&&(s=Object(n.get)(s,a)||s),Object(n.forEach)(s,(function(t,i){e.setAttribute(i,t)}))}var x={props:{model:{type:Object},schema:{type:Object},formOptions:{type:Object},eventBus:{type:Object},fieldID:{type:String}},data:function(){return{fieldUID:Object(n.uniqueId)(this.fieldID+"_"),touched:!1,errors:[],debouncedValidateFunc:null,debouncedFormatFunction:null}},directives:{attributes:{bind:F,updated:F,componentUpdated:F}},computed:{value:{cache:!1,get:function(){var e;return e=Object(n.isFunction)(Object(n.get)(this.schema,"get"))?this.schema.get(this.model):Object(n.get)(this.model,this.schema.model),this.formatValueToField(e)},set:function(e){this.touch();var t=this.value;e=this.formatValueToModel(e),Object(n.isFunction)(e)?e(e,t):this.updateModelValue(e,t)}},disabled:function(){return this.getValueFromOption(this.schema,"disabled")},fieldClasses:function(){return this.getValueFromOption(this.schema,"fieldClasses",[])},fieldOptions:function(){return this.getValueFromOption(this.schema,"fieldOptions",{})},inputName:function(){return this.getValueFromOption(this.schema,"inputName","")},placeholder:function(){return this.getValueFromOption(this.schema,"placeholder","")},readonly:function(){return this.getValueFromOption(this.schema,"readonly")},required:function(){return this.getValueFromOption(this.schema,"required")},values:function(){return this.getValueFromOption(this.schema,"values",[])}},watch:{errors:{handler:function(e){this.$emit("errors-updated",e)}}},methods:{getValueFromOption:function(e,t,i){return Object(n.isFunction)(this.$parent.getValueFromOption)?this.$parent.getValueFromOption(e,t,i):Object(n.isNil)(e[t])?i:e[t]},validate:function(){var e=this;this.touch(),this.clearValidationErrors();var t=Object(n.get)(this.formOptions,"validateAsync",!1),i=[];if(this.schema.validator&&!0!==this.readonly&&!0!==this.schema.readonly&&!0!==this.disabled){var s=[];Object(n.isArray)(this.schema.validator)?this.schema.validator.forEach((function(t){s.push(O(t).bind(e))})):s.push(O(this.schema.validator).bind(this)),s.forEach((function(s){if(t)i.push(s(e.value,e.schema,e.model));else{var a=s(e.value,e.schema,e.model);a&&Object(n.isFunction)(a.then)?a.then((function(t){t&&(e.errors=e.errors.concat(t))})):a&&(i=i.concat(a))}}))}var a=function(t){var i=[];t.forEach((function(e){Object(n.isArray)(e)&&e.length>0?i=i.concat(e):Object(n.isString)(e)&&i.push(e)})),Object(n.isFunction)(e.schema.onValidated)&&e.schema.onValidated.call(e,e.model,i,e.schema);var s=0===i.length;return e.errors=i,e.eventBus&&e.eventBus.$emit("field-validated",s,i,e.fieldUID),i};return t?Promise.all(i).then(a).catch((function(e){console.warn("Problem during field validation",e)})):a(i)},debouncedValidate:function(){Object(n.isFunction)(this.debouncedValidateFunc)||(this.debouncedValidateFunc=Object(n.debounce)(this.validate.bind(this),Object(n.get)(this.formOptions,"validateDebounceTime",500))),this.debouncedValidateFunc()},updateModelValue:function(e,t){var i=!1;Object(n.isFunction)(this.schema.set)?(this.schema.set(this.model,e),i=!0):this.schema.model&&(this.setModelValueByPath(this.schema.model,e),i=!0),i&&(Object(n.isFunction)(this.schema.onChanged)&&this.schema.onChanged.call(this,this.model,e,t,this.schema),Object(n.get)(this.formOptions,"validateAfterChanged",!1)&&(Object(n.get)(this.formOptions,"validateDebounceTime",500)>0?this.debouncedValidate():this.validate()))},clearValidationErrors:function(){this.errors.splice(0)},setModelValueByPath:function(e,t){var i=e.replace(/\[(\w+)\]/g,".$1");i=i.replace(/^\./,"");for(var s=this.model,a=i.split("."),n=0,o=a.length;n<o;){var r=a[n];if(!(n<o-1))return void this.$root.$set(s,r,t);s&&void 0!==s[r]&&null!==s[r]||this.$root.$set(s,r,{}),s=s[r],++n}},formatValueToField:function(e){return e},formatValueToModel:function(e){return e},touch:function(){this.touched||(this.touched=!0,this.$emit("field-touched"))}},created:function(){this.eventBus&&(this.eventBus.$on("clear-validation-errors",this.clearValidationErrors),this.eventBus.$on("validate-fields",this.validate),this.eventBus.$emit("field-registering"))},mounted:function(){var e;if(this.schema){var t=Object.keys(this.schema);(e=["type","model","id","inputName","label","placeholder","hint","help","featured","visible","disabled","required","readonly","validator","styleClasses","labelClasses","fieldClasses","fieldOptions","values","buttons","attributes","get","set","onChanged","onValidated"],t.filter((function(t){return e.indexOf(t)<0}))).length}},beforeDestroy:function(){this.eventBus&&(this.eventBus.$off("clear-validation-errors",this.clearValidationErrors),this.eventBus.$off("validate-fields",this.validate),this.eventBus.$emit("field-deregistering",this))}},A={name:"field-checkbox",mixins:[x]},k=(i(426),Object(d.a)(A,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{id:e.fieldID,type:"checkbox",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,name:e.inputName,required:e.required},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var i=e.value,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&(e.value=i.concat([null])):n>-1&&(e.value=i.slice(0,n).concat(i.slice(n+1)))}else e.value=a}}})}),[],!1,null,null,null).exports),S={name:"field-checklist",mixins:[x],data:function(){return{comboExpanded:!1}},computed:{items:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},selectedCount:function(){return this.value?this.value.length:0},useListBox:function(){return this.fieldOptions.listBox}},methods:{getInputName:function(e){return this.inputName&&this.inputName.length>0?Object(p.slugify)(this.inputName+"_"+this.getItemValue(e)):Object(p.slugify)(this.getItemValue(e))},getItemValue:function(e){if(Object(n.isObject)(e)){if(void 0!==this.fieldOptions.value)return e[this.fieldOptions.value];if(void 0!==e.value)return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},getItemName:function(e){if(Object(n.isObject)(e)){if(void 0!==this.fieldOptions.name)return e[this.fieldOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},isItemChecked:function(e){return this.value&&-1!==this.value.indexOf(this.getItemValue(e))},onChanged:function(e,t){var i=e.target.checked;if(!Object(n.isNil)(this.value)&&Array.isArray(this.value)||(this.value=[]),i){var s=Object(n.clone)(this.value);s.push(this.getItemValue(t)),this.value=s}else{var a=Object(n.clone)(this.value);a.splice(this.value.indexOf(this.getItemValue(t)),1),this.value=a}},onExpandCombo:function(){this.comboExpanded=!this.comboExpanded}}},P=(i(427),Object(d.a)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[e.useListBox?i("div",{staticClass:"listbox form-control",attrs:{disabled:e.disabled}},e._l(e.items,(function(t){return i("div",{key:e.getItemValue(t),staticClass:"list-row",class:{"is-checked":e.isItemChecked(t)}},[i("label",[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],attrs:{id:e.fieldID,type:"checkbox",disabled:e.disabled,name:e.getInputName(t)},domProps:{checked:e.isItemChecked(t)},on:{change:function(i){return e.onChanged(i,t)}}}),e._v(e._s(e.getItemName(t))+"\n      ")])])})),0):e._e(),e._v(" "),e.useListBox?e._e():i("div",{staticClass:"combobox form-control",attrs:{disabled:e.disabled}},[i("div",{staticClass:"mainRow",class:{expanded:e.comboExpanded},on:{click:e.onExpandCombo}},[i("div",{staticClass:"info"},[e._v(e._s(e.selectedCount)+" selected")]),e._v(" "),i("div",{staticClass:"arrow"})]),e._v(" "),i("div",{staticClass:"dropList"},[e.comboExpanded?e._l(e.items,(function(t){return i("div",{key:e.getItemValue(t),staticClass:"list-row",class:{"is-checked":e.isItemChecked(t)}},[i("label",[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],attrs:{id:e.fieldID,type:"checkbox",disabled:e.disabled,name:e.getInputName(t)},domProps:{checked:e.isItemChecked(t)},on:{change:function(i){return e.onChanged(i,t)}}}),e._v("\n            "+e._s(e.getItemName(t))+"\n          ")])])})):e._e()],2)])])}),[],!1,null,null,null).exports),I={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD hh:mm:ss","datetime-local":"YYYY-MM-DDThh:mm:ss"},j={name:"field-input",mixins:[x],computed:{inputType:function(){return"string"==typeof this.fieldOptions.inputType?this.fieldOptions.inputType.toLowerCase():(console.warn("Missing inputType",this.fieldOptions,this.fieldOptions.inputType),"")}},methods:{formatValueToModel:function(e){var t=this;if(null!=e)switch(this.inputType){case"date":case"datetime":case"datetime-local":case"number":case"range":return function(i,s){t.debouncedFormatFunc(e,s)}}return e},formatDatetimeToModel:function(e,t){var i=I[this.inputType],s=g.a.parse(e,i);!1!==s&&(e=this.schema.format?g.a.format(s,this.schema.format):s.valueOf()),this.updateModelValue(e,t)},formatNumberToModel:function(e,t){Object(n.isNumber)(e)||(e=NaN),this.updateModelValue(e,t)},onInput:function(e){var t=e.target.value;switch(this.inputType){case"number":case"range":Object(n.isNumber)(parseFloat(e.target.value))&&(t=parseFloat(e.target.value))}this.value=t},onBlur:function(){Object(n.isFunction)(this.debouncedFormatFunc)&&this.debouncedFormatFunc.flush()}},mounted:function(){var e=this;switch(this.inputType){case"number":case"range":this.debouncedFormatFunc=Object(n.debounce)((function(t,i){e.formatNumberToModel(t,i)}),parseInt(Object(n.get)(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1});break;case"date":case"datetime":case"datetime-local":this.debouncedFormatFunc=Object(n.debounce)((function(t,i){e.formatDatetimeToModel(t,i)}),parseInt(Object(n.get)(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1})}},created:function(){"file"===this.inputType&&console.warn('The "file" type in input field is deprecated. Use "file" field instead.')}},R=(i(428),Object(d.a)(j,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",class:e.fieldClasses,attrs:{accept:e.fieldOptions.accept,alt:e.fieldOptions.alt,autocomplete:e.fieldOptions.autocomplete,dirname:e.fieldOptions.dirname,disabled:e.disabled,files:e.fieldOptions.files,formaction:e.fieldOptions.formaction,formenctype:e.fieldOptions.formenctype,formmethod:e.fieldOptions.formmethod,formnovalidate:e.fieldOptions.formnovalidate,formtarget:e.fieldOptions.formtarget,height:e.fieldOptions.height,id:e.fieldID,list:e.fieldOptions.list,max:e.fieldOptions.max,maxlength:e.fieldOptions.maxlength,min:e.fieldOptions.min,minlength:e.fieldOptions.minlength,multiple:e.fieldOptions.multiple,name:e.inputName,pattern:e.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schema.required,size:e.fieldOptions.size,src:e.fieldOptions.src,step:e.fieldOptions.step,type:e.inputType,width:e.fieldOptions.width},domProps:{checked:e.fieldOptions.checked,value:e.value},on:{blur:e.onBlur,change:function(t){e.schema.onChange},input:e.onInput}}),e._v(" "),"color"===e.inputType||"range"===e.inputType?i("span",{staticClass:"helper",domProps:{textContent:e._s(e.value)}}):e._e()])}),[],!1,null,null,null).exports),T={name:"field-number",mixins:[x],components:{fieldInput:R},computed:{},methods:{},mounted:function(){this.schema.fieldOptions&&!this.schema.fieldOptions.inputType&&(this.schema.fieldOptions.inputType="number")},created:function(){}},D=Object(d.a)(T,(function(){var e=this.$createElement;return(this._self._c||e)("fieldInput",this._b({attrs:{type:"number"}},"fieldInput",this.$props,!1))}),[],!1,null,null,null).exports,M={name:"field-label",mixins:[x]},L=(i(429),Object(d.a)(M,(function(){var e=this.$createElement;return(this._self._c||e)("span",{directives:[{name:"attributes",rawName:"v-attributes",value:"label",expression:"'label'"}],class:this.fieldClasses,attrs:{id:this.fieldID},domProps:{textContent:this._s(this.value)}})}),[],!1,null,null,null).exports),N={name:"field-radios",mixins:[x],computed:{items:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},id:function(){return this.schema.model}},methods:{getItemValue:function(e){if(Object(n.isObject)(e)){if(void 0!==this.fieldOptions.value)return e[this.fieldOptions.value];if(void 0!==e.value)return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},getItemName:function(e){if(Object(n.isObject)(e)){if(void 0!==this.fieldOptions.name)return e[this.fieldOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},onSelection:function(e){this.value=this.getItemValue(e)},isItemChecked:function(e){return this.getItemValue(e)===this.value}}},E=(i(430),Object(d.a)(N,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"radio-list",attrs:{disabled:e.disabled}},e._l(e.items,(function(t){return i("label",{directives:[{name:"attributes",rawName:"v-attributes",value:"label",expression:"'label'"}],key:e.getItemValue(t),class:{"is-checked":e.isItemChecked(t)}},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{disabled:e.disabled,id:e.fieldID,name:e.id,readonly:e.readonly,required:e.required,type:"radio"},domProps:{checked:e.isItemChecked(t),value:e.getItemValue(t)},on:{click:function(i){return e.onSelection(t)}}}),e._v(e._s(e.getItemName(t))+"\n  ")])})),0)}),[],!1,null,null,null).exports),V={name:"field-select",mixins:[x],computed:{items:function(){var e=this.schema.values;return"function"==typeof e?this.groupValues(e.apply(this,[this.model,this.schema])):this.groupValues(e)}},methods:{formatValueToField:function(e){return Object(n.isNil)(e)?null:e},groupValues:function(e){var t=[],i={};return e.filter((function(e){return e})).forEach((function(e){i=null,e&&e.group&&Object(n.isObject)(e)?(i=Object(n.find)(t,(function(t){return t.group===e.group})))?i.ops.push({id:e.id,name:e.name}):((i={group:"",ops:[]}).group=e.group,i.ops.push({id:e.id,name:e.name}),t.push(i)):t.push(e)})),t},getGroupName:function(e){if(e&&e.group)return e.group;throw"Group name is missing! https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"},getItemValue:function(e){if(Object(n.isObject)(e)){if(void 0!==this.fieldOptions.value)return e[this.fieldOptions.value];if(void 0!==e.id)return e.id;throw"`id` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e},getItemName:function(e){if(Object(n.isObject)(e)){if(void 0!==this.fieldOptions.name)return e[this.fieldOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e}}},B=Object(d.a)(V,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",class:e.fieldClasses,attrs:{disabled:e.disabled||e.readonly,readonly:e.readonly,name:e.inputName,id:e.fieldID,multiple:e.schema.multiple||e.schema.multi},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.value=t.target.multiple?i:i[0]}}},[e.fieldOptions.hideNoneSelectedText?e._e():i("option",{attrs:{disabled:e.schema.required},domProps:{value:null}},[e._v("\n    "+e._s(e.fieldOptions.noneSelectedText||"<Nothing selected>")+"\n  ")]),e._v(" "),e._l(e.items,(function(t){return[t&&t.group?i("optgroup",{key:e.getItemValue(t),attrs:{label:e.getGroupName(t)}},[t.ops?e._l(t.ops,(function(t){return i("option",{key:e.getItemValue(t),domProps:{value:e.getItemValue(t)}},[e._v(" "+e._s(e.getItemName(t)))])})):e._e()],2):e._e(),e._v(" "),t.group?e._e():i("option",{key:e.getItemValue(t),domProps:{value:e.getItemValue(t)}},[e._v(" "+e._s(e.getItemName(t)))])]}))],2)}),[],!1,null,null,null).exports,q={name:"field-submit",mixins:[x],methods:{onClick:function(e){var t=this;!0===this.fieldOptions.validateBeforeSubmit?(e.preventDefault(),this.eventBus.$emit("fields-validation-trigger"),this.eventBus.$on("fields-validation-terminated",(function(i){!Object(n.isEmpty)(i)&&Object(n.isFunction)(t.fieldOptions.onValidationError)?t.fieldOptions.onValidationError(t.model,t.schema,i,e):Object(n.isFunction)(t.fieldOptions.onSubmit)&&t.fieldOptions.onSubmit(t.model,t.schema,e)}))):Object(n.isFunction)(this.fieldOptions.onSubmit)&&this.fieldOptions.onSubmit(this.model,this.schema,e)}}},U=(i(431),Object(d.a)(q,(function(){var e=this.$createElement;return(this._self._c||e)("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:this.fieldClasses,attrs:{id:this.fieldID,type:"submit",name:this.inputName,disabled:this.disabled,readonly:this.readonly},domProps:{value:this.fieldOptions.buttonText},on:{click:this.onClick}})}),[],!1,null,null,null).exports),K={name:"field-textArea",mixins:[x]},H=Object(d.a)(K,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",class:e.fieldClasses,attrs:{disabled:e.disabled,id:e.fieldID,maxlength:e.fieldOptions.max,minlength:e.fieldOptions.min,name:e.inputName,placeholder:e.placeholder,readonly:e.readonly,required:e.required,rows:e.fieldOptions.rows||2},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})}),[],!1,null,null,null).exports,Y={name:"field-upload",mixins:[x],methods:{onChange:function(e){Object(n.isFunction)(this.fieldOptions.onChanged)&&this.fieldOptions.onChanged.call(this,this.model,this.schema,e,this)}}},G=(i(432),Object(d.a)(Y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",attrs:{accept:e.fieldOptions.accept,disabled:e.disabled,id:e.fieldID,multiple:e.fieldOptions.multiple,name:e.inputName,placeholder:e.placeholder,readonly:e.readonly,required:e.schema.required,type:"file"},on:{change:e.onChange}})])}),[],!1,null,null,null).exports),z={name:"field-cleave",mixins:[x],data:function(){return{cleave:null}},mounted:function(){this.$nextTick((function(){var e=this;window.Cleave?(this.cleave=new window.Cleave(this.$el,Object(n.defaults)(this.fieldOptions,{creditCard:!1,phone:!1,phoneRegionCode:"AU",date:!1,datePattern:["d","m","Y"],numeral:!1,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralDecimalMark:".",blocks:[],delimiter:" ",prefix:null,numericOnly:!1,uppercase:!1,lowercase:!1,maxLength:0})),this.cleave.properties&&this.cleave.properties.hasOwnProperty("result")?this.$watch("cleave.properties.result",(function(){e.value=e.cleave.properties.result})):this.$el.addEventListener("input",this.inputChange)):console.warn("Cleave is missing. Please download from https://github.com/nosir/cleave.js/ and load the script in the HTML head section!")}))},methods:{inputChange:function(){this.value=this.$el.value}},beforeDestroy:function(){this.cleave&&(this.cleave.destroy(),this.$el.removeEventListener("input",this.inputChange))}},W=Object(d.a)(z,(function(){var e=this.$createElement;return(this._self._c||e)("input",{staticClass:"form-control",attrs:{type:"text",autocomplete:this.fieldOptions.autocomplete,disabled:this.disabled,placeholder:this.placeholder,readonly:this.readonly,name:this.inputName,id:this.fieldID},domProps:{value:this.value}})}),[],!1,null,null,null).exports,Q=i(309),J={getDefaultInputFormat:function(){return"YYYY-MM-DD hh:mm:ss"},getDateFormat:function(){return void 0!==this.fieldOptions.format?this.fieldOptions.format:this.getDefaultInputFormat()},formatValueToField:function(e){var t;return null!=e?(t=void 0!==this.fieldOptions.format?g.a.parse(e,this.fieldOptions.format):new Date(e),g.a.format(t,this.getDateFormat())):e},formatValueToModel:function(e){if(null!=e){var t=g.a.parse(e,this.getDateFormat());e=void 0!==this.fieldOptions.format?g.a.format(t,this.fieldOptions.format):t.valueOf()}return e}},Z={name:"field-dateTimePicker",mixins:[x],methods:Object(Q.a)({},J),mounted:function(){var e=this;this.$nextTick((function(){if(window.$&&window.$.fn.datetimepicker){var t=e.$el.querySelector(".form-control");$(e.$el).datetimepicker(Object(n.defaults)(e.fieldOptions,{format:e.getDefaultInputFormat()})).on("dp.change",(function(){e.value=t.value}))}else console.warn("Bootstrap datetimepicker library is missing. Please download from https://eonasdan.github.io/bootstrap-datetimepicker/ and load the script and CSS in the HTML head section!")}))},beforeDestroy:function(){window.$&&window.$.fn.datetimepicker&&$(this.$el).data("DateTimePicker").destroy()}},X=Object(d.a)(Z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group date"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,id:e.fieldID},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),e._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"input-group-addon"},[t("span",{staticClass:"glyphicon glyphicon-calendar"})])}],!1,null,null,null).exports,ee={name:"field-googleAddress",mixins:[x],data:function(){return{autocomplete:"",inputs:{street_number:"long_name",route:"long_name",country:"long_name",administrative_area_level_1:"long_name",administrative_area_level_2:"long_name",locality:"long_name",postal_code:"short_name"}}},mounted:function(){var e=this;this.$nextTick((function(){window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Autocomplete?(e.autocomplete=new google.maps.places.Autocomplete(e.$el,{types:["geocode"]}),e.autocomplete.addListener("place_changed",e.pipeAddress)):console.warn("Google Maps API is missing. Please add https://maps.googleapis.com/maps/api/js?key=YOUR_KEY&libraries=places script in the HTML head section!")}))},methods:{pipeAddress:function(){var e=this.autocomplete.getPlace();if(e){this.value=e.formatted_address;var t={};if(void 0!==e.address_components)for(var i=0;i<e.address_components.length;i++){var s=e.address_components[i].types[0];this.inputs[s]&&(t[s]=e.address_components[i][this.inputs[s]])}Object(n.isFunction)(this.fieldOptions.onPlaceChanged)&&this.fieldOptions.onPlaceChanged(this.value,t,e,this.model,this.schema)}},geolocate:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var i={lat:t.coords.latitude,lng:t.coords.longitude},s=new window.google.maps.Circle({center:i,radius:t.coords.accuracy});e.autocomplete.setBounds(s.getBounds())}))}}},te=Object(d.a)(ee,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,debounce:"500",id:e.fieldID},domProps:{value:e.value},on:{focus:function(t){return e.geolocate()},input:function(t){t.target.composing||(e.value=t.target.value)}}})}),[],!1,null,null,null).exports,ie={name:"field-image",mixins:[x],computed:{previewStyle:function(){return!1!==this.fieldOptions.preview?{display:"block","background-image":null!=this.value?"url("+this.value+")":"none"}:{display:"none"}},wrappedValue:{get:function(){return this.value&&0===this.value.indexOf("data")?"<inline base64 image>":this.value},set:function(e){e&&0===e.indexOf("http")&&(this.value=e)}}},watch:{model:function(){var e=this.$el.querySelector("input.file");e&&(e.value="")}},methods:{remove:function(){this.value=""},fileChanged:function(e){var t=this,i=new FileReader;i.onload=function(e){t.value=e.target.result},e.target.files&&e.target.files.length>0&&i.readAsDataURL(e.target.files[0])}}},se=(i(433),Object(d.a)(ie,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("input",{directives:[{name:"show",rawName:"v-show",value:!0!==e.fieldOptions.hideInput,expression:"fieldOptions.hideInput !== true"},{name:"model",rawName:"v-model",value:e.wrappedValue,expression:"wrappedValue"}],staticClass:"form-control link",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly},domProps:{value:e.wrappedValue},on:{input:function(t){t.target.composing||(e.wrappedValue=t.target.value)}}}),e._v(" "),!1!==e.fieldOptions.browse?i("input",{staticClass:"form-control file",attrs:{type:"file",disabled:e.disabled,name:e.inputName},on:{change:e.fileChanged}}):e._e(),e._v(" "),i("div",{staticClass:"preview",style:e.previewStyle},[i("div",{staticClass:"remove",attrs:{title:"Remove image"},on:{click:e.remove}})])])}),[],!1,null,null,null).exports),ae=(i(308),{name:"field-noUiSlider",mixins:[x],data:function(){return{slider:null}},watch:{model:function(){window.noUiSlider&&this.slider&&this.slider.noUiSlider&&this.slider.noUiSlider.set(this.value)}},computed:{containPips:function(){return void 0!==this.fieldOptions.pips},containTooltip:function(){return void 0!==this.fieldOptions.tooltips}},methods:{onChange:function(e){Object(n.isArray)(e)?this.value=[parseFloat(e[0]),parseFloat(e[1])]:this.value=parseFloat(e)},formatValueToField:function(e){null!==this.slider&&void 0!==this.slider.noUiSlider&&this.slider.noUiSlider.set(e)},formatValueToModel:function(e){if(void 0!==this.slider.noUiSlider)return e instanceof Array?[Number(e[0]),Number(e[1])]:Number(e)},getStartValue:function(){return null!=this.value?this.value:void 0!==this.fieldOptions.double?[this.fieldOptions.min,this.fieldOptions.min]:this.fieldOptions.min}},mounted:function(){var e=this;this.$nextTick((function(){window.noUiSlider?(e.slider=e.$el,window.noUiSlider.create(e.slider,Object(n.defaults)(e.fieldOptions||{},{start:e.getStartValue(),range:{min:e.fieldOptions.min,max:e.fieldOptions.max}})),e.slider.noUiSlider.on("change",e.onChange.bind(e))):console.warn("noUiSlider is missing. Please download from https://github.com/leongersen/noUiSlider and load the script and CSS in the HTML head section!")}))},beforeDestroy:function(){this.slider&&this.slider.noUiSlider.off("change")}}),ne=(i(434),Object(d.a)(ae,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"slider",class:{"contain-pips":this.containPips,"contain-tooltip":this.containTooltip},attrs:{disabled:this.disabled}})}),[],!1,null,null,null).exports),oe={name:"field-pikaday",mixins:[x],data:function(){return{picker:null}},methods:Object(Q.a)({},J),mounted:function(){var e=this;this.$nextTick((function(){window.Pikaday?e.picker=new window.Pikaday(Object(n.defaults)(e.fieldOptions,{field:e.$el,onSelect:function(){e.value=e.picker.toString()}})):console.warn("Pikaday is missing. Please download from https://github.com/dbushell/Pikaday/ and load the script and CSS in the HTML head section!")}))},beforeDestroy:function(){this.picker&&this.picker.destroy()}},re=Object(d.a)(oe,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})}),[],!1,null,null,null).exports,le={name:"field-staticmap",mixins:[x],computed:{mapLink:function(){if(this.value){var e,t,i=Object(n.defaults)(this.fieldOptions,{lat:"lat",lng:"lng",zoom:8,sizeX:640,sizeY:640});e=this.value[i.lat],t=this.value[i.lng];for(var s="http://maps.googleapis.com/maps/api/staticmap?center=".concat(e,",").concat(t,"&zoom=").concat(i.zoom,"&size=").concat(i.sizeX,"x").concat(i.sizeY),a=0,o=["scale","format","maptype","language","region","markers","path","visible","style","key","signature"];a<o.length;a++){var r=o[a];void 0!==i[r]&&(s+="&".concat(r,"=").concat(i[r]))}if(e&&t)return s}return""}}},de=(i(435),Object(d.a)(le,(function(){var e=this.$createElement;return(this._self._c||e)("img",{attrs:{src:this.mapLink}})}),[],!1,null,null,null).exports),ue={name:"field-switch",mixins:[x],methods:{formatValueToField:function(e){return null!=e&&this.fieldOptions.valueOn?e===this.fieldOptions.valueOn:e},formatValueToModel:function(e){return null!=e&&this.fieldOptions.valueOn?e?this.fieldOptions.valueOn:this.fieldOptions.valueOff:e}}},ce=(i(436),Object(d.a)(ue,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"checkbox",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,name:e.inputName,id:e.fieldID},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var i=e.value,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&(e.value=i.concat([null])):n>-1&&(e.value=i.slice(0,n).concat(i.slice(n+1)))}else e.value=a}}}),e._v(" "),i("span",{staticClass:"label",attrs:{"data-on":e.fieldOptions.textOn||"On","data-off":e.fieldOptions.textOff||"Off",for:e.fieldID}}),e._v(" "),i("span",{staticClass:"handle"})])}),[],!1,null,null,null).exports),pe={name:"field-vueMultiSelect",mixins:[x],computed:{options:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},customLabel:function(){return void 0!==this.fieldOptions.customLabel&&"function"==typeof this.fieldOptions.customLabel?this.fieldOptions.customLabel:void 0}},methods:{updateSelected:function(e){this.value=e},addTag:function(e,t){var i=this.fieldOptions.onNewTag;"function"==typeof i&&i(e,t,this.options,this.value)},onSearchChange:function(e,t){var i=this.fieldOptions.onSearch;"function"==typeof i&&i(e,t,this.options)},onSelect:function(){},onRemove:function(){},onOpen:function(){},onClose:function(){}},created:function(){this.$root.$options.components.multiselect||console.error("'vue-multiselect' is missing. Please download from https://github.com/monterail/vue-multiselect and register the component globally!")}},me=Object(d.a)(pe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("multiselect",{attrs:{id:e.fieldOptions.id,options:e.options,value:e.value,multiple:e.fieldOptions.multiple,"track-by":e.fieldOptions.trackBy||null,label:e.fieldOptions.label||null,searchable:e.fieldOptions.searchable,"clear-on-select":e.fieldOptions.clearOnSelect,"hide-selected":e.fieldOptions.hideSelected,placeholder:e.placeholder,"allow-empty":e.fieldOptions.allowEmpty,"reset-after":e.fieldOptions.resetAfter,"close-on-select":e.fieldOptions.closeOnSelect,"custom-label":e.customLabel,taggable:e.fieldOptions.taggable,"tag-placeholder":e.fieldOptions.tagPlaceholder,max:e.fieldOptions.max||null,"options-limit":e.fieldOptions.optionsLimit,"group-values":e.fieldOptions.groupValues,"group-label":e.fieldOptions.groupLabel,"block-keys":e.fieldOptions.blockKeys,"internal-search":e.fieldOptions.internalSearch,"select-label":e.fieldOptions.selectLabel,"selected-label":e.fieldOptions.selectedLabel,"deselect-label":e.fieldOptions.deselectLabel,"show-labels":e.fieldOptions.showLabels,limit:e.fieldOptions.limit,"limit-text":e.fieldOptions.limitText,loading:e.fieldOptions.loading,disabled:e.disabled,"max-height":e.fieldOptions.maxHeight,"show-pointer":e.fieldOptions.showPointer,"option-height":e.fieldOptions.optionHeight},on:{input:e.updateSelected,select:e.onSelect,remove:e.onRemove,"search-change":e.onSearchChange,tag:e.addTag,open:e.onOpen,close:e.onClose}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("\n\t\t"+e._s(e.fieldOptions.noResult)+"\n\t")])])}),[],!1,null,null,null).exports,he={component:f,schema:p,validators:w,abstractField:x,fieldsLoader:s,install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.fields&&t.fields.forEach((function(t){void 0!==t.name&&e.component(t.name,t)})),t.validators)for(var i in t.validators)({}).hasOwnProperty.call(t.validators,i)&&(w[i]=t.validators[i]);e.component("VueFormGenerator",f)}};t.b=he},315:function(e,t,i){"use strict";i(170),i(97),i(171),i(169),i(308),i(99),i(10),i(43),i(172),i(25),i(324),i(98),i(29),i(394);var s=i(309),a=i(306),n=i.n(a),o=i(318);t.a={mixins:[o.a],props:{primaryKey:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey?this.awComponentsConfig.primaryKey:"id"}},url:{type:[String,Function],default:""},apiUrl:{type:[String,Function],default:""},apiTimeout:{type:[String,Number],default:2e4,description:"the duration after with the request will be considered as failed"},apiRequestConfig:{type:Object,note:"This object define the configuration for talking to the api : filters, sort, pagination, etc",default:function(){return{dataPath:"",perPageField:"perPage",pageField:"page",filtersField:"filters",filtersOperator:"",sortField:"sort",searchField:"search"}}},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:function(){return{dataPath:"data.body",totalCountPath:"data.totalCount"}}},apiQueryParams:{type:Object,default:function(){},note:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestPermanentBodyParams:{type:Object,default:function(){return{}},description:"Object of data that will always be merged in the request sent to the server"},apiRequestPermanentQueryParams:{type:Object,default:function(){return{}},description:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestHeaders:{type:Object,default:function(){return{}}},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},mounted:function(){this.url&&console.warn("Url is @deprecated. Please use api url instead.")},computed:{params:function(){return console.info("BC this.params is deprecated, use this.apiQueryParams instead"),this.apiQueryParams},opts:function(){return n.a.merge(this.defaultOptions,this.options)},_url:function(){var e=this.apiUrl||this.url||this.getApiUrl("apiUrl")||this.getApiUrl("url");return"function"==typeof e?e({parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items}):e&&e.includes("{{")?this.templateParseUrl(e,Object(s.a)(Object(s.a)({},this.selectedItem),{},{parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items})):e},_translatedServerParams:function(){var e=this,t={};return Object.keys(this.serverParams||{}).forEach((function(i){var s=e.apiRequestConfig[i+"Field"]||i;t[s]=e.serverParams[i]})),t},_selectedItemUrl:function(){var e;return this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost".concat(this._url)),e="".concat(e.pathname,"/").concat(this.selectedItem[this.primaryKey]).concat(e.search)):e="".concat(this._url,"/").concat(this.selectedItem[this.primaryKey]),e}},created:function(){if(!this.$http)try{var e=i(331);this.$http=e}catch(e){}},methods:{getData:function(e){return this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?n.a.get(e,this.apiResponseConfig.dataPath):e.data},getDataCount:function(e){return this.apiResponseConfig&&this.apiResponseConfig.totalCountPath&&0!=this.apiResponseConfig.totalCountPath?n.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount},mergeSelectedItemWithRequestProps:function(){this.apiRequestPermanentBodyParams&&(this.selectedItem=n.a.merge(this.selectedItem,this.apiRequestPermanentBodyParams))},getApiUrl:function(e){return this[e]||this.mergedOptions&&this.mergedOptions[e]||this.options&&this.options[e]||this._model&&this._model[e]||this.field&&this.field.url||this.field&&this.field.fieldoptions.url}}}},317:function(e,t,i){"use strict";i(170),i(24),i(310),i(97),i(169),i(99),i(43),i(316),i(98);var s=i(320),a=i(306),n=i.n(a),o=i(381),r=i(382),l={name:"AwesomeFilter",mixins:[i(307).a],components:{AwesomeFilterOperator:o.a,AwesomeFilterValue:r.a},props:{advancedFilters:{type:Array,default:function(){return[]}},field:{type:String},fieldLabel:{type:String},defaultOperator:{type:String},fields:{type:Array},displayFilters:{type:Boolean,default:!1,note:"State if AwesomeFilter is for displaying active filters"},editFilters:{type:Boolean,default:!1,note:"State if AwesomeFilter is in a PopperJS"},permanentFilter:{type:Boolean,default:!1,note:"State if AwesomeFilter is in custom filter mode (Always display filter)"},permanentInput:{type:Boolean,default:!1,note:"State if AwesomeFilter is in custom input mode (Always display filter) that fire call on API"}},data:function(){return{currentField:{},currentValue:"",currentOperator:{},selectedFilters:[]}},methods:{addFilter:function(){var e=["$isNull","$isNotNull","$isDefined","$isNotDefined"].indexOf(this.currentOperator.value)>-1||this.currentValue;if(Object.keys(this.currentField).length){var t={field:this.currentField,value:e,filter:this.currentOperator};this.selectedFilters.push(t),this.permanentFilter||this.permanentInput||(this.currentField={},this.currentValue="",this.currentOperator={shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},this.$refs.filterField=""),this.parseFilter(this.selectedFilters)}},removeFilter:function(e){this.selectedFilters=n.a.without(this.selectedFilters,e),this.parseFilter(this.selectedFilters)},parseFilter:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dispatch:!0},a={};e.forEach((function(e){var i=Object(s.a)({},e.field.field,Object(s.a)({},e.filter.value,e.value));t.permanentFilter||t.permanentInput||!n.a.has(a,"".concat(e.field.field,".").concat(e.filter.value))?n.a.has(a,"".concat(e.field.field))||n.a.has(a,"$relation")?a=i:n.a.merge(a,i):a[e.field.field][e.filter.value]=n.a.flattenDeep([a[e.field.field][e.filter.value],e.value]),t.permanentInput&&(e.field.field.split(".").length>1?a={$relation:n.a.cloneDeep(a)}:n.a.merge(a,i))})),i.dispatch&&this.$emit("update-filter",a,e)},selectFilter:function(e){e.target.value?this.currentField=this._filterableFields.find((function(t){return t.field===e.target.value})):this.currentField={}}},computed:{_filterableFields:function(){return this.fields.filter((function(e){return!e.filterOptions||!e.filterOptions.enabled}))}},watch:{advancedFilters:function(e){this.selectedFilters=e},currentOperator:function(){(this.permanentFilter||this.permanentInput)&&this.addFilter()},currentValue:function(){(this.permanentFilter||this.permanentInput)&&this.addFilter()}},mounted:function(){var e=this;this.currentOperator=this.defaultOperator?{shortText:this.defaultOperator,text:this.$t("AwesomeFilter.filters.".concat(this.defaultOperator)),value:this.defaultOperator}:{shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},(this.permanentFilter||this.permanentInput)&&(this.fields&&this.fields.length?this.currentField=this.fields.filter((function(t){return t.field===e.field}))[0]:this.currentField={field:this.field,label:this.field,type:"string"})}},d=(i(439),i(42)),u=Object(d.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-filter"},[e.editFilters?i("div",{staticClass:"filtering"},[i("h6",{staticClass:"card-subtitle text-muted mb-2"},[e._v(e._s(e.$t("AwesomeFilter.labels.filterData")))]),e._v(" "),i("form",{staticClass:"container",on:{submit:function(t){return t.preventDefault(),e.addFilter()}}},[i("div",{staticClass:"dropdown column  pl-0"},[i("select",{ref:"filterField",staticClass:"form-control btn-outline-primary",attrs:{placeholder:Object.keys(e.currentField).length?e.currentField.label:e.$t("AwesomeFilter.labels.fields")},on:{change:e.selectFilter}},[i("option",{staticClass:"text-primary",attrs:{value:""},on:{click:function(t){t.preventDefault(),e.currentField={}}}},[e._v(e._s(e.$t("AwesomeFilter.labels.fields")))]),e._v(" "),i("option",{staticClass:"text-center",attrs:{disabled:""}},[e._v("_________")]),e._v(" "),e._l(e._filterableFields,(function(t,s){return i("option",{key:s,domProps:{value:t.field},on:{click:function(i){e.currentField=t}}},[e._v("\n            "+e._s(t.label)+"\n          ")])}))],2)]),e._v(" "),i("awesome-filter-operator",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"in-popper":""},on:{"update:currentFilter":function(t){e.currentOperator=t},"update:current-filter":function(t){e.currentOperator=t}}}),e._v(" "),i("awesome-filter-value",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"current-value":e.currentValue},on:{"update:currentValue":function(t){e.currentValue=t},"update:current-value":function(t){e.currentValue=t}}}),e._v(" "),i("div",{staticClass:"awesome-filter-add-block pt-1 "},[i("button",{staticClass:"btn btn-primary btn-block chip-button",attrs:{disabled:!Object.keys(e.currentField).length,type:"button"},on:{click:function(t){return t.preventDefault(),e.addFilter()}}},[i("i",{staticClass:"fa fa-save"})])])],1)]):e._e(),e._v(" "),e.permanentFilter||e.permanentInput?i("div",[i("div",{staticClass:"chip-groups"},[i("div",{staticClass:"chip chip-primary dark chip-permanent"},[i("div",{staticClass:"chip-content"},[i("span",{staticClass:"form-control"},[e._v(e._s(e.fieldLabel||e.field))]),e._v(" "),i("awesome-filter-operator",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"permanent-input":e.permanentInput},on:{"update:currentFilter":function(t){e.currentOperator=t},"update:current-filter":function(t){e.currentOperator=t}}}),e._v(" "),i("awesome-filter-value",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"current-value":e.currentValue,"permanent-input":e.permanentInput},on:{"update:currentValue":function(t){e.currentValue=t},"update:current-value":function(t){e.currentValue=t}}})],1)])])]):e._e(),e._v(" "),e.displayFilters&&e.advancedFilters&&e.advancedFilters.length?i("div",{staticClass:"active-filter"},[i("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v(e._s(e.$t("AwesomeFilter.labels.activeFilter")))]),e._v(" "),i("div",{staticClass:"chip-groups"},e._l(e.advancedFilters,(function(t,s){return i("div",{key:s,staticClass:"chip chip-primary bg-primary dark"},[i("div",{staticClass:"chip-content"},[i("span",{staticClass:"form-control"},[e._v(e._s(t.field?t.field.label:""))]),e._v(" "),i("strong",{staticClass:"ml-2 mr-2"},[e._v("\n            "+e._s(t.filter?t.filter.shortText||t.filter.text:"")+"\n          ")]),e._v(" "),"object"==typeof t.value?i("div",e._l(t.value,(function(t,s){return i("span",{key:s},[e._v("\n              "+e._s(t)+"\n            ")])})),0):i("div",[e._v(e._s(t.value))]),e._v(" "),i("button",{staticClass:"btn text-muted",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),e.removeFilter(t)}}},[i("i",{staticClass:"fa fa-times-circle"})])])])})),0)]):e._e()])}),[],!1,null,null,null);t.a=u.exports},318:function(e,t,i){"use strict";i(169);var s=i(309),a=i(306),n=i.n(a),o=i(379),r=i(314),l=i.n(r),d=i(390);l.a.extend(d),t.a={props:{},mixins:[o.a],methods:{contextDataMerger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(a.merge)({parent:this.parent,context:this,currentItem:this.selectedItem||e,items:this.items,$state:this.$store&&this.$store.state,userHasRole:this.userHasRole,componentMode:this.mode||this.displayMode,moment:l.a},e)},templateParser:function(e,t){return t=this.contextDataMerger(t),a.templateSettings.interpolate=/{{([\s\S]+?)}}/g,Object(a.template)(e)(t)},templateParseText:function(e,t){try{return this.templateParser(e,t)}catch(i){return console.warn("[templateParserText]",i.message,t),e}},templateParseUrl:function(e,t){try{return this.templateParser(e,t)}catch(t){return console.warn("[templateParser]",t.message),e}},templateParseBoolean:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(!e||-1===e.indexOf("{{"))return e;var i=this.templateParser(e,t);return"1"===i||"true"===i||(0===i||"0"===i||"false"===i||console.warn("[VAC] boolean templates must revolve to a boolean result.",i,"was returned for template",e),!1)}catch(e){return console.warn("[templateParseBoolean]",e.message),!1}},templateParseFunc:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return e&&"function"==typeof e?e(t=this.contextDataMerger(t)):e}catch(t){return console.warn("[templateParseFunc]",t.message),e}},templateParseConditionalField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"boolean"==typeof e?e:Object(a.isString)(e)?this.templateParseBoolean(e,t):Object(a.isFunction)(e)?!!this.templateParseFunc(e,t):e},getItemProperty:function(e,t){return e?t&&t.indexOf("{{")>-1&&t.indexOf("}}")>-1?this.templateParseText(t,Object(s.a)(Object(s.a)({},e),{},{currentItem:e})):n.a.get(e,t):""},parseUrl:function(e,t){return this.templateParseUrl(e,Object(s.a)(Object(s.a)({},this.selectedItem),{},{parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items},t))}}}},319:function(e,t,i){"use strict";i.r(t),i.d(t,"createDefaultObject",(function(){return a})),i.d(t,"getMultipleFields",(function(){return n})),i.d(t,"mergeMultiObjectFields",(function(){return o})),i.d(t,"slugifyFormID",(function(){return r})),i.d(t,"slugify",(function(){return l}));i(10),i(43),i(100),i(71),i(349);var s=i(306),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(s.each)(e.fields,(function(i){void 0===Object(s.get)(t,i.model)&&void 0!==i.default&&(Object(s.isFunction)(i.default)?Object(s.set)(t,i.model,i.default(i,e,t)):Object(s.isObject)(i.default)||Object(s.isArray)(i.default)?Object(s.set)(t,i.model,Object(s.cloneDeep)(i.default)):Object(s.set)(t,i.model,i.default))})),t},n=function(e){var t=[];return Object(s.each)(e.fields,(function(e){!0!==e.multi&&!0!==e.multiple||t.push(e)})),t},o=function(e,t){var i={},a=n(e);return Object(s.each)(a,(function(e){var a,n=!0,o=e.model;Object(s.each)(t,(function(e){var t=Object(s.get)(e,o);n?(a=t,n=!1):a!==t&&(a=void 0)})),Object(s.set)(i,o,a)})),i},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(s.isNil)(e.id)?t+(e.inputName||e.label||e.model||"").toString().trim().toLowerCase().replace(/ |_/g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-]+)/g,""):t+e.id},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")}},321:function(e,t,i){"use strict";i(308);var s={props:{options:{},value:[String,Boolean,Array,Object,Number,Date,Function],type:{type:String,values:["image","boolean","url","html","object","array","date","relation","checkbox"]},src:String,row:Array,format:[String,Function],inputFormat:String,field:String,component:[String,Object],relation:String,relationUrl:String,relationLabel:String,relationKey:String,displayField:String,multiple:Boolean,storePath:String,store:Array,displayLabelCache:{type:Object,default:function(){return null}},onClickUrl:[String,Function],displayActions:{type:[Boolean,Number],default:!0,description:"display contextual actions when hovering the item "},isClickable:{type:[Boolean,Number],default:!0,description:"Whether it's possible to click on the item"},tag:{type:[String,Object],default:"div"},prefix:String,suffix:String,styles:String,classes:String,imageClasses:[String,Array,Object],imageStyles:[String,Array,Object],isSafe:{type:Boolean,default:!1},embed:{type:Boolean,default:!1,description:"Embed the target content into an iframe"}},data:function(){return{}},methods:{clickOnItem:function(e){this.$emit("on-awesome-display-clicked",e)}}},a=i(315),n={name:"DisplayImage",mixins:[s],methods:{openImageInTab:function(e){window.open(e,"_blank")}}},o=(i(420),i(42)),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[e.$props.src?i("div",{staticClass:"pointer"},[i("img",{staticClass:"aw-display-image-img",class:e.$props.imageClasses,style:e.$props.imageStyles,attrs:{src:e.$props.src,alt:"image"}}),e._v(" "),e.value?i("div",{staticClass:"image-actions"},[i("button",{staticClass:"btn btn-sm p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openImageInTab(e.$props.src)}}},[i("i",{staticClass:"fa fa-external-link"})])]):e._e()]):e._e()])}),[],!1,null,null,null).exports,l={name:"DisplayBoolean",mixins:[s]},d=Object(o.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow",class:e.$props.classes,style:e.$props.styles,attrs:{"data-value":e.$props.value}},"div",e.$props,!1),[i("i",{staticClass:"fa",class:{"fa-check text-success":e.$props.value,"fa-times text-danger":!e.$props.value&&void 0!==e.$props.value}})])}),[],!1,null,null,null).exports,u=(i(43),i(71),i(314)),c=i.n(u),p=i(390);c.a.extend(p);var m={name:"DisplayDate",mixins:[s],computed:{computedFormat:function(){if(this.format)return this.format;switch(this.type){case"datetime":return"DD/MM/YYYY <br/> hh:mm";case"date":return"DD/MM/YYYY";case"time":return"hh:mm";default:return""}},computedDate:function(){return this.value?(e=void 0!==this.inputFormat?c()(this.value,this.inputFormat).toDate():new Date(this.value),c()(e).format(this.computedFormat).replace(/<(?!br\s*\/?)[^>]+>/g,"")):"...";var e}}},h=(i(421),Object(o.a)(m,(function(){var e=this.$createElement;return(this._self._c||e)("div",this._b({staticClass:"aw-display-date pointer",class:this.$props.classes,domProps:{innerHTML:this._s(this.computedDate)}},"div",this.$props,!1))}),[],!1,null,null,null).exports),f={name:"DisplayUrl",mixins:[s]},v=Object(o.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow",class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[e.$props.value?i("a",{staticClass:"ajax-table-href ",class:e.embed?"pull-right":"",attrs:{href:e.$props.value,target:"_blank"}},[e.embed?e._e():i("span",[e._v("\n      "+e._s(e.$props.value)+"\n    ")]),e._v(" "),i("i",{staticClass:"fa fa-external-link"})]):e._e(),e._v(" "),e.embed&&e.$props.value?[i("iframe",e._b({staticClass:"aw-display-iframe ",class:e.$props.classes,attrs:{value:"",src:e.$props.value,frameborder:"0"}},"iframe",e.$props,!1))]:e._e()],2)}),[],!1,null,null,null).exports,g={name:"DisplayHtml",mixins:[s]},b=(i(422),Object(o.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isSafe?i("div",e._b({staticClass:"pointer",class:e.$props.classes,style:e.$props.styles,domProps:{innerHTML:e._s(e.$props.value)}},"div",e.$props,!1)):e._e(),e._v(" "),e.isSafe?e._e():i("iframe",e._b({staticClass:"aw-display-iframe",class:e.$props.classes,style:e.$props.styles,attrs:{value:"",srcdoc:e.$props.value,frameborder:"0"}},"iframe",e.$props,!1))])}),[],!1,null,null,null).exports),y=(i(171),i(172),{name:"DisplayObject",mixins:[s,i(318).a],computed:{_valueIsArray:function(){return Array.isArray(this.value)},_useArrayMode:function(){return this.multiple||this._valueIsArray},_value:function(){return this.getValue(this.value)}},methods:{getValue:function(e){var t=this.displayField&&void 0!==e?e[this.displayField]:e;return this.format&&this.format.includes("{{")?this.templateParser(this.format,{value:t,currentItem:e}):t}}}),C=Object(o.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pointer text-avoid-overflow aw-display-object",class:e.$props.wrapperClasses,style:e.$props.wrapperStyles,attrs:{value:e.$props.value,field:e.$props.field}},[i("div",{class:e.$props.classes,style:e.$props.styles},[e._useArrayMode||e.multiple?[e._l(e.$props.value,(function(t,s){return[i("div",{key:s,staticClass:"badge badge-info aw-display-object-item mr-1"},[[e._v("\n            "+e._s(e.getValue(t))+"\n          ")],e._v(" "),e._valueIsArray?e._e():[i("label",[e._v(e._s(s)+":")]),e._v(" "),i("label",{},[e._v(e._s(t))]),e._v(" |\n          ")]],2)]}))]:[e._v("\n      "+e._s(e._value)+"\n    ")]],2)])}),[],!1,null,null,null).exports,_=(i(170),i(310),i(169),i(306)),w=i.n(_),O=i(311),$=i(307),F={name:"DisplayRelation",mixins:[s,a.a,O.a,$.a],computed:{_relationUrl:function(){return this.relationUrl||this.relation},_relationLabel:function(){return this.relationLabel||"label"},_label:function(){return this.storePath||this.store?this.getStoreLabel(this.value):this.getApiLabel(this.value)},_displayLabelCache:function(){return this.displayLabelCache||this.awComponentsConfig.displayLabelsCache||this.internalCache||{}},_values:function(){return this.$props.value?Array.isArray(this.$props.value)?this.$props.value:[this.$props.value]:this.$props.value}},mounted:function(){this.relationUrl&&this.value&&this.$awEventBus&&this.$awEventBus.$on("displayRelation-".concat(this.relationUrl,"-").concat(this.value),this.updateComponent)},beforeDestroy:function(){this.$awEventBus&&this.$awEventBus.$off("displayRelation-".concat(this.relationUrl,"-").concat(this.value),this.updateComponent)},data:function(){return{internalCache:{},timeoutId:null}},methods:{onClick:function(){var e=this;this.isClickable&&(this.timeoutId?(clearTimeout(this.timeoutId),this.timeoutId=null,this.goToRelation(this.value)):this.timeoutId=setTimeout((function(){e.timeoutId=null}),200))},kebabCase:w.a.kebabCase,isFunction:w.a.isFunction,getLabel:function(e){return this.storePath||this.store?this.getStoreLabel(e):this.getApiLabel(e)},goToRelation:function(e){if(e&&this.onClickUrl)return w.a.isFunction(this.onClickUrl)?this.onClickUrl(e):this.$router.push(this.onClickUrl+"/"+e);e&&this.$router.push("/app/"+this.kebabCase(this.relation)+"/"+e)},formatLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t||this._relationLabel;return i.indexOf("{{")>-1?this.templateParser(i,e):w.a.get(e,i,"")},getStoreLabel:function(e){var t=this;if(e){if(this._displayLabelCache[e]&&this._displayLabelCache[e]!==e)return this._displayLabelCache[e];if(this.store||this.storePath&&this.$store&&w.a.get(this.$store.state,this.storePath)){var i=this.store?this.store:this.$store&&w.a.get(this.$store.state,this.storePath);if(i){var s=i&&i.find((function(i){return i[t.relationKey]===e}));if(s){var a=s[this.relationLabel]||this.templateParser(this.relationLabel,s);return a&&this.$set(this._displayLabelCache,e,a),a||e}}}}},getApiLabel:function(e){var t=this;if(!this.relationUrl&&e&&this.relationLabel){var i=w.a.isObject(e)&&this.relationLabel?e[this.relationLabel]||this.templatingMixin(this.relationLabel,e):null;if(i)return i}var s="".concat(this.relationUrl,"/").concat(e);return e&&this._displayLabelCache[s]||(this.$set(this._displayLabelCache,s,e),this.$http.get(s).then((function(i){var a=t.apiResponseConfig&&t.apiResponseConfig.dataPath&&0!=t.apiResponseConfig.dataPath?w.a.get(i,t.apiResponseConfig.dataPath):i.data;i.data.totalCount&&(t.totalCount=i.data.totalCount);var n="".concat(t.formatLabel(a,t.relationLabel));return n?t.$set(t._displayLabelCache,s,n):t.$set(t._displayLabelCache,s,e),t.$awEventBus&&t.$awEventBus.$emit("displayRelation-".concat(t.relationUrl,"-").concat(t.value)),t.$forceUpdate(),n})).catch((function(i){console.warn("getApiLabel result",t.relationLabel,i.message),t.$set(t._displayLabelCache,s,e)}))),this._displayLabelCache[s]},copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},copy:function(e){this.copyToClipboard("".concat(this.getLabel(e))),this.$awNotify&&this.$awNotify(this.$te("awesome-display.value-copied")?this.$t("awesome-display.value-copied"):"Value copied")},updateComponent:function(){this.$forceUpdate()}}},x=(i(423),Object(o.a)(F,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow aw-display-relation"},"div",e.$props,!1),[e._values&&e._values.length?[e._l(e._values,(function(t){return[i("div",{key:t,attrs:{title:e.getLabel(t)+" ("+t+")",tooltip:t}},[t?i("span",{staticClass:"badge badge-info pointer",on:{click:e.onClick}},[e._v("\n          "+e._s(e.getLabel(t))+"\n        ")]):e._e(),e._v(" "),e.displayActions?[t?i("span",{staticClass:"copy-link",on:{click:function(i){return e.copy(t)}}},[e._v("\n             "),i("i",{staticClass:"fa fa-clone text-info"})]):e._e(),e._v(" "),t&&!e.onClickUrl?i("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.relation)+"/"+t}},[e._v("\n             "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e(),e._v(" "),t&&e.onClickUrl&&e.isFunction(e.onClickUrl)?i("div",{staticClass:"external-link",on:{click:function(i){return e.onClickUrl(t)}}},[e._v("\n             "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e(),e._v(" "),t&&e.onClickUrl&&!e.isFunction(e.onClickUrl)?i("router-link",{staticClass:"external-link",attrs:{to:e.onClickUrl+"/"+t}},[e._v("\n             "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e()]:e._e()],2)]}))]:i("div",[e._v("\n    ...\n  ")])],2)}),[],!1,null,null,null).exports),A={name:"DisplayCheckbox",mixins:[s]},k=Object(o.a)(A,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",this._b({staticClass:"pointer text-avoid-overflow",class:this.$props.classes,style:this.$props.styles},"div",this.$props,!1),[!0===this.$props.value?t("label",[t("input",{staticClass:"ajax-table-checkbox",attrs:{type:"checkbox",checked:"",disabled:""}})]):t("label",[t("input",{staticClass:"ajax-table-checkbox",attrs:{type:"checkbox",disabled:""}})])])}),[],!1,null,null,null).exports,S={name:"DisplayDefault",mixins:[s],computed:{valueDisplay:function(){return void 0!==this.value&&null!==this.value?this.value:"..."},valueClass:function(){return this.$props.value&&this.$props.value&&Object(_.isString)(this.$props.value)?this.$props.value.replace(/(<([^>]+)>)/gi,"").replace(/ /g,""):""}}},P=Object(o.a)(S,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.tag,e._b({tag:"div",class:e.$props.class+" aw-display-field ajax-table-col-"+e.$props.field+" ajax-table-col-value-"+e.valueClass+" "+e.$props.classes,style:e.$props.styles,on:{click:function(t){return e.$emit("clicked",e.$props)}}},"div",e.$props,!1),[e._v("\n  "+e._s(e.prefix||"")+e._s(e.valueDisplay)+e._s(e.suffix||"")+"\n")])}),[],!1,null,null,null).exports,I={name:"AwesomeDisplay",mixins:[s,a.a],components:{DisplayCheckbox:k,DisplayBoolean:d,DisplayImage:r,DisplayUrl:v,DisplayHtml:b,DisplayObject:C,DisplayRelation:x,DisplayDefault:P,DisplayDate:h},methods:{onClick:function(e){this.clickOnItem(e)}}},j=Object(o.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return"image"===e.$props.type?i("display-image",e._b({staticClass:"aw-display",attrs:{src:e.$props.value}},"display-image",e.$props,!1)):"boolean"===e.$props.type?i("display-boolean",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-boolean",e.$props,!1)):"url"===e.$props.type?i("display-url",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-url",e.$props,!1)):"html"===e.$props.type?i("display-html",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-html",e.$props,!1)):"object"===e.$props.type?i("display-object",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-object",e.$props,!1)):"checkbox"===e.$props.type?i("display-checkbox",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-checkbox",e.$props,!1)):"date"===e.$props.type||"datetime"===e.$props.type?i("display-date",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-date",e.$props,!1)):"relation"===e.$props.type?i("display-relation",e._b({staticClass:"aw-display",attrs:{relation:e.relation,relationKey:e.relationKey,relationUrl:e.relationUrl,relationLabel:e.relationLabel,value:e.$props.value}},"display-relation",e.$props,!1)):e.$props.component?i(e.$props.component,e._b({tag:"div",staticClass:"aw-display aw-display-custom",attrs:{value:e.$props.value}},"div",e.$props,!1)):i("display-default",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-default",e.$props,!1))}),[],!1,null,null,null);t.a=j.exports},322:function(e,t,i){"use strict";i(310);var s=i(306),a=i.n(s);t.a={props:{modelsStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.modelsStorePath||"data.models"},note:"Location of the array in the vuex state that contains all the models eg if you provide data.models => we will look ink this.$store.state.data.models"}},methods:{getModelFromStore:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e&&(t=t||this.modelsStorePath,this.$store&&this.$store.state))if(t){var i=a.a.get(this.$store,t)||a.a.get(this.$store.state,t);if(i&&Array.isArray(i))return i.find((function(t){return t.identity===e||t.modelName===e}))}else console.warn("[relationMixin][modelsStorePath] path not defined",t)},getRelationUrl:function(e){if(e.relationUrl||e.relation){if(e.relationUrl)return e.relationUrl;var t=this.getModelFromStore(e.relation);return t||console.warn("[relationMixin][raceCondition] model not found for",e.relation,"in",this.modelsStorePath),t?t.url||t.apiUrl:""}},getRelationKey:function(e){if(e.relationKey||e.relation){if(e.relationKey)return e.relationKey;if(e.foreignKey)return e.foreignKey;var t=this.getModelFromStore(e.relation);return t&&t.primaryKeyField||this.primaryKey}},getRelationLabel:function(e){if(e.relationLabel||e.relation){if(e.relationLabel)return e.relationLabel;var t=this.getModelFromStore(e.relation);return t&&t.displayField||"label"}}}}},323:function(e,t,i){var s=i(1),a=i(389).entries;s({target:"Object",stat:!0},{entries:function(e){return a(e)}})},325:function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return a}));var s={noActions:!1,search:!0,filter:!0,create:!1,edit:!0,view:!0,delete:!0,export:!1,exportLocal:!1,import:!1,dateFilter:!1,refresh:!0,autoRefresh:!0,advancedFiltering:!0,columnsFilters:!0,bulkDelete:!0,bulkEdit:!0,itemsPerRow:!0,editLayout:!0,collapse:!0,formPagination:!0,pagination:!0,changDisplayMode:!0},a={scrollSensitivity:200,animation:200,moveList:!1,moveCard:!0,fields:{title:"",subtitle:"",image:"",description:"",labels:"",users:""},splittingField:"",splittingValues:null,customListActions:[],sortField:"",sortOrder:"asc"}},327:function(e,t,i){"use strict";i.r(t);i(170),i(24),i(310),i(442),i(97),i(171),i(169),i(173),i(70),i(308),i(323),i(10),i(352),i(43),i(377),i(172),i(71),i(98),i(29);var s=i(320),a=i(72),n=i(306),o=i.n(n),r=i(393),l=i.n(r),d=i(375),u=i(311),c=i(315),p=i(376),m=i(322),h=i(312),f=i(350),v={props:{primaryKey:{type:String},primaryKeyField:{type:String},identity:{type:String,required:!0},displayField:{type:String},name:{type:String},pluralName:{type:String}},computed:{},methods:{}},g=i(307),b=i(325),y=i(378),C=i.n(y),_=i(328),w=i(346),O=i(345),$=i(347),F=i(344),x=i(329),A={props:{value:{type:String,validator:function(e){return!e||["list","table","kanban"].includes(e)},values:["list","table","kanban"]},enabledModes:{type:Array,default:function(){return["list","table","kanban"]}}}},k=(i(400),i(42)),S=Object(k.a)(A,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"btn-group pull-left aw-list-mode-selector"},[!e.enabledModes||e.enabledModes.includes("table")?i("button",{staticClass:"btn btn-link pl-0 pr-2 pv-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","table")}}},[i("i",{staticClass:"fa fa-table",class:"table"===e.value?"text-primary":"text-default"})]):e._e(),e._v(" "),!e.enabledModes||e.enabledModes.includes("list")?i("button",{staticClass:"btn btn-link p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","list")}}},[i("i",{staticClass:"fa fa-list",class:"list"===e.value?"text-primary":"text-default"})]):e._e(),e._v(" "),!e.enabledModes||e.enabledModes.includes("kanban")?i("button",{staticClass:"btn btn-link p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$emit("input","kanban")}}},[i("i",{staticClass:"fa fa-columns",class:"kanban"===e.value?"text-primary":"text-default"})]):e._e()])}),[],!1,null,"8454a9d4",null).exports,P=i(319),I=(i(391),{mode:"local",dataPaginationMode:"local",defaultOptions:!0,url:null,columns:null,createPath:null,viewPath:null,editPath:null,queryParams:{},stats:!1,autoRefresh:!1,autoRefreshInterval:20,initialDisplayMode:"table",detailPageMode:"sidebar",detailPageLayout:null,columnsDisplayed:10}),j={displayFields:[],imageField:"",titleField:"",subtitleField:"",descriptionField:""},R={name:"AwesomeCrud",introduction:"A component to quickly create a table UI with edit capabilities",description:"This component create tables and forms edit data based on a json schema.",components:{AwesomeTable:_.a,EnyoCrudStatsSection:w.a,AwesomeForm:O.default,AwesomeList:$.a,AwesomeKanban:F.a,AwesomeActionList:x.a,ListingModeSelector:S},mixins:[f.a,g.a,u.a,c.a,p.a,m.a,d.a,h.a,v],props:{title:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},modelName:{type:String,required:!1,note:"Deprecated use identity"},identity:{type:String,required:!0,note:"Unique collection identifier"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},layout:{type:[Object,Array],required:!1,default:function(){return[]},note:"The layout of the create/edit/view pages"},detailPageMode:{type:String,description:"the way the detail page shows when you open an item from the list",values:["modal","fade","slide","sidebar","sidebar","sidebar","fullscreen","page","sideform","bottomform"],validator:function(e){return!e||["modal","fade","slide","sidebar","sidebar","sidebar","fullscreen","page","sideform","bottomform"].includes(e)}},detailPageLayout:{type:Array,default:void 0,note:"Defines the layout of the detail page"},crudNeedsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the table list should be refreshed"},needsRefresh:{type:Boolean,default:!1,note:"Define whether the content of the component should be refreshed"},nestedSchemas:{type:Array,required:!1,default:function(){return[]},note:"@deprecated, use `nestedModels`"},nestedModels:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},nestedDisplayMode:{type:String,required:!1,values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.\n        'You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,description:"The identity of the parent"},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},translations:{type:Object,required:!1,default:function(){return{AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel"}}}},note:"Translation labels to use when vue-i18n is not present"},options:{type:Object,default:function(){return{}}},listOptions:{type:Object,default:function(){return j}},kanbanOptions:{type:Object,default:function(){return{}}},actions:{type:Object,default:function(){return b.a},note:"actions active in this instance"},customTopRightActions:{type:Array,default:function(){return[]},note:"custom action in top right of awCrud"},customInlineActions:{type:Array,default:function(){return[]},note:"custom action in footer and in awTable row"},customBulkActions:{type:Array,default:function(){return[]},note:"custom action for bulk"},customTableTopActions:{type:Array,default:function(){return[]},note:"custom table top actions"},customFormTopActions:{type:Array,default:function(){return[]},note:"custom top action to display inside view and edit forms"},customTitleBarActions:{type:Array,default:function(){return[]},note:"custom top action to display inside the title header bar on the right"},savePaginationState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},saveColumnsState:{type:Boolean,default:!0,description:"Whether we should save the state of the navigation (page, filters, sort etc"},tableRowClickAction:{type:String,default:"view",values:["view","edit","none","delete"],description:"The action to execute when the user clicks on a row"},tableRowDoubleClickAction:{type:String,default:"none",values:["view","edit","none","delete"],description:"The action to execute when the user double clicks on a row"},awFormDisplayHeader:{type:Boolean,default:!0,description:"Whether we should display the header (title) of awesomeform or not"},tableDataLimit:{type:Number,default:1e3,description:"Define the number of items to get from the api for the table. This prevents overloading the table with too much data"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},scrollEventTarget:{type:String,title:"The selector to use for registering scroll events",description:"This prop is used for registering the scroll event (needed for sticky forms)"},enabledListingModes:{type:Array,default:function(){return["table","kanban","list"]},description:"The listing modes that are enabled for this component"},postCreateDisplayMode:{type:String,values:["listing","edit","view"],validator:function(e){return["list","edit","view"].includes(e)},description:"The location to redirect after a successful create",default:"list"},postEditDisplayMode:{type:String,values:["listing","edit","view"],validator:function(e){return["list","edit","view"].includes(e)},description:"The location to redirect after a successful edit",default:"view"}},data:function(){return{parentPath:"",selectedItem:{},selectedItems:[],previousDisplayMode:"",listDisplayMode:"table",displayMode:"table",isRefreshing:!1,tableNeedsRefresh:!1,awesomeEditNeedsRefresh:!1,statsNeedsRefresh:!1,nestedCrudNeedsRefresh:!1,internalOptions:{},innerNestedSchemas:[],activeNestedTab:"general",formOptions:{validateAsync:!1,validateAfterLoad:!1,validateAfterChanged:!0,fieldIdPrefix:"AwesomeCrud"},supportedListingDisplayModes:["table","list","kanban"],editLayoutMode:!1,itemsList:[],isSideformSticky:!1,scrollTarget:null,awFormWidth:null,previousModelIdentity:null}},computed:{_title:function(){return this._model&&this._model.pageTitle?this.$te(this._model.pageTitle)?this.$t(this._model.pageTitle):this._model.pageTitle:!1!==this.title&&(this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):o.a.startCase(this._model.singularName):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):o.a.startCase(this.identity):"")},_titlePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):o.a.startCase(this._model.namePlural):this.title?this.$te(this.title+"s")?this.$t(this.title+"s"):this.title+"s":this.identity?this.$te("app.labels.".concat(this.identity,"s"))?this.$t("app.labels.".concat(this.identity,"s")):o.a.startCase(this.identity+"s"):""},_listingComponentTitle:function(){return!1!==this.title&&(this.title?this.$te(this.title)?this.$t(this.title):this.title:this.$t("AwesomeCrud.labels.manageTitle")+" "+this._titlePlural)},_name:function(){return this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):this._model.name:this.name?this.$te(this.name)?this.$t(this.name):this.name:this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):o.a.startCase(this.identity):""},_model:function(){return this.model||this.getModelFromStore(this.identity)},_namePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):o.a.startCase(this._model.namePlural):this.namePlural?this.$te(this.namePlural)?this.$t(this.namePlural):o.a.startCase(this.namePlural):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):o.a.startCase(this.identity):""},schemaComputed:function(){return this.schema||this._model&&this._model.schema},formSchema:function(){return this.schemaComputed?this.parseSchema(this.schemaComputed):[]},listFieldsComputed:function(){var e=this.tableColumnsComputed,t=[];return this.listOptions&&Array.isArray(this.listOptions.fields)?(this.listOptions.fields.forEach((function(i){t.push(o.a.filter(e,["field",i]))})),t=o.a.flatten(t)):e},kanbanFieldsComputed:function(){var e=this.tableColumnsComputed,t=[];return this._kanbanOptions&&Array.isArray(this._kanbanOptions.fields)?(this._kanbanOptions.fields.forEach((function(i){t.push(o.a.filter(e,["field",i]))})),t=o.a.flatten(t)):e},tableColumnsComputed:function(){return this.schemaComputed?this.parseColumns(this.schemaComputed.properties):[]},_layout:function(){return this.detailPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.layout},_createFormLayout:function(){return this.model&&this.model.formOptions&&this.model.formOptions.createLayout||this._layout},_editFormLayout:function(){return this.model&&this.model.formOptions&&this.model.editLayout||this._layout},createPageLayoutComputed:function(){return this.createPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.createLayout||this._layout},viewPageLayoutComputed:function(){return this.viewPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.viewPageLayout||this._layout},editPageLayoutComputed:function(){return this.editPageLayout||this.model&&this.model.formOptions&&this.model.formOptions.editPageLayout||this._layout},_actions:function(){var e=this,t=o.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(t).forEach((function(i){var s=Object(a.a)(i,2),n=s[0],o=s[1];"boolean"!=typeof o&&(t[n]=e.templateParseConditionalField(o))})),t},_actionsBeforeCalculation:function(){return o.a.merge({},b.a,this.actions||this.mergedOptions&&this.mergedOptions.actions)},_customFormTopActions:function(){return o.a.merge([],this.customFormTopActions.length&&this.customFormTopActions||this.mergedOptions&&this.mergedOptions.customFormTopActions)},_customInlineActions:function(){return o.a.merge([],this.customInlineActions.length&&this.customInlineActions||this.mergedOptions&&this.mergedOptions.customInlineActions)},_customTopRightActions:function(){return o.a.merge([],this.customTopRightActions.length&&this.customTopRightActions||this.mergedOptions&&this.mergedOptions.customTopRightActions)},_customTableTopActions:function(){return o.a.merge([],this.customTableTopActions.length&&this.customTableTopActions||this.mergedOptions&&this.mergedOptions.customTableTopActions)},_customTitleBarActions:function(){return o.a.merge([],this.customTitleBarActions.length&&this.customTitleBarActions)},_customBulkActions:function(){return o.a.merge([],this.customBulkActions.length&&this.customBulkActions||this.mergedOptions&&this.mergedOptions.customBulkActions)},_displayModeHasPartialDisplay:function(){return["modal","sidebar","sidebar-left","sidebar-right","fade","slide","sideform","bottomform"].indexOf(this._detailPageMode)>-1},_kanbanOptions:function(){var e=this,t=o.a.merge({},b.b,this._model&&this._model.kanbanOptions,this.kanbanOptions);if(t.splittingField&&(!t.splittingValues||!t.splittingValues.length)&&this.tableColumnsComputed){var i=this.tableColumnsComputed.find((function(t){return t.field===e.segmentField}));i&&i.enum&&(t.splittingValues=i.enum)}return t.titleField||t.fields&&t.fields.length||(this.displayField||this._model&&this._model.displayField)&&(t.titleField=this._model.displayField),t.splittingField||(t.splittingField=this.segmentField),t},canShowCreateButton:function(){return this._actions.create&&!(["view","edit","create"].indexOf(this.displayMode)>-1&&"page"===this._detailPageMode)},showEditFormComputed:function(){return this.identity&&("edit"===this.displayMode||"create"===this.displayMode||"bulkEdit"===this.displayMode||"bottomform"===this._detailPageMode)},showViewFormComputed:function(){return this.identity&&"view"===this.displayMode},showItemsListSectionComputed:function(){return this.supportedListingDisplayModes.indexOf(this.displayMode)>-1||"page"!==this._detailPageMode},currentItemIndex:function(){var e=this;return this.itemsList&&this.selectedItem&&o.a.findIndex(this.itemsList,(function(t){return t[e.primaryKey]==e.selectedItem[e.primaryKey]}))},hasPrevious:function(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex-1]},hasNext:function(){return this.currentItemIndex>-1&&!!this.itemsList[this.currentItemIndex+1]},dataPaginationModeComputed:function(){return this.mergedOptions.dataPaginationMode||this.mergedOptions.mode},segmentFieldDefinitionComputed:function(){var e,t=this;return this.segmentField&&(this.formSchema&&this.formSchema.fields&&(e=this.formSchema.fields.find((function(e){return e.model===t.segmentField})))||this.tableColumnsComputed&&(e=this.tableColumnsComputed.find((function(e){return e.field===t.segmentField}))))?e:""},segmentFieldPossibleValues:function(){var e=this.segmentFieldDefinitionComputed;if(!e)return[];var t=e.fieldOptions&&(e.fieldOptions.filterDropdownItems||e.fieldOptions.values||e.fieldOptions.options)||e.enum;return Array.isArray(t)?t:[]},showStatsSectionComputed:function(){return this.showItemsListSectionComputed&&this.mergedOptions.stats},isDetailPageModeCpt:function(){return"create"===this.displayMode||"view"===this.displayMode||"edit"===this.displayMode},displaySideFormContent:function(){return"sideform"===this._detailPageMode&&this.isDetailPageModeCpt},displayBottomFormContent:function(){return"bottomform"===this._detailPageMode},_detailPageMode:function(){return this.detailPageMode||this.mergedOptions.detailPageMode},detailPageModeCpt:function(){return"sideform"===this._detailPageMode||"bottomform"===this._detailPageMode?"page":this._detailPageMode},shouldShowCreateButtonCpt:function(){return this.canShowCreateButton&&!this._isANestedDetailView&&(this.supportedListingDisplayModes.includes(this.displayMode)||this._displayModeHasPartialDisplay&&"table"===this.mergedOptions.initialDisplayMode)},mergedOptions:{get:function(){var e=o.a.merge({},I,this._model&&this._model.options,this.options,this.internalOptions);return this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=o.a.merge(this.internalOptions.queryParams,{filters:this.$route.query.filters},{fields:this.$route.query.fields})),e},set:function(e){this.internalOptions=e}},_splittingValuesComputed:function(){return this._kanbanOptions.splittingValues&&this._kanbanOptions.splittingValues.length?this._kanbanOptions.splittingValues:this.segmentFieldPossibleValues}},watch:{identity:"loadModel",model:"loadModel","parent.id":"loadModel",crudNeedsRefresh:"refreshComponent",needsRefresh:"refreshComponent","$route.params.id":"onRouteIdChanged",displayMode:"onDisplayModeChanged",listDisplayMode:"onListDisplayModeChanged"},created:function(){if(!this.$http)try{var e=i(331);this.$http=e}catch(e){}},mounted:function(){if(!this.identity)throw new Error("missing_required_props_identity");this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.enabledListingModes&&!this.enabledListingModes.includes(this.mergedOptions.initialDisplayMode)&&console.warn("Intitial display mode is not in the list of enabled modes",this.mergedOptions.initialDisplayMode),this.internalOptions=o.a.cloneDeep(this.mergedOptions),this.loadModel(),this.displayMode||(this.displayMode=this.mergedOptions.initialDisplayMode),this.listDisplayMode=this.mergedOptions.initialDisplayMode,this._isNested&&this.nestedDisplayMode&&(this.displayMode=this.nestedDisplayMode);var e=this.scrollEventTarget?document.querySelector(this.scrollEventTarget):window;e&&(this.scrollTarget=e,this.scrollTarget.addEventListener("scroll",this.handleScroll)),this.$route&&this.useRouterMode&&(this.parentPath=this.$route.path,this.parentPath=this.parentPath.replace("/view","").replace("/edit","").replace("/new","").replace("/:id",""),this.$forceUpdate(),this.initializeSelectedItem())},beforeRouteEnter:function(e,t,i){i((function(e){}))},beforeRouteLeave:function(e,t,i){i((function(e){}))},beforeRouteUpdate:function(e,t,i){this.useRouterMode&&t.params.id&&e.params.id,i()},beforeDestroy:function(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh"),this.scrollTarget.removeEventListener("scroll",this.handleScroll)},methods:{$alert:C.a,refreshComponent:function(e,t){var i=this;e&&!1!==e&&e!==t&&(this.identity&&this.identity!==this.previousModelIdentity&&(this.previousModelIdentity=this.identity,this.loadModel()),this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.awesomeEditNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,setTimeout((function(){i.tableNeedsRefresh=!1,i.statsNeedsRefresh=!1,i.nestedCrudNeedsRefresh=!1,i.$emit("update:crudNeedsRefresh",!1),i.$emit("input:crudNeedsRefresh",!1),i.$emit("input:needs-refresh",!1)}),100))},onTableRefresh:function(){this.statsNeedsRefresh=!0},callbackFunctionForBAse64:function(e){},importFailedResponse:function(e){C.a.fire({title:this.$t("common.messages.not_imported",{title:this._name}),type:"error",text:e.message||e})},importResponse:function(e){var t=this;if(e.improperData&&0!==e.improperData.length||e.properData&&0!==e.properData.length){if(e.properData.length>0&&this.$awNotify({title:this.$t("common.messages.successfullyImported",{title:this._name}),type:"success"}),e.improperData.length>0){var i="";e.improperData.forEach((function(e){i+=" - ".concat(Object.values(e).join(" | "),", ")})),i=i.substring(0,i.length-2),setTimeout((function(){t.$awNotify({title:"".concat(e.improperData.length," ").concat(t.$t("common.messages.not_imported",{title:t._name})),message:i,type:"warning",timeout:3e4})}),0)}this.tableNeedsRefresh=!0,this.statsNeedsRefresh=!0,this.nestedCrudNeedsRefresh=!0,this.$forceUpdate()}else C.a.fire({title:this.$t("common.messages.no_data_imported",{title:this._name}),type:"warning"})},exportTemplateCallBack:function(){var e=this;this.mergedOptions.importUrl?this.$http.get(this.mergedOptions.importUrl+"-template",{}).then((function(t){if(t.data.url){var i=document.createElement("a");i.download="".concat(e.identity,"_export"),i.href=t.data.url,i.click(),i.remove()}})).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export url",type:"warning"})},loadModel:function(){var e=this;if(this._model||this.schema){if(this.schemaComputed.properties&&(this.mergedOptions.columns=this.parseColumns(this.schemaComputed.properties)),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl="".concat(this._url,"/export")),this.mergedOptions.importUrl||(this.mergedOptions.importUrl="".concat(this._url,"/import")),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),this.parent&&(this.nestedCrudNeedsRefresh=!0),!this.parent||"view"!==this.nestedDisplayMode&&"edit"!==this.nestedDisplayMode&&"object"!==this.nestedDisplayMode||this.getNestedItem().then((function(){"view"===e.nestedDisplayMode||e.nestedDisplayMode,"edit"===e.nestedDisplayMode&&e.$alert.fire({title:e.$t("Nested editing of object is not allowed yet...",{title:e.modelName}),type:"success"})})),this._url&&this.useRouterMode&&this.$route&&this.$route.params){if("new"===this.$route.params.id||this.$route.path.endsWith("/new"))return this.setDisplayMode("create"),void this.$forceUpdate();if(this.$route.params.id){var t=this.$route.matched[this.$route.matched.length-1];-1!==t.path.indexOf("/edit")?this.setDisplayMode("edit",{}):this.setDisplayMode("view",{}),this.$http.get("".concat(this._url,"/").concat(this.$route.params.id),{query:this.apiRequestPermanentQueryParams}).then((function(i){var s=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?o.a.get(i,e.apiResponseConfig.dataPath):i.data;-1!==t.path.indexOf("/edit")?e.setDisplayMode("edit",s):e.setDisplayMode("view",s),e.$forceUpdate()})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))}}}else console.warn("AWESOME CRUD ERROR","model ".concat(this.identity," not found"))},setDisplayMode:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{refresh:!0};if(console.warn("setDisplayMode",e,t),["edit","view"].indexOf(e)>-1){this.$awEmit("aw-form-open");var s=Object.assign({},t);this.itemIndex=o.a.findIndex(this.itemList,s)}this.previousDisplayMode=this.displayMode||this.mergedOptions.initialDisplayMode,"bulkEdit"===e?(this.selectedItem={},this.selectedItems=t):(this.selectedItem=t,this.selectedItems=[]),this.displayMode=e,["table","list","kanban"].indexOf(e)>-1?(this.listDisplayMode=e,this.tableNeedsRefresh=i.refresh,this.selectedItem={}):this.awesomeEditNeedsRefresh=i.refresh},goToCreatePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reset:!0,editLayoutMode:!1};if(this.mergedOptions.createPath)return this.mergedOptions.createPath.includes("{{")&&this.mergedOptions.createPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.createPath)):this.$router.push(this.mergedOptions.createPath);e.reset&&(this.selectedItem=Object(P.createDefaultObject)(this.formSchema)),e.editLayoutMode&&(this.editLayoutMode=e.editLayoutMode),this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item)),this.setDisplayMode("create",this.selectedItem),this.useRouterMode&&!e.reset&&this.$router.push("".concat(this.parentPath,"/new?").concat(l.a.stringify(this.$route.query)))},goToBulkEditPage:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.mergedOptions.bulkEditPath)return this.$router.push(this.mergedOptions.bulkEditPath);this.setDisplayMode("bulkEdit",e)},goToDeletePage:function(e){if(this.mergedOptions.createPath)return this.$router.push(this.mergedOptions.deletePath.replace(":id",e[this.primaryKey]).replace("{{id}}",e[this.primaryKey]));this.deleteFunction(e)},goToBulkDeletePage:function(e){this.bulkDeleteFunction(e)},goToEditPage:function(e,t){if(this.mergedOptions.editPath)return this.mergedOptions.editPath.includes(":id")&&e&&e[this.primaryKey]?this.$router.push(this.mergedOptions.editPath.replace(":id",e[this.primaryKey])):this.mergedOptions.editPath.includes("{{")&&this.mergedOptions.editPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.editPath,e)):this.$router.push(this.mergedOptions.editPath);var i="".concat(this.parentPath,"/").concat(e[this.primaryKey],"/edit");this.useRouterMode&&this.$route.path!==i&&this.$router.push(i),this.setDisplayMode("edit",e,t)},goToViewPage:function(e){if(e){if(this.mergedOptions.viewPath)return this.mergedOptions.viewPath.includes(":id")&&e&&e[this.primaryKey]?this.$router.push(this.mergedOptions.viewPath.replace(":id",e[this.primaryKey])):this.mergedOptions.viewPath.includes("{{")&&this.mergedOptions.viewPath.includes("}}")?this.$router.push(this.parseUrl(this.mergedOptions.viewPath,e)):this.$router.push(this.mergedOptions.viewPath);var t="".concat(this.parentPath.replace(":id",""),"/").concat(e[this.primaryKey]);this.useRouterMode&&this.$route.path!==t&&this.$router.push(t),this.setDisplayMode("view",e)}},nestedViewFunction:function(){var e=this;this.displayMode="view",this.$http.get("".concat(this._url)).then((function(t){e.selectedItem=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?o.a.get(t,e.apiResponseConfig.dataPath):t.data,e.nestedCrudNeedsRefresh=!0})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},bulkEditFunction:function(e){var t=this;this.$http.put("".concat(this._url,"/").concat(e[this.primaryKey]),e).then((function(e){t.$emit(t.identity+"-item-updated",e.data),t.$awNotify({title:t.$t("AwesomeDefault.messages.successfullyModified",{title:t.type}),type:"success"}),t.tableNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.$forceUpdate()})).catch(this.apiErrorCallback).finally((function(){t.isRefreshing=!1}))},bulkDeleteFunction:function(e){var t=this;C.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then((function(i){i.value&&e.forEach((function(e){t.selectedItem=e,t.$http.delete("".concat(t._selectedItemUrl)).then((function(){t.tableNeedsRefresh=!0,t.statsNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.$forceUpdate()})).catch((function(e){console.error(e)})).finally((function(){t.isRefreshing=!1}))}))})).finally((function(){return t.selectedItem=null}))},deleteFunction:function(e){var t=this;this.selectedItem=e,C.a.fire({title:this.$t("AwesomeDefault.messages.are_you_sure"),text:this.$t("AwesomeDefault.messages.wont_be_able_recover"),type:"warning",showCancelButton:!0,confirmButtonColor:"var(--primary)",cancelButtonColor:"#eee",confirmButtonText:this.$t("AwesomeCrud.buttons.yes_delete_it"),cancelButtonText:this.$t("AwesomeCrud.buttons.cancel"),reverseButtons:!0}).then((function(e){e.value&&t.$http.delete("".concat(t._selectedItemUrl)).then((function(){t.selectedItem=null,t.tableNeedsRefresh=!0,t.statsNeedsRefresh=!0,t.nestedCrudNeedsRefresh=!0,t.useRouterMode&&t.$router.replace("".concat(t.parentPath,"?ts"));var e=t.getPreviousDisplayMode();t.setDisplayMode(e),t.$forceUpdate()})).catch((function(e){console.error(e)})).finally((function(){t.isRefreshing=!1}))})).finally((function(){return t.selectedItem=null}))},onCustomBulkAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-bulk-action",t),t&&t.action&&t.action(e,this)},onCustomListAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-list-action",t),t&&t.action&&t.action(e,this)},onRemoveList:function(e){},onListChanged:function(e){},onCardChanged:function(e,t){},onCardAdded:function(e,t){e.element,e.newIndex},onCardClicked:function(e){this.$emit("on-kanban-item-clicked",e),this.listItemClickedHandler(e)},onEditDisplayCancelled:function(e,t){var i=t.context,s=this.getPreviousDisplayMode(i);if(this.useRouterMode)if("view"===s)this.goToViewPage(e);else if("edit"===s)this.goToEditPage(e);else{var a=this.parentPath.replace("/edit","").replace("/view","").replace("/:id","").replace("".concat(e?e[this.primaryKey]:""),"");this.$router.push(a)}this.setDisplayMode(s,e,{refresh:!1})},onViewDisplayCancelled:function(e){if(this.useRouterMode){var t=this.parentPath.replace("/edit","").replace("/view","").replace("/:id","").replace("".concat(e?e[this.primaryKey]:""),"");this.$router.push(t)}var i=this.previousDisplayMode&&"edit"!==this.previousDisplayMode&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;this.setDisplayMode(i,e,{refresh:!1})},onItemsBulkEdited:function(e){this.bulkEditFunction(e)},onItemCreated:function(e){},onItemEdited:function(){this.$awEmit("aw-table-needs-refresh")},onItemDeleted:function(){},onItemViewed:function(){},onItemValidated:function(){},onItemValidationFailed:function(){},onListUpdated:function(e){this.$emit("list-updated",e),this.$emit(this.identity+"-list-updated",e)},onTableRowClicked:function(e){var t=e.column,i=e.row;t&&(["url","relation","ACTIONS"].indexOf(t.type)>-1||"__ACTIONS"===t.field)||(this.$emit("on-table-row-clicked",i),this.listItemClickedHandler(i))},onTableRowDoubleClicked:function(e){var t=e.column,i=e.row;t&&(["url","relation","ACTIONS"].indexOf(t.type)>-1||"__ACTIONS"===t.field)||(this.$emit("on-table-row-double-clicked",i),this.listItemDoubleClickedHandler(i))},onDataChanged:function(e){this.itemsList=e.data},updateAutoRefresh:function(e){this.mergedOptions.autoRefresh=e},onListItemClicked:function(e){this.$emit("on-list-item-clicked",e),this.listItemClickedHandler(e)},confirm:function(e){return console.warn("confirm method is @deprecated => use $awConfirm"),this.$awConfirm(e)},onLayoutUpdated:function(e){this.$emit("layout-updated",e)},onLayoutFieldsUpdated:function(e){this.$emit("layout-fields-updated",e)},onOpenEditLayoutMode:function(){this.editLayoutMode=!0},onCloseEditLayoutMode:function(){this.editLayoutMode=!1},selectPreviousItem:function(){this.hasPrevious&&this.itemsList[this.currentItemIndex-1]&&(this.selectedItem=this.itemsList[this.currentItemIndex-1],this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(this.selectedItem[this.primaryKey])))},selectNextItem:function(){this.hasNext&&this.itemsList[this.currentItemIndex+1]&&(this.selectedItem=this.itemsList[this.currentItemIndex+1],this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(this.selectedItem[this.primaryKey])))},onCustomAction:function(e){var t=e.action;return this.$emit(this.identity+"-custom-action",t),t&&t.action&&t.action(e,this)},getNestedItem:function(){var e=this;return this.$http.get("".concat(this._url)).then((function(t){e.selectedItem=e.responseField&&0!=e.responseField?o.a.get(t.data,e.responseField):t.data})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},forwardEvent:function(){this.$emit.apply(this,arguments)},listItemClickedHandler:function(e){switch(this.tableRowClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e)}},listItemDoubleClickedHandler:function(e){switch(this.tableRowDoubleClickAction){case"edit":if(this._actions&&!this._actions.edit)return;this.goToEditPage(e);break;case"view":if(this._actions&&!this._actions.view)return;this.goToViewPage(e);break;case"none":break;default:this.listItemClickedHandler(e)}},onRouteIdChanged:function(e,t){this.useRouterMode&&e&&t&&t!==e&&this.setDisplayMode(this.displayMode,Object(s.a)({},this.primaryKey,this.$route.params.id))},initializeSelectedItem:function(){this.$route.params.id&&(this.parentPath=this.parentPath.replace("/".concat(this.$route.params.id),"").replace("/:id",""),"create"===this.$route.params.id||"new"===this.$route.params.id?(delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item)),this.goToCreatePage({reset:!1}),this.parentPath=this.parentPath.replace("/edit","").replace("/".concat(this.$route.params.id),"").replace("/:id","")):(this.selectedItem=Object(s.a)({},this.primaryKey,this.$route.params.id),this.$route.query.item&&(this.selectedItem=o.a.merge(this.selectedItem,this.$route.query.item))))},onSegmentChange:function(){},handleScroll:function(e){if("sideform"===this._detailPageMode&&this.scrollTarget){var t=this.scrollTarget.querySelector(".aw-form");this.scrollTarget&&this.scrollTarget.scrollTop>80?(this.awFormWidth=t.offsetWidth,this.isSideformSticky=!0,t&&(t.style="width: ".concat(this.awFormWidth,"px; text-align:right; float: right"))):(this.isSideformSticky=!1,t&&(t.style=""))}},onDisplayModeChanged:function(e){["table","list","kanban"].includes(e)&&(this.listDisplayMode=e)},onListDisplayModeChanged:function(e,t){e!==t&&(this.displayMode=e)},getPreviousDisplayMode:function(e){var t=this.previousDisplayMode&&this.previousDisplayMode!==e&&this.previousDisplayMode!==this.displayMode?this.previousDisplayMode:this.mergedOptions.initialDisplayMode;return"create"===e&&this.postCreateDisplayMode&&("listing"==this.postCreateDisplayMode||void 0===this._actions[this.postCreateDisplayMode]||this._actions[this.postCreateDisplayMode])?"list"===this.postCreateDisplayMode||"listing"===this.postCreateDisplayMode?t:this.postCreateDisplayMode:"edit"===e&&this.postEditDisplayMode&&("listing"==this.postCreateDisplayMode||void 0===this._actions[this.postEditDisplayMode]||this._actions[this.postEditDisplayMode])?"list"===this.postCreateDisplayMode||"listing"===this.postCreateDisplayMode?t:this.postEditDisplayMode:t}}},T=(i(401),Object(k.a)(R,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content aw-crud",class:"aw-crud-mode-"+e.displayMode+" aw-crud-"+e.identity},[i("div",{},[i("div",{staticClass:"row mr-0 ml-0"},[i("div",{staticClass:"col-12 awesomecrud-stats-section p-0"},[e.showStatsSectionComputed?i("div",{staticClass:"row"},[i("EnyoCrudStatsSection",{attrs:{url:e._url+"/stats",entity:e.identity,identity:e.identity,"stats-needs-refresh":e.statsNeedsRefresh},on:{"update:statsNeedsRefresh":function(t){e.statsNeedsRefresh=t},"update:stats-needs-refresh":function(t){e.statsNeedsRefresh=t}}})],1):e._e()]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showItemsListSectionComputed,expression:"showItemsListSectionComputed"}],staticClass:"awesomecrud-list-table-section p-0",class:e.displaySideFormContent?"col-6":"col-12"},[e._actions.changeDisplayMode&&e.segmentField?i("ListingModeSelector",{attrs:{"enabled-modes":e.enabledListingModes},model:{value:e.listDisplayMode,callback:function(t){e.listDisplayMode=t},expression:"listDisplayMode"}}):e._e(),e._v(" "),!e._isANestedDetailView&&("table"===e.displayMode||e._displayModeHasPartialDisplay&&"table"===e.listDisplayMode)&&e.dataPaginationModeComputed?i("AwesomeTable",e._b({attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,collapsible:!1,"columns-displayed":e.mergedOptions.columnsDisplayed,columns:e.tableColumnsComputed,"custom-bulk-actions":e._customBulkActions,"custom-inline-actions":e._customInlineActions,"custom-table-top-actions":e._customTableTopActions,entity:e.identity,"export-url":e.mergedOptions.exportUrl,limit:e.tableDataLimit,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,saveColumnsState:e.saveColumnsState,savePaginationState:e.savePaginationState,segment:e.segment,segmentField:e.segmentField,title:e._listingComponentTitle,url:e._url,useRouterMode:e.useRouterMode,uuid:"awtable-"+e.identity},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,edit:e.goToEditPage,delete:e.goToDeletePage,bulkDelete:e.goToBulkDeletePage,bulkEdit:e.goToBulkEditPage,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,"table-updated":e.onListUpdated,refresh:e.onTableRefresh,onRowClicked:e.onTableRowClicked,onRowDoubleClicked:e.onTableRowDoubleClicked,updateAutoRefresh:e.updateAutoRefresh,"data-changed":e.onDataChanged}},"AwesomeTable",e.$props,!1),[i("template",{slot:"table-header-left"},[e._actions.changeDisplayMode&&!e.segmentField?i("ListingModeSelector",{model:{value:e.listDisplayMode,callback:function(t){e.listDisplayMode=t},expression:"listDisplayMode"}}):e._e()],1),e._v(" "),i("template",{slot:"table-header-right"},[i("div",{staticClass:"text-right"},[e._t("top-right-buttons",(function(){return[e._customTopRightActions?[i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright","use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),e._v(" "),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v("\n                  "+e._s(e.$t("AwesomeCrud.labels.createNew"))+"\n                ")])]}))],2)]),e._v(" "),i("template",{slot:"table-top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2),e._v(" "),i("template",{slot:"table-top-more-actions"},[e._actions.import?i("upload-button",{attrs:{name:"import",options:{upload:!0,targetUrl:e.mergedOptions.uploadUrl||e.mergedOptions.importUrl,method:"POST",headers:{},base64:!1,label:e.$t("AwesomeCrud.buttons.import"),class:"btn btn-sm btn-main-style btn btn-simple text-success  btn-block"}},on:{uploaded:e.importResponse,"upload-failed":e.importFailedResponse}}):e._e(),e._v(" "),e._actions.import?i("button",{staticClass:"btn btn-sm text-info btn-link btn-alt-style btn-block",attrs:{type:"button"},on:{click:e.exportTemplateCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.buttons.excel-template"))+"\n            ")]):e._e(),e._v(" "),e.mergedOptions.useCustomLayout&&e._actions.editLayout?i("button",{staticClass:"btn btn-sm btn-simple btn-default btn-block",attrs:{type:"button"},on:{click:function(t){return e.goToCreatePage({editLayoutMode:!0})}}},[i("i",{staticClass:"fa fa-th-large"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n            ")]):e._e()],1)],2):e._e(),e._v(" "),!e._isANestedDetailView&&("list"===e.displayMode||e._displayModeHasPartialDisplay&&"list"===e.listDisplayMode)?i("AwesomeList",e._b({attrs:{actions:e._actionsBeforeCalculation,"api-query-headers":e.mergedOptions.headerParams,"api-query-params":e.mergedOptions.queryParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"auto-refresh-interval":e.mergedOptions.autoRefreshInterval,"auto-refresh":e.mergedOptions.autoRefresh,columns:e.listFieldsComputed,descriptionField:e.listOptions?e.listOptions.descriptionField:"",displayFields:e.listOptions?e.listOptions.displayFields:[],"export-url":e.mergedOptions.exportUrl,identity:e.identity,imageClasses:e.listOptions&&e.listOptions.imageClasses,imageField:e.listOptions&&e.listOptions.imageField,imageStyles:e.listOptions&&e.listOptions.imageStyles,perRow:e.listOptions&&e.listOptions.perRow,mode:e.dataPaginationModeComputed,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,options:e.mergedOptions,perPage:e.listOptions&&e.listOptions.perPage?e.listOptions.perPage:10,segment:e.segment,segmentField:e.segmentField,styles:{listWrapperClasses:"row",itemWrapperClasses:"col-3"},subtitleField:e.listOptions&&e.listOptions.subtitleField,title:e._listingComponentTitle,titleField:e.listOptions&&e.listOptions.titleField,url:e._url,useRouterMode:e.useRouterMode},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},itemClicked:e.onListItemClicked}},"AwesomeList",e.listOptions,!1),[i("template",{slot:"top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2),e._v(" "),i("template",{slot:"list-header-left"},[e._actions.changeDisplayMode&&!e.segmentField?i("ListingModeSelector",{model:{value:e.listDisplayMode,callback:function(t){e.listDisplayMode=t},expression:"listDisplayMode"}}):e._e()],1),e._v(" "),i("template",{slot:"list-header-right"},[e._customTopRightActions?[i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright","use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}})]:e._e(),e._v(" "),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.labels.createNew"))+"\n            ")])],2)],2):e._e(),e._v(" "),!e._isANestedDetailView&&("kanban"===e.displayMode||e._displayModeHasPartialDisplay&&"kanban"===e.listDisplayMode)?i("AwesomeKanban",e._b({attrs:{actions:e._actions,title:e._listingComponentTitle,columns:e.kanbanFieldsComputed,fields:e._kanbanOptions.fields,identity:e.identity,url:e._url,"api-query-params":e.mergedOptions.queryParams,"api-query-headers":e.mergedOptions.headerParams,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,apiTimeout:e.apiTimeout,"needs-refresh":e.tableNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,useRouterMode:e.useRouterMode,options:e._kanbanOptions.options,splittingField:e._kanbanOptions.splittingField,splittingValues:e._splittingValuesComputed},on:{"update:needsRefresh":function(t){e.tableNeedsRefresh=t},"update:needs-refresh":function(t){e.tableNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},customListAction:e.onCustomListAction,removeList:e.onRemoveList,listChanged:e.onListChanged,cardChanged:e.onCardChanged,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked}},"AwesomeKanban",e._kanbanOptions,!1),[i("template",{slot:"kanban-header-left"},[e._actions.changeDisplayMode&&!e.segmentField?i("ListingModeSelector",{model:{value:e.listDisplayMode,callback:function(t){e.listDisplayMode=t},expression:"listDisplayMode"}}):e._e()],1),e._v(" "),i("template",{slot:"kanban-header-right"},[i("AwesomeActionList",{attrs:{actions:e._customTopRightActions,location:"topright","use-dropdown":e._customTopRightActions&&e._customTopRightActions.length>2},on:{customAction:e.onCustomAction}}),e._v(" "),!e.shouldShowCreateButtonCpt&&e._customTopRightActions&&e._customTopRightActions.length?e._e():i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add",class:e.shouldShowCreateButtonCpt?"visible":"invisible",attrs:{disabled:!e.canShowCreateButton,type:"button"},on:{click:function(t){return t.preventDefault(),e.goToCreatePage()}}},[i("i",{staticClass:"fa fa-plus text-primary"}),e._v("\n              "+e._s(e.$t("AwesomeCrud.labels.createNew"))+"\n            ")])],1),e._v(" "),i("template",{slot:"top-actions"},[e._customTitleBarActions?[i("AwesomeActionList",{attrs:{actions:e._customTitleBarActions,location:"topright","use-dropdown":e._customTitleBarActions&&e._customTitleBarActions.length>2},on:{customAction:e.onCustomAction}})]:e._e()],2)],2):e._e()],1),e._v(" "),i("div",{staticClass:"awesomecrud-detail-section  p-0",class:{"col-6":e.displaySideFormContent,"col-12":!e.displaySideFormContent,"sticky-form":e.displaySideFormContent&&e.isSideformSticky}},[e.displaySideFormContent&&e.isSideformSticky?i("button",{staticClass:"btn btn-sm btn-outline-primary aw-button-add invisible",attrs:{disabled:!0,type:"button"}},[i("i",{staticClass:"fa fa-plus text-primary"})]):e._e(),e._v(" "),e.showViewFormComputed?i("awesome-form",e._b({attrs:{actions:e._actionsBeforeCalculation,apiTimeout:e.apiTimeout,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions,"display-header":e.awFormDisplayHeader,displayMode:e.detailPageModeCpt,"edit-layout-mode":e.editLayoutMode,"use-custom-layout":e.mergedOptions&&e.mergedOptions.useCustomLayout,"has-next":e.hasNext,"has-previous":e.hasPrevious,identity:e.identity,item:e.selectedItem,layout:e.viewPageLayoutComputed,mode:e.displayMode,model:e._model,"needs-refresh":e.awesomeEditNeedsRefresh,"nested-crud-needs-refresh":e.nestedCrudNeedsRefresh,parent:e.parent,schema:e.schemaComputed,standalone:!1,url:e._url},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},"update:nestedCrudNeedsRefresh":function(t){e.nestedCrudNeedsRefresh=t},"update:nested-crud-needs-refresh":function(t){e.nestedCrudNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onViewDisplayCancelled,closeRequested:e.onViewDisplayCancelled,customAction:e.onCustomAction,beforeCreate:function(t){return e.forwardEvent.bind(this,"beforeCreate")},itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"awesome-form",e.$props,!1),[e._t("after-edit-form",null,{slot:"after-edit-form",selectedItem:e.selectedItem})],2):e._e(),e._v(" "),e.showEditFormComputed?i("awesome-form",e._b({attrs:{actions:e._actionsBeforeCalculation,apiTimeout:e.apiTimeout,"bulk-items":e.selectedItems,"custom-inline-actions":e._customInlineActions,"custom-top-actions":e._customFormTopActions,"display-header":e.awFormDisplayHeader,displayMode:e.detailPageModeCpt,"edit-layout-mode":e.editLayoutMode,"has-next":e.hasNext,"has-previous":e.hasPrevious,identity:e.identity,item:e.selectedItem,layout:"create"===e.displayMode?e.createPageLayoutComputed:e.editPageLayoutComputed,mode:e.displayBottomFormContent?"create":e.displayMode,model:e._model,"needs-refresh":e.awesomeEditNeedsRefresh,schema:e.schemaComputed,standalone:!1,"use-custom-layout":e.mergedOptions&&e.mergedOptions.useCustomLayout,createPageLayoutComputed:""},on:{"update:needsRefresh":function(t){e.awesomeEditNeedsRefresh=t},"update:needs-refresh":function(t){e.awesomeEditNeedsRefresh=t},create:e.goToCreatePage,view:e.goToViewPage,nestedView:e.nestedViewFunction,edit:e.goToEditPage,delete:e.goToDeletePage,cancel:e.onEditDisplayCancelled,closeRequested:e.onEditDisplayCancelled,customAction:e.onCustomAction,customBulkAction:e.onCustomBulkAction,itemCreated:e.onItemCreated,itemEdited:e.onItemEdited,itemsBulkEdited:e.onItemsBulkEdited,itemDeleted:e.onItemDeleted,itemViewed:e.onItemViewed,itemValidated:e.onItemValidated,itemValidationFailed:e.onItemValidationFailed,"layout-updated":e.onLayoutUpdated,"layout-resetted":e.onLayoutUpdated,"layout-fields-updated":e.onLayoutFieldsUpdated,"open-edit-layout-mode":e.onOpenEditLayoutMode,"close-edit-layout-mode":e.onCloseEditLayoutMode,"aw-select-previous-item":e.selectPreviousItem,"aw-select-next-item":e.selectNextItem}},"awesome-form",e.$props,!1)):e._e()],1)])])])}),[],!1,null,null,null));t.default=T.exports},328:function(e,t,i){"use strict";i(24),i(310),i(97),i(171),i(69),i(46),i(70),i(308),i(323),i(99),i(43),i(172),i(316),i(98);var s=i(309),a=i(320),n=i(72),o=i(31),r=i(45),l=i(306),d=i.n(l),u=i(416),c=i.n(u),p=(i(417),i(461)),m=i(314),h=i.n(m),f=i(341),v=i.n(f),g=i(458),b=i(311),y=i(342),C=i(307),_=i(312),w=i(350),O=i(325),$=i(321),F=i(317),x=i(329),A=i(348),k=i(418);h.a.extend(k);var S={name:"AwesomeTable",token:'\n  <AwesomeTable  :title="title" :columns="tableColumns" :rows="dataSource" :needsRefresh="needsRefresh" :options="tableOptions">\n  <template slot="table-actions"></template>\n  <template slot="table-top-actions"></template>\n  <template slot="table-top-more-actions"></template>\n  <template slot="table-subtitle"></template>\n  <template slot="table-row-actions"></template>\n\n  </AwesomeTable>\n  ',components:{AwesomeDisplay:$.a,DateRangePicker:c.a,VueGoodTable:p.a,AwesomeFilter:F.a,popper:v.a,Skeleton:g.a,AwesomeActionList:x.a,AwesomeSegments:A.a},mixins:[w.a,C.a,b.a,y.a,_.a],props:{columns:{type:Array,description:"The columns to display in the table",default:function(){return[]}},columnsDisplayed:{type:Number,description:"The number of columns to display by default",default:10},parent:{type:Object,default:function(){},note:"In case of nested, pass parent to retrieve it in custom bulk actions"},rows:{type:Array,default:function(){return[]}},url:{type:String,default:""},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},name:{type:String,default:""},namePlural:{type:String,default:""},translations:{type:Object,default:function(){return{"AwesomeTable.buttons.filters":"Filter","AwesomeTable.buttons.refresh":"Refresh","AwesomeTable.buttons.excel-currentpage":"Export current page","AwesomeTable.searchInput":"AwesomeTable.searchInput","AwesomeTable.next":"Next","AwesomeTable.prev":"Previous","AwesomeTable.rows_per_page":"Rows per page","AwesomeTable.of":"of","AwesomeTable.page":"page","AwesomeTable.all":"all","AwesomeTable.empty":"empty","AwesomeTable.createFirstItem":"Click here to create your first item"}}},autoRefresh:{type:Boolean,default:!1,description:"Should we auto refresh the page ?"},autoRefreshInterval:{type:Number,default:20,description:"Interval in seconds that should be used to refresh the page"},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},perPage:{type:[String,Number],default:20},limit:{type:[String,Number],default:1e3},options:{type:Object,default:function(){return{}}},defaultOptions:{type:Object,default:function(){return{fixedHeader:!1,maxHeight:"",pagination:!0,filterInitiallyOn:!1,autoSearch:!0}}},actions:{type:Object,default:function(){return O.a},note:"actions active in this instance"},customInlineActions:{type:Array,default:function(){return[]},note:"custom inline action in row"},customTableTopActions:{type:Array,default:function(){return[]},note:"custom table top actions"},customBulkActions:{type:Array,default:function(){return[]},note:"custom bulk action"},mode:{default:"local",type:String,required:!1,values:["local","remote"]},collapsible:{default:!0,type:Boolean,description:"Wether the table can be collapsed using the minus button at the topRight corner."}},data:function(){return{totalCount:0,columnsFilterState:null,isRefreshing:!1,columnsState:{},defaultStartDate:h()().subtract(7,"days").format("YYYY-MM-DD"),defaultEndDate:h()().format("YYYY-MM-DD"),serverParams:{filters:{},range:{},sort:{},page:0,perPage:"local"===this.mode?this.limit:this.perPage},data:[],refreshHandle:null,numberOfRefreshCalls:0,datePicker:{locale:{direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Appliquer",cancelLabel:"Annuler",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:h.a.weekdaysMin(),monthNames:h.a.monthsShort(),firstDay:1}},selectedRows:[],displayLabelCache:{},clickTimeout:null,displayAwFilter:!1}},computed:{autoRefreshInterface:{get:function(){return this.autoRefresh},set:function(e){this.$emit("updateAutoRefresh",e)}},optionsComputed:function(){return d.a.merge(this.defaultOptions,this.options)},_tableTitle:function(){return!1===this.title?"":this.title||(this.$te&&this.$te("app.labels."+this.entity)?this.$t("app.labels."+this.entity):d.a.startCase(this.entity))},formattedColumns:function(){var e=this;this.columns||console.error("AwesomeTable MISSING COLUMNS");var t=this.columns.map((function(t){var i={};if(d.a.isString(t))return i.field=t,i.label=d.a.startCase(t),i.filterOptions={enabled:e.canFilterByColumnsCpt},i.sortable=!0,i;t.label||(t.label=d.a.startCase(t.field)),t.type&&"datetime"===t.type&&(t.format="D MMM YYYY <br/> hh:mm",t.formatFn=function(e){return e||e}),t.type&&"date"===t.type&&(t.format="DD-MM-YYYY",t.formatFn=function(e){return e||e}),t.type&&"object"===t.type&&(t.sortFn=function(e,t,i,s,a){var n=JSON.stringify(e),o=JSON.stringify(t);return n<o?-1:n>o?1:0}),t.type&&"relation"===t.type&&(t.sortFn=function(e,t,i,s,a){return e<t?-1:e>t?1:0}),t.type&&"checkbox"===t.type&&(t.sortable=!1);var s=t.filterOptions&&t.filterOptions.filterDropdownItems;return!t.type||"list-of-value"!==t.type&&"lov"!==t.type||(s=e.$store.state.listOfValues[t.listName])&&(s=s.map((function(e){return{value:e.code,text:e.label||e.code||e}}))),t.type&&"list-of-data"===t.type&&(s=(s=e.$store.state.data[t.listName]).map((function(e){return{value:e.code,text:e.label||e.code||e}}))),t.enum&&(s=(s=t.enum).map((function(e){if("string"==typeof e){if(e.includes("|")){var t=e.split("|");return{value:t[0],text:t[1]}}return{value:e,text:d.a.startCase(e)}}return"object"===Object(r.a)(e)?e:{value:e,text:d.a.startCase(e)}}))),t.filterOptions={enabled:void 0!==t.filterable?t.filterable&&e.canFilterByColumnsCpt:e.canFilterByColumnsCpt,filterDropdownItems:s},t}));return Object.keys(this.columnsState).length<1&&t.forEach((function(t,i){e.$set(e.columnsState,t.field,i<e.columnsDisplayed)})),t.find((function(e){return"__ACTIONS"===e.field}))||this._actions.noActions||(t.push({field:"__ACTIONS",label:"Actions",filterOptions:{enabled:!1}}),this.columnsState.__ACTIONS=!0),t},canHideColumns:function(){return this.formattedColumns.length>this.columnsDisplayed},displayedColumns:function(){var e=this;if(this.columnsState,this.canHideColumns){var t=this.formattedColumns.filter((function(t){return e.columnsState[t.field]}));if((!t.length||1===t.length&&this.columnsState.__ACTIONS)&&t.push.apply(t,Object(o.a)(this.formattedColumns)),!this.columnsState.__ACTIONS){var i=this.formattedColumns.find((function(e){return"__ACTIONS"===e.field}));i&&t.push(i)}return t}return this.formattedColumns},initialSortBy:function(){if(this.serverParams.sort){var e=Object.entries(this.serverParams.sort);if(e.length){var t=Object(n.a)(e,1),i=Object(n.a)(t[0],2);return{field:i[0],type:i[1]}}}else;},advancedFiltersCount:function(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated:function(){return F.a.methods.parseFilter(this.advancedFilters,{dispatch:!1})},perPageComputed:function(){return"remote"===this.mode?parseInt(this.serverParams.perPage):this.perPage},canFilterByColumnsCpt:function(){return this._actions.columnsFilters&&this.options&&(null!==this.columnsFilterState?this.columnsFilterState:this.options.filterInitiallyOn)}},watch:{params:function(){},entity:"entityChanged",rows:"refreshLocalData",autoRefresh:function(e){e?this.activateAutoRefresh():clearInterval(this.refreshHandle)}},created:function(){var e=this;this.$t||(this.$t=function(t){return e.translations[t]||t},this.$te=function(t){return!!e.translations[t]})},beforeMount:function(){var e=window.navigator?navigator.language||navigator.userLanguage:"en";h()().locale(e)},mounted:function(){var e=this;if(!this.refresh&&!this.store){if(this.apiQueryParams&&this.apiQueryParams.filters&&Object.keys(this.apiQueryParams.filters).length>0){var t=[];Object.keys(this.apiQueryParams.filters).filter((function(t){return e.apiQueryParams.filters[t]})).forEach((function(i){t.push(Object(a.a)({},i,e.apiQueryParams.filters[i]))})),this.advancedFilters=[],t.forEach((function(t){var i={},s=Object(n.a)(Object.entries(t)[0],2),a=s[0],o=s[1],l="object"===Object(r.a)(o)?Object.entries(o)[0]:["$eq",o],d=Object(n.a)(l,2),u=d[0],c=d[1],p=e.columns.find((function(e){return e.field===a}));if(p){i.field=p;var m=F.a.data().filters&&F.a.data().filters.find((function(e){return e.value===u}));i.value=c,m&&(i.filter=m,i.value=c),e.advancedFilters.push(i)}}))}this.autoRefresh&&this.activateAutoRefresh()}},beforeDestroy:function(){clearInterval(this.refreshHandle)},methods:{startCase:d.a.startCase,activateAutoRefresh:function(){var e=this;this.numberOfRefreshCalls=0,this.refreshHandle=setInterval((function(){if(e.numberOfRefreshCalls>300)return e.$awNotify({title:"too much calls, aborting tracking",type:"warning"}),clearInterval(e.refreshHandle),void(e.refreshHandle=null);document.hasFocus()&&(e.numberOfRefreshCalls+=1,e.getItems({source:"awTable_refreshHandle"}))}),1e3*this.autoRefreshInterval)},permanentFiltering:function(e,t){this.updateParams({parsedAdvancedFilters:d.a.cloneDeep(e),page:0,permanent:!0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("permanent-filter",{filters:e}),this.$awEmit("filter",{filters:this.serverParams.filters})},advancedFiltering:function(e,t){this.updateParams({advancedFilters:d.a.cloneDeep(t),parsedAdvancedFilters:d.a.cloneDeep(e),page:0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},doRefresh:function(){this.$awEmit("refresh",{filters:this.serverParams.filters}),"remote"==this.mode&&this.getItems({useSkeleton:!0})},toggleFilter:function(){var e=this;this.columnsFilterState=!this.columnsFilterState,this.columnsFilterState||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0})),this.columns=this.columns.map((function(t){return t.filterOptions&&(t.filterOptions.enabled=e.columnsFilterState),t}))},toggleAdvancedFilters:function(){this.displayAwFilter=!this.displayAwFilter},clickOnLine:function(e,t){var i=this;this.$nextTick((function(){i.clickTimeout?(clearTimeout(i.clickTimeout),i.clickTimeout=null,i.$emit("onRowDoubleClicked",e,t)):i.clickTimeout=setTimeout((function(){i.$emit("onRowClicked",e,t),i.clickTimeout=null}),300)}))},getLovValue:function(e,t){var i=this;if(!e||!this.$store.state.listOfValues[t])return e;var s=this.$store.state.listOfValues[t].find((function(t){return t[i.primaryKey]===e||t.code===e}));return s?s.label||s.code||s:e},getDataValue:function(e,t){var i=this;if(!e||!this.$store.state.data[t])return e;var s=this.$store.state.data[t].find((function(t){return t[i.primaryKey]===e||t.code===e}));return s?s.label||s.title||s.name||s.code||s:e},toggleColumn:function(e){this.$set(this.columnsState,e,!this.columnsState[e]),this.pushChangesToRouter()},onColumnFilter:function(e){"remote"===this.mode&&(this.updateParams(Object(s.a)(Object(s.a)({},e),{},{page:0})),this.getItems({useSkeleton:!0}))},onSortChange:function(e){var t=e[0].field||e[0].columnIndex,i=this.columns.find((function(e){return e.field===t}));if(i){var s={};s[i.field]=e[0].type||e[0].sortType,this.useRouterMode,"remote"===this.mode&&(this.pushChangesToRouter({query:{sort:s}}),this.updateParams({sort:s}),this.getItems({useSkeleton:!0}))}},onDateFilter:function(e){e&&(this.serverParams.range.startDate=e.startDate.toISOString().slice(0,10),this.serverParams.range.endDate=e.endDate.toISOString().slice(0,10),this.getItems({useSkeleton:!0}))},hasValue:function(e,t){return"undefined"!==e[t.toLowerCase()]},itemValue:function(e,t){return e[t.toLowerCase()]},getItemProperty:d.a.get}},P=(i(441),i(42)),I=Object(P.a)(S,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-table aw-listing"},[i("div",{staticClass:"float-left col-6 pl-0"},[e._t("table-header-left"),e._v(" "),e.segmentFieldDefinitionComputed?i("div",{staticClass:"card aw-segment-table-wrapper"},[i("awesome-segments",{attrs:{apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,field:e.segmentFieldDefinitionComputed},on:{change:e.onSegmentChange}})],1):e._e()],2),e._v(" "),i("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("table-header-right")],2),e._v(" "),i("div",{staticClass:"card aw-table-card aw-table"},[i("div",{staticClass:"card-header",class:"aw-table-header "+(e.optionsComputed.headerStyle?"colored-header bg-"+e.optionsComputed.headerStyle:"")},[e.isRefreshing?i("div",{staticStyle:{"text-align":"center"}},[e._m(0)]):e._e(),e._v(" "),i("h3",{staticClass:"card-title aw-table-header text-left"},[e._t("table-title",(function(){return[e._v("\n          "+e._s(e._tableTitle)+"\n        ")]})),e._v(" "),e._actions&&e._actions.refresh?i("div",{class:"automatic-refresh-button "+(e.autoRefresh?" active":"")},[e._actions&&e._actions.refresh?i("button",{staticClass:"btn btn-simple btn-alt-style btn-sm p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.getItems({useSkeleton:!0})}}},[i("i",{class:"fa fa-refresh"+(e.isRefreshing?" fa-spin":"")})]):e._e(),e._v(" "),i("span",{staticClass:"refresh-text"},[e._v(e._s(e.$t("AwesomeTable.automatique-refresh")))]),e._v(" "),i("label",{staticClass:"switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshInterface,expression:"autoRefreshInterface"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshInterface)?e._i(e.autoRefreshInterface,null)>-1:e.autoRefreshInterface},on:{change:function(t){var i=e.autoRefreshInterface,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=e._i(i,null);s.checked?n<0&&(e.autoRefreshInterface=i.concat([null])):n>-1&&(e.autoRefreshInterface=i.slice(0,n).concat(i.slice(n+1)))}else e.autoRefreshInterface=a}}}),e._v(" "),i("span",{staticClass:"slider round"})])]):e._e(),e._v(" "),i("div",{staticClass:"aw-table-top-actions float-right m-0 p-0"},[e._t("table-top-actions"),e._v(" "),e.canHideColumns?i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[e._v("\n              "+e._s(e.$t("AwesomeTable.columns"))+"\n            ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},e._l(e.formattedColumns,(function(t,s){return i("button",{key:s,staticClass:"dropdown-item",class:{"text-light bg-primary":e.columnsState[t.field],"d-none":"__ACTIONS"===t.field},attrs:{type:"button",href:"#"},on:{click:function(i){return e.toggleColumn(t.field)}}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),0)]):e._e(),e._v(" "),e._actions.filter&&e._actions.advancedFiltering?i("button",{staticClass:"btn btn-sm btn-simple mt-0",class:{"btn-primary":e.advancedFiltersCount||e.displayAwFilter,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false",id:"advancedFilterButton"},on:{click:e.toggleAdvancedFilters},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v("\n            "+e._s(e.$t("AwesomeTable.buttons.filters"))+"\n            "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+"\n          ")]):e._e(),e._v(" "),e._actions&&(e._actions.export||e._actions.exportLocal||e._actions.import||e._actions.columnsFilters||e._actions.dropdownActions)?i("popper",{attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button",id:"configurationButton"},slot:"reference"},[i("i",{staticClass:"fa fa-cog"}),e._v("\n              "+e._s(e.$t("AwesomeTable.configuration"))+"\n            ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("table-top-more-actions"),e._v(" "),e._actions.columnsFilters?i("button",{staticClass:"btn btn-sm btn-simple btn-main-style",class:{"btn-primary":e.columnsFilterState,"btn-danger":!e.columnsFilterState},attrs:{type:"button"},on:{click:function(t){return e.toggleFilter()}}},[i("i",{staticClass:"fa fa-filter"}),e._v("\n                "+e._s(e.columnsFilterState?e.$t("AwesomeTable.buttons.columnsFilters.deactivate"):e.$t("AwesomeTable.buttons.columnsFilters.activate"))+"\n              ")]):e._e(),e._v(" "),e._actions&&e._actions.export?i("button",{staticClass:"btn btn-sm btn-simple text-success btn-main-style btn-block",attrs:{type:"button"},on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                "+e._s(e.$t("AwesomeTable.buttons.excel"))+"\n              ")]):e._e(),e._v(" "),e._actions&&e._actions.exportLocal?i("button",{staticClass:"btn btn-sm btn-simple text-success btn-main-style btn-block",attrs:{type:"button"},on:{click:e.exportCurrentArrayToExcel}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                "+e._s(e.$t("AwesomeTable.buttons.excel-currentpage"))+"\n              ")]):e._e(),e._v(" "),e.isSaveStateEnabledCpt?i("button",{staticClass:"btn btn-sm btn-simple text-info btn-main-style btn-block",attrs:{type:"button"},on:{click:e.clearComponentState}},[i("i",{staticClass:"fa fa-trash"}),e._v("\n                "+e._s(e.$t("AwesomeTable.buttons.clear-state"))+"\n              ")]):e._e()],2)]):e._e()],2)],2),e._v(" "),i("p",{staticClass:"card-category"},[e._t("table-subtitle")],2),e._v(" "),e.collapsible?i("button",{staticClass:"btn btn-sm btn-i",staticStyle:{position:"absolute",top:"0",right:"0",padding:"0"},attrs:{"data-toggle":"collapse","data-target":"#awTable-"+this._uid||!1}},[i("i",{staticClass:"fa fa-minus"})]):e._e()]),e._v(" "),i("div",{staticClass:"card-body aw-table-card-body collapse show",class:e.collapsible?"collapse show":"",attrs:{id:"awTable-"+this._uid||!1}},[e.displayAwFilter?i("awesome-filter",{staticClass:"p-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),e._actions.filter&&e._actions.advancedFiltering?i("awesome-filter",{attrs:{"display-filters":"",id:"advancedFilterComponent",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),i("div",{staticClass:"table-responsive"},[i("vue-good-table",{ref:"table-"+e.entity,attrs:{mode:e.mode,"total-rows":e.totalCount,"style-class":"vgt-table table striped",columns:e.displayedColumns,"fixed-header":e.optionsComputed&&e.optionsComputed.fixedHeader,"max-height":e.optionsComputed.maxHeight,rows:e.data||[],"filter-options":{enabled:e._actions.filter},"sort-options":{initialSortBy:e.initialSortBy},"search-options":{enabled:e._actions.search,placeholder:this.$t("AwesomeTable.searchInput")},"pagination-options":{enabled:!e._actions||e._actions.pagination,nextLabel:this.$t("AwesomeTable.next"),prevLabel:this.$t("AwesomeTable.prev"),rowsPerPageLabel:this.$t("AwesomeTable.rows_per_page"),ofLabel:this.$t("AwesomeTable.of"),pageLabel:this.$t("AwesomeTable.page"),allLabel:this.$t("AwesomeTable.all"),perPage:e.perPageComputed,setCurrentPage:parseInt(e.serverParams.page)||void 0},"select-options":{enabled:!0,selectOnCheckboxOnly:!0,selectionInfoClass:"awesome-table-selection",selectionText:this.$t("AwesomeTable.bulk.row-select"),clearSelectionText:this.$t("AwesomeTable.bulk.clear"),disableSelectInfo:!1,selectAllByGroup:!0}},on:{"on-page-change":e.onPageChange,"on-sort-change":e.onSortChange,"on-column-filter":e.onColumnFilter,"on-per-page-change":e.onPerPageChange,"on-search":e.onSearch,"on-cell-click":e.clickOnLine,"on-selected-rows-change":e.onSelectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(t){return[e.showSkeleton?i("Skeleton",{attrs:{count:1,loading:!0}}):["__ACTIONS"!==t.column.field?i("awesome-display",e._b({staticClass:"pointer text-avoid-overflow",attrs:{apiResponseConfig:e.apiResponseConfig,apiRequestHeaders:e.apiRequestHeaders,value:e.getItemProperty(t.row,t.column.field)}},"awesome-display",t.column,!1)):"__ACTIONS"===t.column.field?i("span",{staticClass:"text-right aw-table-actions-field"},[e._t("table-row-actions",(function(){return[e.customInlineActions?[i("AwesomeActionList",{attrs:{actions:e.customInlineActions,item:t.row,parent:e.parent,location:"inline"},on:{customAction:function(t){return e.$emit("customAction",t)}}})]:e._e()]}),{item:t.row}),e._v(" "),e.templateParseConditionalField(e._actionsBeforeCalculation.view,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon mr-2",attrs:{type:"button"},on:{click:function(i){return e.$emit("view",t.row)}}},[i("i",{staticClass:"fa fa-eye text-info"})]):e._e(),e._v(" "),e.templateParseConditionalField(e._actionsBeforeCalculation.edit,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon mr-2",attrs:{type:"button"},on:{click:function(i){return e.$emit("edit",t.row)}}},[i("i",{staticClass:"fa fa-pencil fa fa-pencil text-primary"})]):e._e(),e._v(" "),e.templateParseConditionalField(e._actionsBeforeCalculation.delete,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon",attrs:{type:"button"},on:{click:function(i){return e.$emit("delete",t.row)}}},[i("i",{staticClass:"fa fa-trash text-danger"})]):e._e()],2):"list-of-value"===t.column.type||"lov"===t.column.type?i("span",{staticClass:"pointer",on:{click:function(i){return e.clickOnLine(t)}}},[e._v(e._s(e.getLovValue(t.formattedRow[t.column.field],t.column.listName)))]):"list-of-data"===t.column.type?i("span",{staticClass:"pointer",on:{click:function(i){return e.clickOnLine(t)}}},[e._v(e._s(e.getDataValue(t.formattedRow[t.column.field],t.column.listName)))]):e._e()]]}}])},[i("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[e.customBulkActions?[i("AwesomeActionList",{attrs:{actions:e.customBulkActions,items:e.selectedRows,columns:e.columns,parent:e.parent,location:"bulk"},on:{customAction:function(t){return e.$emit("customAction",t)}}})]:e._e(),e._v(" "),e._actions.bulkDelete&&e._actions.delete?i("button",{staticClass:"btn btn-sm btn-primary ml-2 mr-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("bulkDelete",e.selectedRows)}}},[i("i",{staticClass:"fa fa-trash"}),e._v("\n              "+e._s(e.$t("AwesomeTable.bulk.delete"))+"\n            ")]):e._e(),e._v(" "),e._actions.bulkEdit&&e._actions.edit?i("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(t){return e.$emit("bulkEdit",e.selectedRows)}}},[i("i",{staticClass:"fa fa-pencil"}),e._v("\n              "+e._s(e.$t("AwesomeTable.bulk.edit"))+"\n            ")]):e._e()],2),e._v(" "),e.customTableTopActions.length||e._actions.dateFilter?i("div",{attrs:{slot:"table-actions"},slot:"table-actions"},[e._actions.dateFilter?i("date-range-picker",{staticClass:"form-group vgt-date-range",attrs:{placeholder:e.$t("AwesomeTable.daterange.start"),"date-range":{startDate:e.defaultStartDate,endDate:e.defaultEndDate},"locale-data":e.datePicker.locale,opens:"left"},on:{update:e.onDateFilter}}):e._e(),e._v(" "),e.customTableTopActions?[i("AwesomeActionList",{staticClass:"ml-1",attrs:{actions:e.customTableTopActions,columns:e.columns,location:"tabletop"},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":e.permanentFiltering}}),e._v(" "),e.optionsComputed.autoSearch?e._e():i("button",{staticClass:"btn btn-sm btn-primary btn-add-item ",attrs:{type:"button"},on:{click:e.doRefresh}},[i("i",{staticClass:"fa fa-search"})])]:e._e()],2):e._e(),e._v(" "),e._v(" "),i("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[e._t("table-empty-state",(function(){return[i("div",{staticClass:"text-center"},[e._v("\n                "+e._s(e.$t("AwesomeTable.empty"))+"\n                "),i("br"),e._v(" "),i("i",{staticClass:"fa fa-file-o fa-4x"}),i("br"),e._v(" "),e._actions.create?i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.$emit("create")}}},[e._v("\n                  "+e._s(e.$t("AwesomeTable.createFirstItem"))+" "),i("i",{staticClass:"fa fa-plus text-primary"})]):e._e()])]}))],2)])],1)],1)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress",staticStyle:{height:"5px","border-radius":"0px",position:"absolute",top:"0",left:"0",width:"100%"}},[t("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"5%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])}],!1,null,null,null);t.a=I.exports},329:function(e,t,i){"use strict";i(24);var s=i(341),a=i.n(s),n={name:"AwesomeActionList",components:{AwesomeAction:i(383).a,Popper:a.a},props:{actions:{type:Array,required:!0,note:"List of actions"},items:{type:Array,note:"List of items"},item:{type:Object,note:"Selected item"},columns:{type:Array,note:"In case of type: filter || input, the list of the model's columns"},location:{type:String,note:"The location of the element"},parent:{type:Object,note:"The parent of the current element (in case of nested)"},useDropdown:{type:Boolean,note:"if the slect items should be in a dropdown"}},computed:{foldableActions:function(){return this.actions.filter((function(e){return!e.type||"button"===e.type&&!e.sticky}))},unFoldableActions:function(){return this.actions.filter((function(e){return e.type&&"button"!==e.type||e.sticky}))}}},o=(i(440),i(42)),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-action-list"},[e.useDropdown?[e._l(e.unFoldableActions,(function(t,s){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[i("AwesomeAction",e._b({key:s,staticStyle:{display:"inline-block"},attrs:{classes:t.class||t.classes,index:s,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]})),e._v(" "),i("div",{staticClass:"dropdown awesome-action-list-dropdown"},[i("popper",{attrs:{trigger:"clickToOpen",options:{placement:"bottom"}}},[i("button",{staticClass:"btn btn-sm btn-outline-secondary ml-1 mr-1 dropdown-toggle",attrs:{slot:"reference",id:"dropdownMenuButton",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[i("i",{staticClass:"fa fa-bars"}),e._v(" "+e._s(e.$t("AwesomeTable.actions"))+"\n        ")]),e._v(" "),i("div",{staticClass:"card",staticStyle:{"max-height":"80vh",overflow:"auto","z-index":"1"}},[e._l(e.foldableActions,(function(t,s){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[i("AwesomeAction",e._b({key:s,attrs:{classes:t.class||t.classes,index:s,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]}))],2)])],1)]:e._e(),e._v(" "),e.useDropdown?e._e():[e._l(e.actions,(function(t,s){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[i("AwesomeAction",e._b({key:s,attrs:{classes:t.class||t.classes,index:s,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]}))]],2)}),[],!1,null,"257337bf",null);t.a=r.exports},332:function(e,t,i){},333:function(e,t,i){},334:function(e,t,i){},335:function(e,t,i){},336:function(e,t,i){},337:function(e,t,i){},338:function(e,t,i){},339:function(e,t,i){},342:function(e,t,i){"use strict";i(170),i(310),i(97),i(169),i(70),i(308),i(323),i(99),i(10),i(352),i(43),i(324),i(98);var s=i(309),a=(i(101),i(44)),n=i(72),o=i(393),r=i.n(o),l=i(314),d=i.n(l),u=i(306),c=i.n(u),p=i(315),m=i(312);t.a={mixins:[p.a,m.a],props:{rows:{type:Array,default:function(){return[]}},primaryKey:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey||"id"},description:"Which field to use as primary key. By default it's `id` but it can be `_id`  or anything that you want"},url:{type:String,default:""},useRouterMode:{type:Boolean,default:!1,description:"Determine whether the component should interact with the vue-router."},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},identity:{type:[String,Number],required:!1,note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},title:{type:[String,Boolean],default:""},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},perPage:{type:[String,Number],default:20},limit:{type:[String,Number],default:1e3,note:"Limit serves in case of local pagination to limit the number of results from the api, in order to avoid memory overflows"},options:{type:Object,default:function(){return{}}},mode:{default:"local",type:String},savePaginationState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation page, perPage"},saveColumnsState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation (columns, sort etc"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"}},data:function(){return{totalCount:0,isRefreshing:!1,serverParams:{filters:{},range:{},sort:{},page:0,perPage:this.perPage},columnFilters:{},advancedFilters:[],parsedAdvancedFilters:{},data:[],showSkeleton:!1,routeQueryParams:{},segmentQueryField:"",segmentValue:""}},computed:{params:function(){return this.apiQueryParams},opts:function(){return c.a.merge(this.defaultOptions,this.options)},_translatedServerParams:function(){var e=this,t={};this.injectSegmentFilter(this.segmentQueryField,this.segmentValue);var i=c.a.merge({},this.serverParams,this.apiQueryParams,this.apiRequestPermanentQueryParams);return Object.keys(i).forEach((function(s){var a=e.apiRequestConfig[s+"Field"]||s;t[a]=i[s]})),"local"===this.mode&&(t.perPage=this.limit),t},isSaveStateEnabledCpt:function(){return this.saveColumnsState||this.savePaginationState},_actions:function(){var e=this,t=c.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(t).forEach((function(i){var s=Object(n.a)(i,2),a=s[0],o=s[1];"boolean"!=typeof o&&(t[a]=e.templateParseConditionalField(o))})),t},_actionsBeforeCalculation:function(){return c.a.merge({},this.actions||this.mergedOptions&&this.mergedOptions.actions||this.optionsComputed&&this.optionsComputed.actions||this.options&&this.options.actions)},segmentFieldDefinitionComputed:function(){var e=this;if(!this.segmentField)return"";if(this.columns){var t=this.columns.find((function(t){return t.field===e.segmentField}));if(t)return t}return""}},watch:{needsRefresh:"refreshLocalData",apiQueryParams:function(e,t){e&&JSON.stringify(e)!==JSON.stringify(t)&&(this.serverParams=c.a.merge({},this.apiQueryParams,this.serverParams),this.getItems({useSkeleton:!0,source:"[apiListMixin] apiQueryParams"}))},entity:"entityChanged",rows:"refreshLocalData",url:"refreshLocalData",$route:function(e){this.connectRouteToPagination(e)}},created:function(){if(!this.$http)try{var e=i(331);this.$http=e}catch(e){}},beforeMount:function(){var e=window.navigator?navigator.language||navigator.userLanguage:"en";d()().locale(e)},mounted:function(){this.$awEventBus&&this.$awEventBus.$on("aw-table-needs-refresh",this.refreshLocalData),this.restoreComponentState(),this.connectRouteToPagination(this.$route),this.refreshLocalData()},beforeDestroy:function(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh",this.refreshLocalData)},methods:{startCase:c.a.startCase,refreshLocalData:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._url){e.next=5;break}return e.next=3,t.getItems({useSkeleton:!0,source:"[apiListMixin] refreshLocalData"});case 3:e.next=8;break;case 5:t.data=t.rows,t.totalCount=t.rows?t.rows.length:0,t.$forceUpdate();case 8:t.localRefreshCompleted();case 9:case"end":return e.stop()}}),e)})))()},entityChanged:function(){this.data=this._url?[]:this.rows,this.serverParams={},this.getItems({useSkeleton:!0,source:"[apiListMixin] entityChanged"})},localRefreshCompleted:function(){this.$emit("update:needsRefresh",!1),this.$emit("afterRefresh",{data:this.data})},getItems:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{useSkeleton:!1};if(this.refresh)this.refresh({filters:this.serverParams&&this.serverParams.filters,translatedParams:this._translatedServerParams});else if(this._url)return t.useSkeleton&&(this.showSkeleton=t.useSkeleton),this.isRefreshing=!0,this.$awEmit("before-api-refresh",{component:"aw-listing",url:this._url}),this.$http.get("".concat(this._url).concat(-1===this._url.indexOf("?")?"?":"&").concat(r.a.stringify(this._translatedServerParams,{})),{}).then((function(t){e.$awEmit("after-api-refresh",{response:t,component:"aw-listing",url:e._url}),e.data=e.apiResponseConfig&&e.apiResponseConfig.dataPath?c.a.get(t,e.apiResponseConfig.dataPath):t.data,e.totalCount=e.apiResponseConfig&&e.apiResponseConfig.totalCountPath?c.a.get(t,e.apiResponseConfig.totalCountPath):t.data.totalCount,e.$emit("crud-list-updated",e.data),e.$awEmit("table-refreshed",{component:"aw-listing",url:e.url,data:e.data}),e.$emit("dataChanged",e.data),e.$awEmit("data-changed",{component:"aw-listing",url:e.url,data:e.data})})).catch((function(t){console.warn(t),e.apiErrorCallback(t)})).finally((function(){e.showSkeleton=!1,e.isRefreshing=!1}))},onClick:function(e){this.opts&&this.opts.actions&&this.opts.actions.view&&this.$emit("view",e),this.$emit("itemClicked",e)},updateParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:void 0,search:void 0,perPage:void 0,columnFilters:void 0,advancedFilters:void 0,parsedAdvancedFilters:void 0,filters:void 0,columns:void 0,sort:void 0,permanent:!1},i=t.columnFilters&&Object.keys(t.columnFilters).length?Object.assign({},t.columnFilters):{};Object.keys(i).length>0&&(this.columnFilters={},Object.keys(i).forEach((function(t){null!=i[t]&&""!=i[t]&&(e.columnFilters["".concat(t)]={$default:i[t]})})),delete t.columnFilters),t.columns&&(this.columnsState=t.columns),t.sort&&(this.serverParams.sort=t.columns),t.advancedFilters&&(this.advancedFilters=t.advancedFilters,delete t.advancedFilters),t.parsedAdvancedFilters&&(this.parsedAdvancedFilters=t.parsedAdvancedFilters,delete t.parsedAdvancedFilters),t.permanent?Object.keys(this.parsedAdvancedFilters).forEach((function(t){e.serverParams.filters[t]&&"$relation"!==t&&delete e.serverParams.filters[t],Object.keys(e.parsedAdvancedFilters[t]).forEach((function(i){"$relation"===t?Object.keys(e.parsedAdvancedFilters[t][i]).forEach((function(s){e.parsedAdvancedFilters[t][i][s]||(delete e.parsedAdvancedFilters[t][i],e.serverParams.filters[t]&&e.serverParams.filters[t][i]&&delete e.serverParams.filters[t][i])})):e.parsedAdvancedFilters[t][i]||(delete e.serverParams.filters[t],delete e.parsedAdvancedFilters[t])}))})):delete this.serverParams.filters,this.serverParams=c.a.merge({},this.serverParams,t,{advancedFilters:void 0,filters:Object(s.a)(Object(s.a)({},this.parsedAdvancedFilters),this.columnFilters)},this.apiQueryParams)},sortFn:function(e,t,i,s,a){return e<t?-1:e>t?1:0},onPageChange:function(e){this.pushChangesToRouter({query:Object(s.a)(Object(s.a)({},this.$route.query),{},{page:e.currentPage})}),"remote"===this.mode&&(this.updateParams({page:e.currentPage}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onPageChange"}))},onPerPageChange:function(e){this.pushChangesToRouter({query:Object(s.a)(Object(s.a)({},this.$route.query),{},{perPage:e.currentPerPage})}),"remote"===this.mode&&(this.updateParams({perPage:e.currentPerPage}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onPerPageChange"}))},onSearch:function(e){if("remote"===this.mode){var t=e.searchTerm;this.updateParams({search:t,page:1}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onSearch"})}},onSelectionChanged:function(e){e&&(this.selectedRows=e.selectedRows)},pushChangesToRouter:function(e){this.saveComponentState()},connectRouteToPagination:function(e){if(this.useRouterMode){if(Object.keys(e.query).length)return this.updateParams({page:e.query.page,search:e.query.search||"",perPage:e.query.perPage||"",filters:e.query.filters||""}),void(this.routeQueryParams={page:e.query.page||"",search:e.query.search||"",perPage:e.query.perPage||"",filters:e.query.filters||""});if(Object.keys(this.routeQueryParams).length)return this.updateParams(Object(s.a)(Object(s.a)({},this.routeQueryParams),{},{columns:void 0})),void this.pushChangesToRouter()}},exportCurrentArrayToExcel:function(){var e="",t=this.data[0];Object.keys(t).forEach((function(t){e+="".concat(t,",")})),e+="\r\n",this.data.forEach((function(t){Object.values(t).forEach((function(t){e+="".concat(t,",")})),e+="\r\n"})),e="data:application/csv,".concat(encodeURIComponent(e));var i=document.createElement("A");i.setAttribute("href",e),i.setAttribute("download","".concat(this.entity||this.identity||this.name||this.title||this.$options.name,".csv")),document.body.appendChild(i),i.click()},saveComponentState:function(){if(this.isSaveStateEnabledCpt&&this.uuid&&window.localStorage)try{var e=Object(s.a)({},this.columnsState);delete e.__ACTIONS,localStorage.setItem("".concat(this.uuid,"-").concat(this.$options.name,"-state"),JSON.stringify({routeQueryParams:this.savePaginationState?this.routeQueryParams:void 0,columnsState:this.saveColumnsState?e:void 0,columnFilters:this.saveColumnsState?this.columnFilters:void 0,advancedFilters:this.saveColumnsState?this.advancedFilters:void 0}))}catch(e){console.warn("saveComponentState",e.message)}},restoreComponentState:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.isSaveStateEnabledCpt&&e.uuid&&window.localStorage)){t.next=11;break}return t.prev=1,t.next=4,localStorage.getItem("".concat(e.uuid,"-").concat(e.$options.name,"-state"));case 4:(i=t.sent)&&(i=JSON.parse(i),e.savePaginationState&&(e.routeQueryParams=i.routeQueryParams),i.columnsState&&e.saveColumnsState&&(e.columnsState=i.columnsState)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.warn(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},clearComponentState:function(){try{window.localStorage&&localStorage.removeItem("".concat(this.uuid,"-").concat(this.$options.name,"-state"))}catch(e){console.warn(e)}},exportCallBack:function(){var e=this;this.exportUrl?this.$http.get(this.exportUrl,{}).then((function(t){if(t.data.url){var i=document.createElement("a");i.download="".concat(e.entity||"","_export"),i.href=t.data.url,i.click(),i.remove()}})).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export url",type:"warning"})},injectSegmentFilter:function(e,t){if("ALL"===t){delete this.serverParams[e];var i=this.apiRequestConfig.filtersField;this.serverParams[i]&&this.serverParams[i][e]&&delete this.serverParams[i][e],this.segmentValue=""}else this.serverParams.filters||(this.serverParams.filters={}),this.apiRequestConfig.filtersField?(this.serverParams[this.apiRequestConfig.filtersField][e]||(this.serverParams[this.apiRequestConfig.filtersField][e]={}),this.apiRequestConfig.filtersOperator?this.serverParams[this.apiRequestConfig.filtersField][e][this.apiRequestConfig.filtersOperator]=this.segmentValue:this.serverParams[this.apiRequestConfig.filtersField][e]=this.segmentValue):this.serverParams[e]=this.segmentValue},onSegmentChange:function(e){var t=e.segmentField,i=e.segmentValue;this.segmentValue=i,this.segmentQueryField=t,this.injectSegmentFilter(t,i),this.getItems({useSkeleton:!0,source:"[apiListMixin] segmentChanged"})}}}},344:function(e,t,i){"use strict";i(170),i(24),i(310),i(97),i(171),i(173),i(69),i(174),i(70),i(10),i(43),i(100),i(25),i(316),i(98),i(29);var s=i(320),a=i(309),n=(i(101),i(44)),o=i(31),r=i(45),l=i(306),d=i.n(l),u=i(307),c=i(342),p=i(311),m=i(322),h={props:{imageField:{type:String,default:""},titleField:{type:String,default:""},subtitleField:{type:String,default:""},descriptionField:{type:String,default:""},usersField:{type:String,default:""},labelsField:{type:String,default:""}}},f=i(317),v=i(306),g={computed:{advancedFiltersCount:function(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated:function(){return f.a.methods.parseFilter(this.advancedFilters,{dispatch:!1})}},methods:{advancedFiltering:function(e,t){this.updateParams({advancedFilters:v.cloneDeep(t),parsedAdvancedFilters:v.cloneDeep(e),page:0}),this.optionsComputed&&!this.optionsComputed.autoSearch||this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},permanentFiltering:function(e,t){this.updateParams({parsedAdvancedFilters:v.cloneDeep(e),page:0,permanent:!0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("permanent-filter",{filters:e}),this.$awEmit("filter",{filters:this.serverParams.filters})}}},b=i(385),y=(i(308),i(99),i(0)),C=i(318),_={name:"KanbanList",components:{AwesomeDisplay:i(321).a},mixins:[u.a,h,C.a],props:{id:{type:String,required:!0},title:{type:[String,Boolean],default:"Title"},items:{type:Array,default:function(){return[]}},group:{type:String,default:"default"},animation:{type:Number,default:200},scrollSensitivity:{type:Number,default:150},columns:{type:Array,default:function(){return[]}},customListActions:{type:Array,default:function(){return[]}},displayLabelsCache:{type:Object,default:function(){return{}}},displayColumnsInCards:{type:Boolean,default:!1}},created:function(){this.$root.$options.components.Draggable||y.a.options.components.Draggable||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!")},data:function(){return{}},methods:{removeList:function(){this.$emit("remove-list",{id:this.id,title:this.title})},cardChanged:function(e){this.$emit("change",e,{id:this.id,title:this.title},this.items),e&&(e.added&&this.$emit("cardAdded",e.added,{id:this.id,title:this.title},this.items),e.removed&&this.$emit("cardRemoved",e.removed,{id:this.id,title:this.title},this.items),e.moved&&this.$emit("cardMoved",e.moved,{id:this.id,title:this.title},this.items))},getAllowedData:function(e){var t=this,i={};return Object.keys(e).forEach((function(s){t.columns.forEach((function(t){t.field===s&&(i=Object.assign(i,d.a.pick(e,[s])))}))})),i},getField:function(e){var t=d.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},cardClicked:function(e){this.$emit("cardClicked",e)},getItemUsers:function(e,t){var i=this.getItemProperty(e,t);return"string"==typeof i?[i]:i}},computed:{hasFormattingData:function(){return this.titleField||this.imageField||this.subtitleField||this.descriptionField||this.labelsField}}},w=(i(398),i(42)),O=Object(w.a)(_,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list"},[i("div",{staticClass:"list-content"},[i("div",{staticClass:"list-header"},[i("div",{staticClass:"list-title"},[e._v("\n        "+e._s(e.title)+"\n      ")]),e._v(" "),i("div",{staticClass:"list-actions"},[i("div",{staticClass:"dropdown column"},[e._m(0),e._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"filter"}},[e._l(e.customListActions,(function(t,s){return[i("a",{key:s,staticClass:"dropdown-item",class:t.class,attrs:{href:"javascript:void(0)",id:t.name+"-"+s,"data-title":t.title||t.label,"data-tooltip":t.title||t.label},on:{click:function(i){return e.$emit("customListAction",{action:t,items:e.items,location:"",id:t.name+"-"+s})}}},[t.icon?i("i",{class:t.icon}):e._e(),e._v(" "),i("span",{domProps:{innerHTML:e._s(t.label?e.$t(t.label):"")}})])]})),e._v(" "),e.customListActions.length?i("div",{staticClass:"dropdown-divider"}):e._e(),e._v(" "),i("a",{staticClass:"dropdown-item text-danger",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.removeList.apply(null,arguments)}}},[e._v(e._s(e.$t("AwesomeKanban.labels.removeList")))])],2)])])]),e._v(" "),i("div",{staticClass:"list-cards"},[i("Draggable",{staticClass:"draggable-card",attrs:{list:e.items,group:e.group,animation:e.animation,"ghost-class":"moving-card","scroll-sensitivity":e.scrollSensitivity},on:{change:e.cardChanged}},e._l(e.items,(function(t,s){return i("div",{key:s,staticClass:"card",on:{click:function(i){return e.cardClicked(t)}}},[e.imageField&&e.getItemProperty(t,e.imageField)?i("img",{staticClass:"card-img-top",attrs:{src:e.getItemProperty(t,e.imageField),alt:e.getItemProperty(t,e.titleField)}}):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[e.usersField&&e.getItemProperty(t,e.usersField)?[i("div",{staticClass:"pull-right"},e._l(e.getItemUsers(t,e.usersField),(function(e,t){return i("img",{key:t,staticClass:"kanban-user-img",attrs:{alt:e.label,title:e.label,src:e.src||e}})})),0)]:e._e(),e._v(" "),e.getItemProperty(t,e.titleField)?i("h5",{staticClass:"card-title text-truncate"},[e._v("\n              "+e._s(e.getItemProperty(t,e.titleField))+"\n            ")]):e._e(),e._v(" "),e.getItemProperty(t,e.subtitleField)?i("h6",{staticClass:"card-subtitle mb-2 text-muted text-truncate"},[e._v("\n              "+e._s(e.getItemProperty(t,e.subtitleField))+"\n            ")]):e._e(),e._v(" "),e.getItemProperty(t,e.descriptionField)?i("p",{staticClass:"card-text"},[e._v("\n              "+e._s(e.getItemProperty(t,e.descriptionField))+"\n            ")]):e._e(),e._v(" "),e.getItemProperty(t,e.labelsField)?i("div",{staticClass:"pull-right"},e._l(e.getItemProperty(t,e.labelsField),(function(t){return i("small",{key:t,staticClass:"badge badge-primary"},[e._v(e._s(t))])})),0):e._e(),e._v(" "),e.columns&&e.columns.length&&(!e.hasFormattingData||e.displayColumnsInCards)?e._l(e.getAllowedData(t),(function(t,s){return i("div",{key:s},[e._v("\n                "+e._s(s)+" :\n                "),i("AwesomeDisplay",{attrs:{type:e.getField(s).type,value:t,relation:e.getField(s).relation,"relation-label":e.getField(s).relationLabel,"relation-url":e.getField(s).relationUrl,"relation-key":e.getField(s).relationKey,"display-label-cache":e.displayLabelsCache}})],1)})):e._e(),e._v(" "),e.hasFormattingData||e.displayColumnsInCards?e._e():i("p",{staticClass:"card-text"},[e._v("\n              "+e._s(e.$t("AwesomeKanban.labels.noData"))+"\n            ")])],2)])})),0)],1)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("button",{staticClass:"btn btn-simple btn-alt-style btn-sm p-2",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t("i",{staticClass:"fa fa-ellipsis-h"})])}],!1,null,"ee120344",null).exports,$=i(348),F=i(325),x={name:"AwesomeKanban",components:{KanbanList:O,AwesomeSegments:$.a,AwesomeFilter:f.a},mixins:[u.a,p.a,c.a,m.a,h,b.a,g],props:{splittingField:{type:[String,Object]},sortField:{type:[String,Object]},sortOrder:{type:String,default:"asc",validator:function(e){return["asc","desc"].includes(e)}},splittingValues:{type:Array},lists:{type:Array,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return F.b}},actions:{type:Object,default:function(){return{refresh:!0,addList:!0}}},displayOrphansList:{type:Boolean,default:!0},displayColumnsInCards:{type:Boolean,default:!1}},data:function(){return{localLists:[],isAddingList:!1,newListName:"",isRefreshing:!1,displayLabelsCache:{},splittingFieldApiValues:[],displayAwFilter:!1}},created:function(){this.$root.$options.components.Draggable||console.error("`Draggable` is missing. Please install `vuedraggable` and register the component globally!"),this.reorderListItemsDebounced=d.a.debounce(this.reorderListItems,200)},mounted:function(){this.handleLists()},computed:{_model:function(){return this.model||this.getModelFromStore(this.identity)},titleComputed:function(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.pluralName?this.$te(this._model.pluralName)?this.$t(this._model.pluralName):d.a.startCase(this._model.pluralName):this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):d.a.startCase(this._model.singularName):this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):d.a.startCase(this._model.name):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):d.a.startCase(this.identity):""},splittingValuesComputed:function(){return this.splittingValues&&Array.isArray(this.splittingValues)&&this.splittingValues.length?this.splittingValues:this.splittingFieldApiValues},segmentFieldDefinitionComputed:function(){var e=this;if(!this.splittingField)return"";if(this.columns){var t=this.columns.find((function(t){return t.field===e.splittingField}));if(t)return t}return""}},watch:{lists:function(){this.handleLists()},data:function(){this.handleLists()},splittingField:function(){this.handleLists()},splittingValuesComputed:function(){this.handleLists()},"options.sortField":function(){this.orderCardInLists()},"options.sortOrder":function(){this.orderCardInLists()}},methods:{addList:function(){this.newListName&&(d.a.some(this.localLists,{title:this.newListName})||(this.localLists.push({id:this.newListName,title:this.newListName,content:[]}),this.newListName="",this.isAddingList=!1))},clearForm:function(){this.isAddingList=!1,this.newListName=""},editForm:function(){this.isAddingList=!0},onRemoveList:function(e){this.localLists=d.a.filter(this.localLists,(function(t){return t.title!==e})),this.$emit("removeList",e)},listChanged:function(e){this.$emit("listChanged",e)},onCardChanged:function(e,t,i){this.$emit("cardChanged",e,t,i),this.reorderListItemsDebounced(i)},onCardRemoved:function(e,t){this.$emit("cardRemoved",e,t)},onCardAdded:function(e,t,i){this.$emit("cardAdded",e,t,i),this.changeItemSplittingValue(e,t,i)},onCardMoved:function(e,t){this.$emit("cardAdded",e,t)},onCardClicked:function(e){this.$emit("cardClicked",e)},handleLists:function(){if(this.lists&&this.lists.length)this.localLists=d.a.cloneDeep(this.lists);else if(this.data&&Array.isArray(this.data)){var e=this.displayOrphansList?[{id:"unsorted",title:this.$t("AwesomeKanban.labels.unsorted"),content:d.a.cloneDeep(this.data)}]:[];this.localLists=d.a.cloneDeep(e)}this.filterLists(),this.orderCardInLists()},filterLists:function(){var e=this;this.splittingField&&this.splittingValuesComputed&&Array.isArray(this.splittingValuesComputed)&&this.splittingValuesComputed.forEach((function(t){var i=t,s=t.toString();"object"===Object(r.a)(t)&&(i=e.segmentFieldDefinitionComputed.relation&&t[e.segmentFieldDefinitionComputed.relationKey]||t.id||t,s=e.segmentFieldDefinitionComputed.relation&&t[e.segmentFieldDefinitionComputed.relationLabel]||t.label||t);var a=[];e.localLists.forEach((function(t){a.push(d.a.filter(t.content,[e.splittingField,i])),d.a.remove(t.content,(function(t){return t[e.splittingField]===i}))})),a=d.a.flatten(Object(o.a)(a)),d.a.some(e.localLists,{id:i,title:s})||e.localLists.push({id:i,title:s,content:a})}))},orderCardInLists:function(){var e=this,t=this.sortOrder?this.sortOrder.toLowerCase():"asc";this.sortField&&this.localLists.forEach((function(i){i.content.length>1&&(i.content=d.a.orderBy(i.content,(function(t){return t[e.sortField]}),[t]))}))},onCustomListAction:function(e){this.$emit("customListAction",e)},getSegmentValues:function(e){return e&&(e.fieldOptions&&e.fieldOptions.filterDropdownItems||e.enum||e.fieldOptions.values||e.fieldOptions.options)},changeItemSplittingValue:function(e,t,i){var s=this;return Object(n.a)(regeneratorRuntime.mark((function i(){var a,n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=e.element,e.newIndex,a[s.splittingField]="unsorted"===t.id||void 0===t.id?null:t.id,s.sortField&&delete a[s.sortField],(n=s._url.split("?"))[0]="".concat(n[0],"/").concat(a[s.primaryKey]),i.next=7,s.$http.put(n.join("?"),a);case 7:case"end":return i.stop()}}),i)})))()},reorderListItems:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function i(){var n;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.sortField||!e){i.next=4;break}return n=e.map((function(e,i){var n=t._url.split("?");return delete e[t.splittingField],n[0]="".concat(n[0],"/").concat(e[t.primaryKey]),t.$http.put(n.join("?"),Object(a.a)(Object(a.a)({},e),{},Object(s.a)({},t.sortField,i)))})),i.next=4,Promise.all(n);case 4:case"end":return i.stop()}}),i)})))()},onSegmentListChanged:function(e){this.splittingFieldApiValues=e}}},A=(i(399),Object(w.a)(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-kanban aw-listing"},[i("div",{staticClass:"float-left col-6 pl-0"},[e._t("kanban-header-left"),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.segmentFieldDefinitionComputed,expression:"segmentFieldDefinitionComputed"}],staticClass:"card aw-segment-table-wrapper d-none"},[i("awesome-segments",{attrs:{field:e.segmentFieldDefinitionComputed,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig},on:{change:e.onSegmentChange,"segment-list-changed":e.onSegmentListChanged}})],1)],2),e._v(" "),i("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("kanban-header-right",(function(){return[i("button",{staticClass:"btn btn-primary",staticStyle:{visibility:"hidden"}},[e._v("")])]}))],2),e._v(" "),i("div",{staticClass:"card aw-kanban-card"},[i("div",{staticClass:"d-block"},[i("div",{staticClass:"card-header"},[i("h4",{staticClass:"text-left"},[e._t("aw-kanban-title",(function(){return[e._v(e._s(e.titleComputed))]})),e._v(" "),e.displayAwFilter?i("awesome-filter",{staticClass:"p-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),i("awesome-filter",{attrs:{"display-filters":"",id:"advancedFilterComponent",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}),e._v(" "),i("div",{staticClass:"btn-group btn-group-sm float-right awesome-list-buttons"},[e.isRefreshing?i("div",{staticStyle:{"text-align":"center"}},[i("i",{staticClass:"fa fa-circle-o-notch fa-spin fa-2x fa-fw",staticStyle:{color:"#888","margin-left":"10px"}})]):e._e(),e._v(" "),e._t("top-actions"),e._v(" "),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions.filter&&e.actions.advancedFiltering?i("button",{staticClass:"btn btn-simple btn-sm",class:{"btn-primary":e.displayAwFilter||e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayAwFilter=!e.displayAwFilter}},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v("\n                "+e._s(e.$t("AwesomeTable.buttons.filters"))+"\n                "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+"\n              ")]):e._e(),e._v(" "),e.actions&&e.actions.refresh?i("button",{staticClass:"btn btn-simple btn-sm p-0",on:{click:function(t){return e.getItems()}}},[i("i",{class:"fa fa-refresh"+(e.isRefreshing?" fa-spin":"")}),e._v("\n                "+e._s(e.$t("AwesomeKanban.buttons.refresh"))+"\n              ")]):e._e()])],2)],2)])]),e._v(" "),i("div",{staticClass:"card-body"},[i("div",{staticClass:"awesome-kanban"},[i("Draggable",{staticClass:"draggable-list",attrs:{list:e.localLists,group:"lists",animation:e.options.animation,"ghost-class":"moving-list","scroll-sensitivity":e.options.scrollSensitivity,disabled:!e.options.moveList},on:{change:e.listChanged}},e._l(e.localLists,(function(t,s){return i("KanbanList",{key:s,attrs:{id:t.id,title:t.title,items:t.content,fields:e.options.fields,columns:e.columns,showColumns:e.options.showColumns,group:"card",animation:e.options.animation,"scroll-sensitivity":e.options.scrollSensitivity,disabled:!e.options.moveCard,"custom-list-actions":e.actions.customListActions,imageField:e.imageField,titleField:e.titleField,subtitleField:e.subtitleField,descriptionField:e.descriptionField,usersField:e.usersField,labelsField:e.labelsField,"display-labels-cache":e.displayLabelsCache},on:{"remove-list":e.onRemoveList,customListAction:e.onCustomListAction,change:e.onCardChanged,cardRemoved:e.onCardRemoved,cardAdded:e.onCardAdded,cardClicked:e.onCardClicked,cardMoved:e.onCardMoved}})})),1),e._v(" "),e.actions&&e.actions.addKanbanList?i("div",{staticClass:"card add-list",on:{click:function(t){return t.stopPropagation(),e.editForm.apply(null,arguments)}}},[i("div",{staticClass:"card-body"},[e.isAddingList?e._e():i("div",{staticClass:"card-text"},[i("i",{staticClass:"fa fa-plus"}),e._v("\n              "+e._s(e.$t("AwesomeKanban.labels.addList"))+"\n            ")]),e._v(" "),e.isAddingList?i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.newListName,expression:"newListName"}],staticClass:"form-control",attrs:{type:"text",placeholder:e.$t("AwesomeKanban.labels.listName")},domProps:{value:e.newListName},on:{input:function(t){t.target.composing||(e.newListName=t.target.value)}}}),e._v(" "),i("button",{staticClass:"btn btn-simple btn-primary",attrs:{disabled:!e.newListName},on:{click:function(t){return t.stopPropagation(),e.addList.apply(null,arguments)}}},[e._v("\n                "+e._s(e.$t("AwesomeKanban.labels.add"))+"\n              ")]),e._v(" "),i("button",{staticClass:"btn btn-xs btn-simple btn-primary",on:{click:function(t){return t.stopPropagation(),e.clearForm.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-times"})])]):e._e()])]):e._e()],1)])])])}),[],!1,null,null,null));t.a=A.exports},345:function(e,t,i){"use strict";i.r(t);i(170),i(24),i(97),i(171),i(169),i(69),i(174),i(70),i(308),i(10),i(43),i(377),i(172),i(25),i(71),i(324),i(98),i(29),i(394),i(101);var s=i(44),a=i(309),n=i(306),o=i(378),r=i.n(o),l=i(375),d=i(311),u=i(315),c=i(376),p=i(322),m=i(312),h=i(307),f=i(325),v=(i(391),i(327)),g=i(384),b=i(329),y=i(319),C={mode:"local",url:null,columns:null,createPath:null,viewPath:null,editPath:null,bulkEditPath:null,queryParams:{},stats:!1,autoRefresh:!1,responseField:"body",useCustomLayout:!1},_={name:"AwesomeForm",introduction:"A component to forms from a json schema",model:{prop:"item",event:"change"},components:{AwesomeCrud:v.default,AwesomeLayout:g.a,AwesomeActionList:b.a},mixins:[h.a,d.a,u.a,c.a,p.a,l.a,m.a],props:{item:{type:Object,required:!1},itemId:{type:[String,Number],required:!1},bulkItems:{type:Array,required:!1},title:{type:[String,Boolean],required:!1,default:void 0},pageTitle:{type:[String,Boolean],required:!1,default:void 0},name:{type:[String,Boolean],required:!1,default:void 0},namePlural:{type:[String,Boolean],required:!1,default:void 0},identity:{type:String,required:!0},modelName:{type:String,required:!1},standalone:{type:Boolean,required:!1,default:!0,description:"Defines whether the component is used as part of another parent component\n        (usually AwesomeCrud) or alone. Some actions won't have the same behavior"},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."},schema:{type:Object,required:!1,default:void 0,note:"The json schema that represent the object to display. this is used to create. Must be provided if no model definition is available"},needsRefresh:{type:[Boolean,String],default:!1,note:"Define whether the content of the table list should be refreshed"},nestedSchemas:{type:Array,required:!1,default:function(){return[]},note:"@deprecated, use nested models"},nestedModels:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"},parent:{type:Object,required:!1,note:"The object containing the parent in case of a nested schema.You don't actually to pass this, it's done automatically by the parent component itself"},parentIdentity:{type:String,required:!1,note:"The model identity of the parent."},nestedDisplayMode:{type:String,required:!1,default:"list",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"},translations:{type:Object,required:!1,default:function(){return{AwesomeCrud:{labels:{manageTitle:"Manage"},buttons:{view:"View",cancel:"Cancel",close:"Close"}}}},note:"Translation labels to use when vue-i18n is not present"},mode:{type:String,required:!0,values:["create","edit","view","bulkEdit"],validator:function(e){return-1!==["create","edit","view","bulkEdit"].indexOf(e)},description:"Define what mode should the form be used in (create| edit | view | bulkEdit "},displayMode:{type:String,required:!1,default:"sidebar",node:"Manages the way the form is displayed. This field is relevant mostly when using Awesome form as part of AwesomeCrud.\n\n        'modal': Display as a modal\n        'fade': (legacy)  Display as a modal\n        'slide': (legacy)  Display as right size side menu\n        'sidebar':   Display as right size side menu\n        'sidebar-right':   Display as right size side menu\n        'sidebar-left':  Display as Left size side menu\n        'fullscreen':   Display as a full screen component\n        'page':   Display as an in page component\n      ",values:["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"],validator:function(e){return-1!==["modal","sidebar","page","fullscreen","sidebar-left","sidebar-right","sideform","fade","slide"].indexOf(e)}},useSimpleCreateForm:{type:Boolean,required:!1,default:!1,node:"If true then the create form will display only required attributes"},options:{type:Object,default:function(){return C}},actions:{type:Object,default:function(){return f.a},note:"actions active in this instance"},customInlineActions:{type:Array,default:function(){return[]},note:"custom action in footer and in awTable row"},customTopActions:{type:Array,default:function(){return[]},note:"custom top actions"},layout:{type:[Array,Object],note:"Layout of the form",default:function(){return[]}},editLayoutMode:{type:Boolean},useRouterMode:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url"},updateRouter:{type:Boolean,required:!1,default:!0,node:"Controls if the actions (create / edit / view)  should update the current route url. @Deprecated, use `useRouterMode` instead."},nestedLayoutMode:{type:String,required:!1,default:"horizontal-tabs",values:["horizontal-tabs","vertical-tabs","list"],note:"In case of a nested schema, this parameter determines how the nested the models should be rendered. Exemple a list of posts with a comments as a nested should display a table, whereas the author info should display as an object..."},displayHeader:{type:Boolean,default:!0,node:"Controls if the header of the modal or the page should be displayed"},displayFooter:{type:Boolean,default:!0,node:"Controls if the footer of the modal or the page should be displayed"},hasNext:{type:Boolean,default:!1,note:"Controls if the next button should be displayed"},hasPrevious:{type:Boolean,default:!1,note:"Controls if the previous button should be displayed"},useCustomLayout:{type:Boolean,default:!1,note:"If the form layout can be changed"},displayFields:{type:Array,note:"The fields that should be displayed in the form"}},data:function(){return{AwesomeCrud:v.default,$modal:null,parentPath:"",selectedItem:{},isRefreshing:!1,nestedElementsNeedRefresh:!1,show:!1,showBackDrop:!1,mergedOptions:{},innerNestedModels:[],activeNestedTab:"general",formOptions:{validayeAsync:!0,validateAfterLoad:!1,validateAfterChanged:!0},nestedModelsCollapseState:{}}},computed:{_title:function(){return this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):Object(n.startCase)(this._model.singularName):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(n.startCase)(this.identity):""},_titlePlural:function(){return this._model&&this._model.namePlural?this.$te(this._model.namePlural)?this.$t(this._model.namePlural):Object(n.startCase)(this._model.namePlural):this.title?this.$te(this.title+"s")?this.$t(this.title+"s"):this.title+"s":this.identity?this.$te("app.labels.".concat(this.identity,"s"))?this.$t("app.labels.".concat(this.identity,"s")):Object(n.startCase)(this.identity+"s"):""},_name:function(){var e=this.name||this._model&&this._model.name;if(e){if(this.$te(e)){var t=this.$t(e);if("string"==typeof t)return t}return Object(n.startCase)(e)}return this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(n.startCase)(this.identity):""},_namePlural:function(){var e=this.namePlural||this._model&&this._model.namePlural;return e?this.$te(e)?this.$t(e):Object(n.startCase)(e):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):Object(n.startCase)(this.identity):""},_selectedItemUrl:function(){var e;return this.itemIdComputed?(this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost".concat(this._url)),e="".concat(e.pathname,"/").concat(this.itemIdComputed).concat(e.search)):e="".concat(this._url,"/").concat(this.itemIdComputed),e):this._url?this._url:void 0},_model:function(){return this.model||this.getModelFromStore(this.identity)},_mergedOptions:function(){var e=Object(n.merge)({},C,this.options,this._model?this._model.options:{});return this.options!==C&&(console.warn("options are diffrent from the basics",this.options),e=Object(n.merge)(e,this.options)),this.$route&&this.$route.query&&this.$route.query.filters&&(e.queryParams=Object(n.merge)(this.mergedOptions.queryParams||this.$route.query.filters)),e.exportUrl||(e.exportUrl="".concat(this._url,"/export")),e.importUrl||(e.importUrl="".concat(this._url,"/import")),e||{}},formSchema:function(){var e=this;if(!this._schema)return[];var t=this.parseSchema(this._schema);return t.styleClasses="row",t.mode=this.mode,t.fields&&(t.fields=t.fields.filter((function(t){return!e.displayFields||e.displayFields.includes(t.model)})).map((function(e){return e.styleClasses&&-1!==e.styleClasses.indexOf("col-")||(e.styleClasses="".concat(e.styleClasses||""," col-12")),"bulkEdit"===t.mode&&(e.required=!1),e}))),t},simpleFormSchema:function(){var e=this.formSchema.fields.filter((function(e){return e.required}));return e.length||(e=this.formSchema.fields),Object(a.a)(Object(a.a)({},this.formSchema),{},{fields:e})},createFormSchema:function(){return this.useSimpleCreateForm?this.simpleFormSchema:this._formSchemaGrouped},_actions:function(){return Object(n.merge)({},f.a,this.actions||this._mergedOptions&&this._mergedOptions.actions)},_formSchemaGrouped:function(){var e=this;return this.layout&&Array.isArray(this.layout)&&this.layout.length?Object(a.a)(Object(a.a)({},this.formSchema),{},{type:"group",fields:this.layout.map((function(t){return Object(a.a)(Object(a.a)({},t),{},{type:"group",legend:t.legend||t.title,wrapperClasses:"".concat(t.wrapperClasses||""),cols:t.cols,styleClasses:"".concat(t.classes||t.styleClasses||""),headerClasses:"".concat(t.headerClasses||""),styles:"".concat(t.styles||""),fields:e.formSchema.fields.filter((function(e){return t.fields.includes(e.model)}))})}))}):this.formSchema},_useCustomLayout:function(){return!(!this.useCustomLayout||!this.layout)},_editItemTile:function(){if(!this.itemIdComputed)return"";if(this._model&&this._model.displayField){var e=this.getItemProperty(this.selectedItem,this._model.displayField);if(e)return e}return this.itemIdComputed},_schema:function(){return this.schema||this._model&&this._model.schema},_shouldShowBackdrop:function(){return-1===["page","fullscreen","sideform"].indexOf(this.displayMode)&&this.show},_shouldHaveModalClasses:function(){return["fade","modal","fullscreen","sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_shouldHaveSlideClasses:function(){return["sidebar","slide","sidebar-left","sidebar-right"].indexOf(this.displayMode)>-1},_getFieldsList:function(){var e=this,t=[];return this.formSchema.fields.forEach((function(i){var s=!1;e.layout&&Array.isArray(e.layout)&&e.layout.forEach((function(e){Object(n.includes)(e.fields,i.model)&&(s=!0)})),s||t.push(i.model)})),t},shouldDisplayHeaderCpt:function(){return!["page","sidebar","sideform"].includes(this.displayMode)||this.displayHeader},itemIdComputed:function(){var e;return this.selectedItem&&this.selectedItem[this.primaryKey]||this.item&&this.item[this.primaryKey]?e=this.selectedItem[this.primaryKey]:this.itemId&&(e=this.itemId),"string"==typeof e&&e.includes("{{")?this.templateParseText(e,{currentItem:this.selectedItem}):e}},watch:{name:"loadModel",identity:"loadModel",model:"loadModel",mode:"onModeChanged",options:"mergeOptions",item:"refreshComponent",needsRefresh:"refreshComponent",selectedItem:"onChange"},created:function(){if(!this.$http)try{var e=i(331);this.$http=e}catch(e){}},mounted:function(){var e=this;if(this.openModalDebounced=Object(n.debounce)(this.openModal,300,{leading:!0}),this.nestedSchemas&&this.nestedSchemas.length&&console.warn("@deprecated nestedSchemas is now nestedModels. Please use nested nestedModels"),this.modelName&&(this.identity=this.modelName),this.nestedModels.forEach((function(t){e.$set(e.nestedModelsCollapseState,t.identity,!!t.initiallyCollapsed)})),this.item&&(this.selectedItem=this.item),this.loadModel(),"create"===this.mode&&(this.selectedItem=Object(y.createDefaultObject)(this.formSchema),this.selectedItem=Object(n.merge)(this.selectedItem,this.item)),this.nestedElementsNeedRefresh=!0,setTimeout((function(){e.nestedElementsNeedRefresh=!1}),100),this.$route&&this.useRouterMode){var t=this.$route.matched[this.$route.matched.length-1];if("create"===this.$route.params.id||"new"===this.$route.params.id||this.$route.path.endsWith("/new"))return"create"!==this.$route.params.id&&"new"!==this.$route.params.id||delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(n.merge)(this.selectedItem,this.$route.query.item)),void this.$awEmit("create",this.selectedItem,{reset:!1});if(this.$route.params.id){if("bulkEdit"===this.$route.params.id)return delete this.$route.params.id,this.$route.query.item&&(this.selectedItem=Object(n.merge)(this.selectedItem,this.$route.query.item)),void this.$awEmit("bulkEdit",this.selectedItem,{reset:!1});this.parentPath=t.path.replace("/edit","").replace("/:id","")}else this.parentPath=t.path}var i="".concat(this.mode,"Function");if(!this[i])throw new Error("no_action_available_for_mode_"+this.mode);this[i](this.selectedItem)},beforeRouteEnter:function(e,t,i){i((function(e){e.closeModal()}))},beforeRouteLeave:function(e,t,i){i((function(e){e.closeModal()}))},beforeDestroy:function(){document.body.classList.remove("modal-open")},methods:{$alert:r.a,startCase:n.startCase,upperFirst:function(e){return Object(n.upperFirst)(e)},refreshComponent:function(e,t){var i=this;e&&!1!==e&&(this.identity&&this.loadModel(),this.nestedElementsNeedRefresh=!0,setTimeout((function(){i.nestedElementsNeedRefresh=!1,i.$emit("update:crudNeedsRefresh",!1),i.$emit("update:needsRefresh",!1),i.$emit("input:crudNeedsRefresh",!1),i.$emit("input:needsRefresh",!1)}),100))},onTableRefresh:function(){this.statsNeedsRefresh=!0},onModeChanged:function(e,t){"create"===e&&(this.selectedItem=Object(y.createDefaultObject)(this.formSchema)),this.loadModel()},mergeOptions:function(){var e=this;this.options&&this.options.deletePermitted&&this.actions.delete&&this.$store&&this.$store.state&&!this.options.deletePermitted.some((function(t){return e.$store.state.user.roles.indexOf(t.toUpperCase())>=0}))&&(this.actions.delete=!1),this.mergedOptions=Object(n.merge)({},C,this.mergedOptions,this.options),this.$route&&this.$route.query&&this.$route.query.filters&&(this.mergedOptions.queryParams=Object(n.merge)(this.mergedOptions.queryParams||this.$route.query.filters))},loadModel:function(){var e=this;this.mergeOptions(),setTimeout((function(){e.openModalDebounced()}),100),this.mergedOptions.exportUrl||(this.mergedOptions.exportUrl="".concat(this._url,"/export")),this.mergedOptions.importUrl||(this.mergedOptions.importUrl="".concat(this._url,"/import")),this.parent&&"object"===this.nestedDisplayMode&&this.nestedViewFunction(),"bulkEdit"===this.mode||"create"===this.mode?this.selectedItem={}||Object(y.createDefaultObject)(this.formSchema):this.selectedItem=this.item,this._selectedItemUrl&&this.itemIdComputed&&this.$http.get("".concat(this._selectedItemUrl)).then((function(t){var i=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?Object(n.get)(t,e.apiResponseConfig.dataPath):t.data;e.selectedItem=i,e.$awEmit("itemFetched",e.selectedItem),e.$awEmit("item-fetched",{component:"aw-form",context:e,item:Object(n.cloneDeep)(i),identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent})})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.$awEmit("input:needs-refresh",!1)}))},getShemaForFields:function(e){if(e&&e.length){var t=this.formSchema.fields.filter((function(t){return e.indexOf(t.model)>-1}));return Object(a.a)(Object(a.a)({},this.formSchema),{},{fields:t})}},openModalDebounced:function(){},openModal:function(){switch(this.displayMode){case"modal":case"fade":document.body.classList.add("modal-open");break;case"slide":case"sidebar":case"sidebar-right":case"sidebar-left":case"fullscreen":document.body.classList.add("modal-open")}this.show=!0,this.showBackdrop=!0},closeModal:function(){var e=this;this.standalone||(this.parentPath&&this.useRouterMode,this.selectedItem={},setTimeout((function(){e.show=!1,e.showBackdrop=!1}),100),document.body.classList.remove("modal-open"))},cancel:function(){this.$awEmit("cancel",this.selectedItem||this.item,{context:this.mode})},close:function(){this.$awEmit("closeRequested",this.selectedItem&&this.selectedItem.id?this.selectedItem:this.item,{context:this.mode}),this.closeModal()},goToEditPage:function(e){if(!this._mergedOptions.editPath)return this.useRouterMode&&this.$router.push("".concat(this.parentPath,"/").concat(e[this.primaryKey]||this.itemIdComputed,"/edit")),void this.editFunction(e);this.$router.push(this._mergedOptions.editPath.replace(":id",e[this.primaryKey]||this.itemIdComputed).replace("{{id}}",e[this.primaryKey]||this.itemIdComputed))},goToViewPage:function(e){if(!this._mergedOptions.viewPath)return this.useRouterMode&&this.$router.push({},null,"".concat(this.parentPath,"/").concat(e[this.primaryKey]||this.itemIdComputed)),this.activeNestedTab="general",void this.viewFunction(e);this.$router.push(this._mergedOptions.viewPath.replace(":id",e[this.primaryKey]||this.itemIdComputed).replace("{{id}}",e[this.primaryKey]||this.itemIdComputed))},createItem:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=4;break}return e.$emit("save",e.selectedItem),e.$emit("change",e.selectedItem),t.abrupt("return",!1);case 4:if(!e.$refs.form){t.next=22;break}if(!(i=e.$refs.form.validate()).then){t.next=16;break}return t.prev=7,t.next=10,i;case 10:i=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),i=t.t0;case 16:if(!(i&&i.length>0)){t.next=20;break}return e.$awEmit("validation-errors",{errors:i}),t.abrupt("return");case 20:t.next=23;break;case 22:console.warn("Unable to find the reference to the schema form on ",e.$route.path);case 23:return e.mergeSelectedItemWithRequestProps(),e.$awEmit("before-create",{component:"aw-form",context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),t.abrupt("return",e.$http.post(e._url,e.selectedItem,{timeout:e.apiTimeout}).then((function(t){e.selectedItem=Object(n.get)(t,e.apiResponseConfig.dataPath),e.$awEmit("item-created",{component:"aw-form",context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),e.$awNotify({title:e.$t("AwesomeDefault.messages.successfullyCreated",{title:e.type}),type:"success"}),e.nestedElementsNeedRefresh=!0,e.$forceUpdate(),e.close(),e.$awEmit("itemCreated",e.selectedItem,{context:e.mode})})).catch(e.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.nestedElementsNeedRefresh=!1})));case 26:case"end":return t.stop()}}),t,null,[[7,13]])})))()},bulkEditItems:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=3;break}return console.warn("AWESOMECRUD ERROR:: No url for submitting"),t.abrupt("return",!1);case 3:if(!e.$refs.form){t.next=21;break}if(!(i=e.$refs.form.validate()).then){t.next=15;break}return t.prev=6,t.next=9,i;case 9:i=t.sent,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),i=t.t0;case 15:if(!(i&&i.length>0)){t.next=19;break}return e.$awEmit("validation-errors",{errors:i}),t.abrupt("return");case 19:t.next=22;break;case 21:console.warn("Unable to find the reference to the schema form on ",e.$route.path);case 22:e.bulkItems.forEach((function(t){t[e.primaryKey]&&(t=Object(n.merge)(t,e.selectedItem),e.$awEmit("itemsBulkEdited",t))})),e.close();case 24:case"end":return t.stop()}}),t,null,[[6,12]])})))()},editItem:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e._url){t.next=4;break}return e.$emit("save",e.selectedItem),e.$emit("change",e.selectedItem),t.abrupt("return",!1);case 4:if(e.selectedItem[e.primaryKey]||e.itemIdComputed){t.next=7;break}return console.warn("AWESOMECRUD ERROR:: No primary key on this item",e.selectedItem,e.primaryKey),t.abrupt("return",!1);case 7:if(!e.$refs.form){t.next=23;break}if(!(i=e.$refs.form.validate()).then){t.next=19;break}return t.prev=10,t.next=13,i;case 13:i=t.sent,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(10),i=t.t0;case 19:if(!(i&&i.length>0)){t.next=23;break}return e.$awEmit("validation-errors",{errors:i}),t.abrupt("return");case 23:if(e.mergeSelectedItemWithRequestProps(),e.$awEventBus&&e.$awEventBus.$emit("before-update",{context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent}),e._selectedItemUrl){t.next=27;break}return t.abrupt("return");case 27:return e.$http.put("".concat(e._selectedItemUrl),e.selectedItem,{timeout:e.apiTimeout}).then((function(t){e.$awEmit("item-edited",{data:t.data}),e.$awNotify({title:e.$t("AwesomeDefault.messages.successfullyModified",{title:e.type}),type:"success"}),e.nestedElementsNeedRefresh=!0,e.$forceUpdate(),e.$awEmit("itemEdited",e.selectedItem,{context:e.mode}),e.close()})).catch(e.apiErrorCallback).finally((function(){e.isRefreshing=!1,e.nestedElementsNeedRefresh=!1})),t.abrupt("return",!1);case 29:case"end":return t.stop()}}),t,null,[[10,16]])})))()},createFunction:function(e){this.$awEmit("create",e)},editFunction:function(e){this.activeNestedTab="general",this.$awEmit("edit",e)},viewFunction:function(e){this.$awEmit("view",e)},nestedViewFunction:function(e){this.$awEmit("nestedView",e),this.openModalDebounced()},deleteFunction:function(e){this.$awEmit("delete",e)},bulkEditFunction:function(e){this.$awEmit("bulkEdit",e)},getNestedItem:function(){var e=this;this.mode="view",this._selectedItemUrl&&this.$http.get("".concat(this._selectedItemUrl)).then((function(t){e.selectedItem=e.apiResponseConfig.dataPath&&0!=e.apiResponseConfig.dataPath?Object(n.get)(t,e.apiResponseConfig.dataPath):t.data.body,e.$awEmit("itemFfetched",e.selectedItem),e.$awEmit("item-fetched",{component:"aw-form",context:e,item:e.selectedItem,identity:e.identity,parentIdentity:e.parentIdentity,parent:e.parent})})).catch(this.apiErrorCallback).finally((function(){e.isRefreshing=!1}))},customAction:function(e){var t=e.action;return this.$awEmit(this.identity+"-custom-action",t),t&&t.action&&t.action(e,this)},listUpdated:function(e){this.$awEmit("list-updated",e),this.$awEmit(this.identity+"-list-updated",e)},renderSidebar:function(){},renderTabs:function(){},renderColumns:function(e){return e},renderGroup:function(){},renderForm:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]},openEditLayoutMode:function(){this.$awEmit("open-edit-layout-mode")},closeEditLayoutMode:function(){this.$awEmit("close-edit-layout-mode")},resetLayout:function(){var e={i:"awesomeForm-".concat(this.identity,"-").concat(Date.now()),x:0,y:0,w:12,h:6,maxW:12,minH:2,legend:this.identity,fields:this.formSchema.fields.map((function(e){return e.model}))};this.$awEmit("layout-resetted",[e])},exportLayout:function(){this.$export(this.layout)},onLayoutUpdated:function(e){this.$awEmit("layout-updated",e)},onLayoutFieldsUpdated:function(e){this.$awEmit("layout-fields-updated",e)},getNestedTabsTitle:function(e){return e.name?e.name:e.title?e.title:this.$te("awForm.labels.tabs."+e.identity)?this.$t("awForm.labels.tabs."+e.identity):this.startCase(e.identity)},getNestedActions:function(e){return Object(n.merge)({},f.a,e.actions)},onChange:function(e){this.$emit("change",e)}}},w=(i(403),i(42)),O=Object(w.a)(_,(function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"content aw-form",class:"aw-form-"+t.identity},[s("div",{},[s("div",{staticClass:"row mr-0 ml-0"},[s("div",{staticClass:"col-12",class:"page"===t.displayMode?"p-0":""},[s("div",{staticClass:"text-left"},[s("div",{staticClass:"AwesomeForm",class:(e={modal:t._shouldHaveModalClasses,slide:t._shouldHaveSlideClasses,fade:"fade"===t.displayMode||"modal"===t.displayMode||"fullscreen"===t.displayMode,"page  fade":"page"===t.displayMode,show:this.show},e["display-mode-"+t.displayMode]=!0,e),attrs:{id:t.identity+"FormModal",tabindex:"-1",role:"dialog"}},[s("div",{class:{"modal-dialog":"page"!==t.displayMode,"modal-dialog-centered":"page"!==t.displayMode,"modal-dialog-scrollable":"page"!==t.displayMode,"modal-nested":t._isNested,"modal-full-height":t._shouldHaveSlideClasses,"modal-fullscreen":"fullscreen"===t.displayMode,"modal-lg":"modal"===t.displayMode||"fade"===t.displayMode},attrs:{role:"document"}},["create"===t.mode?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.createItem()}}},[t.shouldDisplayHeaderCpt?s("div",{staticClass:"modal-header bg-primary text-white"},[s("h5",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._t("create-form-title",(function(){return[t._v(t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title))]}),{item:t.selectedItem})],2),t._v(" "),t._useCustomLayout&&t.actions.editLayout?s("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[s("i",{staticClass:"fa fa-th-large"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[s("i",{staticClass:"fa fa-download"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[s("i",{staticClass:"fa fa-eraser"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[s("i",{staticClass:"fa fa-save"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+"\n                      ")]):t._e()]):t._e(),t._v(" "),!t.standalone&&!t._isEmbedded||t._actions.close?s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.close()}}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("")])]):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("create-form",(function(){return[t._useCustomLayout?s("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,"fields-list":t._getFieldsList,layout:t.layout},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}},{key:"fields",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}}],null,!1,3779691753)}):t._e(),t._v(" "),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[s("VueFormGenerator",{ref:"form",attrs:{schema:t.createFormSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.createFormSchema=e}}})]:t._e()]}),{selectedItem:t.selectedItem}),t._v(" "),t._t("after-create-form",null,{selectedItem:t.selectedItem})],2),t._v(" "),!t._isEmbedded&&t.displayFooter?s("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",(function(){return[s("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),s("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")])]}))],2):t._e()])]):t._e(),t._v(" "),"edit"===t.mode||"view"===t.mode||t._isANestedDetailView?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.editItem()}}},[t.shouldDisplayHeaderCpt?s("div",{staticClass:"modal-header bg-primary text-white"},["view"===t.mode||"edit"===t.mode?s("h5",{staticClass:"text-left modal-title mt-0"},[t._t(t.mode+"-form-title",(function(){return[t._v(t._s(t.$t("view"===t.mode?"":"AwesomeCrud.labels.edit"))+" "+t._s(t._name)+"\n                        "),s("b",[t._v(t._s(t._editItemTile))])]}),{item:t.selectedItem})],2):t._e(),t._v(" "),t.customTopActions?s("div",{staticClass:"btn-group m-0 aw-form-header-actions"},[s("AwesomeActionList",{attrs:{actions:t.customTopActions,item:t.selectedItem,parent:t.parent,location:"top"},on:{customAction:function(e){return t.$awEmit("customAction",e)}}})],1):t._e(),t._v(" "),t._useCustomLayout&&t.actions.editLayout?s("div",{staticClass:"btn-group m-0 aw-form-header-actions",staticStyle:{flex:"auto"}},[!t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.openEditLayoutMode}},[s("i",{staticClass:"fa fa-th-large"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.openEditLayoutMode"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-warning btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.exportLayout}},[s("i",{staticClass:"fa fa-download"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.exportLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-danger btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.resetLayout}},[s("i",{staticClass:"fa fa-eraser"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.resetLayout"))+"\n                      ")]):t._e(),t._v(" "),t.editLayoutMode&&t.layout?s("button",{staticClass:"btn btn-info btn-main-style mr-1 btn-sm",attrs:{type:"button"},on:{click:t.closeEditLayoutMode}},[s("i",{staticClass:"fa fa-save"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.closeEditLayoutMode"))+"\n                      ")]):t._e()]):t._e(),t._v(" "),t.editLayoutMode||"edit"!==t.mode&&"view"!==t.mode&&!t._isANestedDetailView?t._e():[t.actions.formPagination&&(t.hasPrevious||t.hasNext)?s("div",{staticClass:"ml-1 aw-form-pagination"},[s("div",{staticClass:"btn-group"},[s("button",{staticClass:"btn btn-light btn-sm float-left btn-navigation-header",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasPrevious,type:"button"},on:{click:function(e){t.hasPrevious&&t.$awEmit("aw-select-previous-item")}}},[s("i",{staticClass:"fa fa-chevron-circle-left"})]),t._v(" "),s("button",{staticClass:"btn btn-light btn-sm float-right btn-navigation-header",class:t.hasPrevious?"":"op-50",attrs:{disabled:!t.hasNext,type:"button"},on:{click:function(e){t.hasNext&&t.$awEmit("aw-select-next-item")}}},[s("i",{staticClass:"fa fa-chevron-circle-right"})])])]):t._e()],t._v(" "),!t.standalone&&!t._isEmbedded||t._actions.close?s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:t.cancel}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("")])]):t._e()],2):t._e(),t._v(" "),s("div",{staticClass:"modal-body",class:{"modal-body-nested":t._isANestedDetailView,"view-mode":"view"===t.mode}},[t.nestedModels&&t.nestedModels.length&&"create"!==t.mode&&"list"!==t.nestedLayoutMode?s("ul",{staticClass:"nav nav-tabs mt-0"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link pointer",class:{active:"general"===t.activeNestedTab},attrs:{"data-toggle":"tab"},on:{click:function(e){t.activeNestedTab="general"}}},[t._v("\n                          "+t._s(t.$te("app.labels."+t.identity)?t.$te("app.labels."+t.identity):t.startCase(t.name||t.title||t.identity))+"\n                        ")])]),t._v(" "),t._l(t.nestedModels,(function(e,i){return[e&&e.identity?s("li",{key:i,staticClass:"nav-item nested-model-tab-link"},[s("a",{staticClass:"nav-link pointer",class:{active:t.activeNestedTab===e.identity},attrs:{"data-toggle":"tab"},on:{click:function(i){t.activeNestedTab=e&&e.identity||"general"}}},[e.icon?s("i",{class:e.icon}):t._e(),t._v("\n                            "+t._s(t.$t(e.namePlural||e.title||e.identity))+"\n                          ")])]):t._e()]}))],2):t._e(),t._v(" "),t._t("edit-form",(function(){return[s("div",{staticClass:"tab-content",class:{row:"sidebar"===t.nestedLayoutMode}},[t._useCustomLayout?s("div",{staticClass:"row"},[t._useCustomLayout?s("AwesomeLayout",{attrs:{"edit-mode":t.editLayoutMode,layout:t.layout,"fields-list":t._getFieldsList},on:{"update:layout":function(e){t.layout=e},"layout-updated":t.onLayoutUpdated,"layout-fields-updated":t.onLayoutFieldsUpdated},scopedSlots:t._u([{key:"field",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.field),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}},{key:"fields",fn:function(e){return[s("VueFormGenerator",{attrs:{schema:t.getShemaForFields(e.fields),model:t.selectedItem,options:t.formOptions,tag:"div"}})]}}],null,!1,3779691753)}):t._e()],1):t._e(),t._v(" "),t.formSchema&&t.formSchema.fields&&!t._useCustomLayout?[s("div",{staticClass:"tab-pane nested-tab fade",class:{"active show":!t.activeNestedTab||"general"===t.activeNestedTab||"list"===t.nestedLayoutMode,"card p-5 ":"list"===t.nestedLayoutMode}},[s("VueFormGenerator",{ref:"form",attrs:{schema:t._formSchemaGrouped,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t._formSchemaGrouped=e}}})],1)]:t._e(),t._v(" "),t.nestedModels&&t.nestedModels.length&&("view"===t.mode||"edit"===t.mode)&&t.selectedItem?[t._l(t.nestedModels,(function(e){return[e&&e.identity?s("div",{key:e.$id,staticClass:"tab-pane nested-tab fade",class:{"active show in":t.activeNestedTab===e.identity||"list"===t.nestedLayoutMode}},["list"===t.nestedLayoutMode?[s("h5",{staticClass:"nested-model-title mt-5 text-primary font-italic mb-0",on:{click:function(i){t.getNestedActions(e).collapse&&(t.nestedModelsCollapseState[e.identity]=!t.nestedModelsCollapseState[e.identity])}}},[t._v("\n                                  "+t._s(t.getNestedTabsTitle(e))+"\n                                  "),s("i",{staticClass:"fa",class:t.nestedModelsCollapseState[e.identity]?"fa-caret-right":"fa-caret-down"})]),t._v(" "),s("hr",{staticClass:"mt-0"})]:t._e(),t._v(" "),s(e&&e.component?e.component:t.AwesomeCrud,t._b({tag:"div",staticClass:"aw-crud-nested-model nested-list",class:t.getNestedActions(e).collapse&&"list"===t.nestedLayoutMode?t.nestedModelsCollapseState[e.identity]?"collapse":"collapse show":"",attrs:{id:"list-collapse-"+e.identity,parent:t.selectedItem,parentIdentity:t.model&&t.model.identity||t.identity,useRouterMode:!1,"crud-needs-refresh":t.nestedElementsNeedRefresh,"needs-refresh":t.nestedElementsNeedRefresh},on:{"input:needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"input:nested-crud-needs-refresh":function(e){return t.nestedElementsNeedRefresh=e},"update:nestedElementsNeedRefresh":function(e){return t.nestedElementsNeedRefresh=e}}},"div",e,!1),[s("div",{attrs:{slot:"crud-title"},slot:"crud-title"})])],2):t._e()]}))]:t._e()],2)]}),{selectedItem:t.selectedItem}),t._v(" "),t._t("after-edit-form",null,{selectedItem:t.selectedItem})],2),t._v(" "),!t._isEmbedded&&t.displayFooter?s("div",{staticClass:"modal-footer"},[t._t("edit-modal-footer",(function(){return[t.standalone?t._e():s("button",{staticClass:"btn btn-default btn-simple mr-auto",attrs:{type:"button"},on:{click:t.cancel}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),t.customInlineActions?[s("AwesomeActionList",{attrs:{actions:t.customInlineActions,item:t.selectedItem,location:"inline"},on:{customAction:function(e){return t.$awEmit("customAction",e)}}})]:t._e(),t._v(" "),t.actions.delete&&!t._mergedOptions.noActions?s("button",{staticClass:"btn btn-danger btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.deleteFunction(t.selectedItem)}}},[s("i",{staticClass:"fa fa-trash"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.delete"))+"\n                      ")]):t._e(),t._v(" "),"edit"===t.mode?s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")]):t._e(),t._v(" "),"view"===t.mode&&t.actions.edit&&!t._mergedOptions.noActions?s("button",{staticClass:"btn btn-info btn-main-style ml-2",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.editFunction(t.selectedItem)}}},[s("i",{staticClass:"fa fa-pencil"}),t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.edit"))+"\n                      ")]):t._e(),t._v(" "),"view"!==t.mode||t.standalone?t._e():s("button",{staticClass:"btn btn-primary ml-2",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.close"))+"\n                      ")])]}))],2):t._e()])]):t._e(),t._v(" "),"bulkEdit"===t.mode?s("div",{staticClass:"modal-content"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.bulkEditItems()}}},[s("div",{staticClass:"modal-header bg-primary text-white"},[s("h5",{staticClass:"text-left mt-0 modal-title",attrs:{title:t.$t("AwesomeCrud.labels.add_a")+" ".title}},[t._t("bulk-form-title",(function(){return[t._v(t._s(t.$t("AwesomeCrud.labels.add_a"))+" "+t._s(t._name||t._title))]}),{item:t.selectedItem})],2),t._v(" "),t.standalone||t._isEmbedded?t._e():s("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.cancel()}}},[s("span",{staticClass:"text-white",attrs:{"aria-hidden":"true"}},[t._v("")])])]),t._v(" "),s("div",{staticClass:"modal-body"},[t._t("create-form",(function(){return[t.formSchema&&t.formSchema.fields?[s("VueFormGenerator",{ref:"form",attrs:{schema:t.formSchema,model:t.selectedItem,options:t.formOptions,tag:"div"},on:{"update:schema":function(e){t.formSchema=e}}})]:t._e()]}),{selectedItem:t.selectedItem}),t._v(" "),t._t("after-create-form",null,{selectedItem:t.selectedItem})],2),t._v(" "),t._isEmbedded?t._e():s("div",{staticClass:"modal-footer"},[t._t("add-modal-footer",(function(){return[s("button",{staticClass:"btn btn-default btn-main-style mr-auto",attrs:{type:"button"},on:{click:function(e){return t.cancel()}}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.cancel"))+"\n                      ")]),t._v(" "),s("button",{staticClass:"btn btn-primary ml-auto",attrs:{type:"submit"}},[t._v("\n                        "+t._s(t.$t("AwesomeCrud.buttons.save"))+"\n                      ")])]}))],2)])]):t._e()])])]),t._v(" "),t._shouldShowBackdrop?s("div",{staticClass:"modal-backdrop backdrop-custom show",class:"display-mode-"+t.displayMode,staticStyle:{background:"#111"},attrs:{id:t.identity+"Backdrop"}}):t._e()])])])])}),[],!1,null,"f41e64c8",null);t.default=O.exports},346:function(e,t,i){"use strict";i(69),i(323);var s=i(72),a=i(306),n=i.n(a),o=i(315),r=i(312),l={name:"EnyoCrudStatsSection",mixins:[o.a,r.a],components:{},props:{url:{type:String,default:""},entity:{type:String,default:""},statsNeedsRefresh:{type:Boolean,default:!1},store:{type:Array,default:function(){return[]}}},data:function(){return{colors:["card-black","card-purple","card-teal","card-blue","card-success","card-warning","card-info","card-primary","card-danger"],stats:[]}},watch:{statsNeedsRefresh:"getStats",url:"getStats",entity:"getStats"},created:function(){},mounted:function(){this.getStats()},beforeDestroy:function(){},methods:{getStats:n.a.debounce((function(){var e=this;this.$http.get(this.url,{}).then((function(t){if(console.warn("data",t.data),t&&t.data){var i=e.apiResponseConfig&&e.apiResponseConfig.dataPath?n.a.get(t,e.apiResponseConfig.dataPath):t.data;e.stats=i,Array.isArray(i)||(e.stats=Object.entries(i).map((function(e){var t=Object(s.a)(e,2),i=t[0],a=t[1];return{label:i,value:a.value||a,color:a.color,index:a.index}})))}})).catch((function(e){console.error(e)})),this.refreshCompleted()}),100,void 0),refreshCompleted:function(){this.$emit("update:statsNeedsRefresh",!1)},getColor:function(e){var t=this.colors.length;return this.stats[e]&&this.stats[e].class?this.stats[e].class:this.colors[e>=t?e%t:e]}}},d=(i(396),i(42)),u=Object(d.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-12"},[i("div",{staticClass:"row"},e._l(e.stats,(function(t,s){return i("div",{key:t.label,staticClass:"filter-box col-md-3 cl-xs-6"},[i("div",{staticClass:"card card-statistics",class:t.color||e.getColor(s)},[i("div",{staticClass:"box text-center"},[i("h3",{staticClass:"font-light text-white mt-1"},[e._v("\n            "+e._s(t.value)+"\n          ")]),e._v(" "),i("h6",{staticClass:"text-white"},[e._v("\n            "+e._s(e.$t(t.label))+"\n          ")])])])])})),0)])}),[],!1,null,"310f07aa",null);t.a=u.exports},347:function(e,t,i){"use strict";i(24),i(97),i(69),i(46),i(70),i(308),i(99),i(352),i(330),i(43),i(100),i(340),i(324),i(98);var s=i(341),a=i.n(s),n=i(443),o=i.n(n),r=i(306),l=i.n(r),d=i(311),u=i(307),c=i(342),p=i(322),m=i(312),h=i(318),f=i(321),v=i(317),g=i(348),b={name:"AwesomeList",components:{Paginate:o.a,AwesomeDisplay:f.a,AwesomeFilter:v.a,popper:a.a,AwesomeSegments:g.a},mixins:[u.a,d.a,c.a,p.a,m.a,h.a],props:{columns:{type:Array,default:function(){return[]}},perRow:{type:Number,default:3},perPage:{type:Number,default:6},useGridSystem:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},gridModeItemHeight:{type:[Number,String],default:void 0},listModeItemHeight:{type:[Number,String],default:void 0},imageField:{type:String,description:"The field to use for the image"},titleField:{type:String,description:"The field to use for the title"},subtitleField:{type:String,description:"The field to use for the subtitle"},descriptionField:{type:String,description:"The field to use for the description"},displayFields:{type:Array,description:"The fields to display on the card"},translations:{type:Object,default:function(){return{"AwesomeList.buttons.increase":"More items per row","AwesomeList.buttons.decrease":"Less items per row","AwesomeList.buttons.refresh":"Refresh","AwesomeList.buttons.itemAction":"Open"}}},styles:{type:Object,default:function(){return{}}},imageClasses:{type:[Object,String],default:"",description:"classes to put around the image"},itemClasses:{type:[Object,String],default:"shadow",description:"classes to put around the item"},imageStyles:{type:[Object,String],default:"",description:"styles to put around the image"},actions:{type:Object,default:function(){return{itemButton:!0,refresh:!0,changeItemsPerRow:!0,pagination:!0}}},defaultOptions:{type:Object,default:function(){return{fixedHeader:!1,maxHeight:"",pagination:!0,customInlineActions:[],customBulkActions:[]}}},model:{type:Object,required:!1,default:void 0,note:"The object that will be used for managing the component. it contains the schema along with some other options. If no provided i can be reconstructed if we have the schema prop."}},data:function(){return{itemsPerRow:3,page:0,data:[],advancedFilters:[],search:"",displayAwFilter:!1}},computed:{titleComputed:function(){return!1===this.title?"":this.title?this.$te(this.title)?this.$t(this.title):this.title:this._model&&this._model.pluralName?this.$te(this._model.pluralName)?this.$t(this._model.pluralName):l.a.startCase(this._model.pluralName):this._model&&this._model.singularName?this.$te(this._model.singularName)?this.$t(this._model.singularName):l.a.startCase(this._model.singularName):this._model&&this._model.name?this.$te(this._model.name)?this.$t(this._model.name):l.a.startCase(this._model.name):this.identity?this.$te("app.labels.".concat(this.identity))?this.$t("app.labels.".concat(this.identity)):l.a.startCase(this.identity):""},_itemHeight:function(){var e=1===this.itemsPerRow?this.listModeItemHeight:this.gridModeItemHeight;return e?l.a.isString(e)?e:e+"px":"auto"},_pageCount:function(){var e=parseInt(this.serverParams.perPage)||this.perPage;return e&&this.totalCount?Math.ceil(this.totalCount/e):0},itemWrapperClasses:function(){if(!this.useGridSystem)return"";switch(this.itemsPerRow){case 0:case 1:default:return"col-12";case 2:return"col-6";case 3:return"col-4";case 4:return"col-3";case 5:case 6:return"col-2";case 12:return"col-1"}},_paginatedItems:{get:function(){var e=this.serverParams&&this.serverParams.page?this.serverParams.page:1,t=parseInt(this.serverParams.perPage)||this.perPage,i=(e-1)*t;return this.data?"remote"===this.mode?this.data:this.localSearch(this.data,this.search).slice(i,i+t):[]},set:function(e){console.warn(e)}},_useClassicLayout:function(){return this.imageField||this.titleField||this.subtitleField||this.descriptionField},advancedFiltersCount:function(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated:function(){return v.a.methods.parseFilter(this.advancedFilters,{dispatch:!1})},_modelDisplayField:function(){return this._model&&this._model.displayField?this._model.displayField:this.primaryKey?this.primaryKey:""},_model:function(){return this.model||this.getModelFromStore(this.identity)}},watch:{perRow:"resetItemsPerRow",rows:"refreshLocalData",search:function(e){this.onSearch({searchTerm:e})}},created:function(){},beforeMount:function(){},mounted:function(){this.perRow&&this.resetItemsPerRow()},beforeDestroy:function(){},methods:{getAllowedFields:function(e){var t=this,i={};return Object.keys(e).forEach((function(s){t.columns.forEach((function(t){t.field===s&&(i=Object.assign(i,l.a.pick(e,[s])))}))})),i},getField:function(e){var t=l.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},getFieldType:function(e){var t=l.a.filter(this.columns,["field",e]);return t[0]?t[0]:t},resetItemsPerRow:function(){this.itemsPerRow=this.perRow},increaseItemsPerRow:function(e){this.itemsPerRow+=e},decreaseItemsPerRow:function(e){this.itemsPerRow-=e},setGridMode:function(){this.itemsPerRow=3},setListMode:function(){this.itemsPerRow=1},setMediumGridMode:function(){this.itemsPerRow=2},handleItemClick:function(e,t){this.$emit("itemClicked",t)},handleItemButtonClick:function(e,t){this.$emit("itemButtonClicked",t)},onPaginationChange:function(e){this.serverParams.page=e,"remote"===this.mode&&this.getItems()},advancedFiltering:function(e,t){this.updateParams({advancedFilters:l.a.cloneDeep(t),parsedAdvancedFilters:l.a.cloneDeep(e),page:0}),this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},toggleFilter:function(){var e=this;this.filterable=!this.filterable,this.filterable||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0})),this.columns=this.columns.map((function(t){return t.filterOptions&&(t.filterOptions.enabled=e.filterable),t}))},localSearch:function(e,t){var i=this;return e.filter((function(e){if(!i.search)return!0;try{return JSON.stringify(Object.values(e)).match(new RegExp(i.search,"i"))}catch(e){console.warn("err",e)}return!0}))}}},y=(i(397),i(42)),C=Object(y.a)(b,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-list aw-listing"},[i("div",{staticClass:"float-left col-6 pl-0"},[e._t("list-header-left"),e._v(" "),e.segmentFieldDefinitionComputed?i("div",{staticClass:"card aw-segment-table-wrapper"},[i("awesome-segments",{attrs:{field:e.segmentFieldDefinitionComputed,apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig},on:{change:e.onSegmentChange}})],1):e._e()],2),e._v(" "),i("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("list-header-right")],2),e._v(" "),i("div",{staticClass:"card aw-list-card aw-list-component awesome-list"},[e.showHeader?i("div",{staticClass:"card-header",class:"aw-list-header "+(e.opts.headerStyle?"colored-header bg-"+e.opts.headerStyle:"")},[i("h3",{staticClass:"mb-0"},[e._t("aw-list-title",(function(){return[e._v(e._s(e.titleComputed))]})),e._v(" "),e.actions&&e.actions.refresh?i("button",{staticClass:"btn btn-simple btn-sm",on:{click:function(t){return e.getItems()}}},[i("i",{staticClass:"fa fa-refresh",class:e.isRefreshing?" fa-spin text-primary":"text-muted"})]):e._e(),e._v(" "),i("div",{staticClass:"btn-group float-right aw-list-buttons"},[e._t("top-actions"),e._v(" "),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions.filter&&e.actions.advancedFiltering?i("button",{staticClass:"btn btn-simple btn-sm",class:{"btn-primary":e.displayAwFilter||e.advancedFiltersCount,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayAwFilter=!e.displayAwFilter}},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v("\n              "+e._s(e.$t("AwesomeTable.buttons.filters"))+"\n              "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+"\n            ")]):e._e(),e._v(" "),e.actions&&e.actions.changeItemsPerRow?[i("button",{staticClass:"btn btn-sm btn-sm",class:1===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setListMode()}}},[i("i",{class:"fa fa-list"})]),e._v(" "),i("button",{staticClass:"btn btn-sm",class:2===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setMediumGridMode()}}},[i("i",{class:"fa fa-th-large"})]),e._v(" "),i("button",{staticClass:"btn btn-sm",class:3===e.itemsPerRow?"btn-primary":"btn-light",on:{click:function(t){return e.setGridMode()}}},[i("i",{class:"fa fa-th"})])]:e._e(),e._v(" "),i("div",{staticClass:"btn-group",attrs:{role:"group"}},[e.actions&&(e.actions.export||e.actions.import)?i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-simple dropdown-toggle btn-sm",attrs:{slot:"reference",type:"button"},slot:"reference"},[e._v("\n              "+e._s(e.$t("AwesomeTable.more"))+"\n            ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("table-top-more-actions"),e._v(" "),e.actions&&e.actions.export?i("button",{staticClass:"btn  btn-sm btn-success btn-simple btn-block",on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                "+e._s(e.$t("common.buttons.excel"))+"\n              ")]):e._e(),e._v(" "),i("button",{staticClass:"btn btn-sm  btn-default btn-simple btn-block",on:{click:e.exportCurrentArrayToExcel}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                "+e._s(e.$t("common.buttons.excel-currentpage"))+"\n              ")])],2)]):e._e()],1)],2)],2)],2),e._v(" "),i("p",{staticClass:"card-category"},[e._t("list-subtitle")],2),e._v(" "),i("div",{},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12"},[e.displayAwFilter?i("awesome-filter",{staticClass:"pl-0  ",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),e.actions.filter?i("awesome-filter",{attrs:{"display-filters":"",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e()],1),e._v(" "),i("div",{staticClass:"col-sm-12 offset-md-6 col-md-6"},[e.actions.search?i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Rechercher"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e()])])])]):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[e._paginatedItems?i("div",{staticClass:"list-responsive",class:e.styles.listWrapperClasses},[e._l(e._paginatedItems,(function(t,s){return[i("div",{key:s,staticClass:"pointer d-flex ",class:e.itemWrapperClasses,on:{click:function(i){return e.handleItemClick(i,t)}}},[e._t("list-item",(function(){return[i("div",{staticClass:"card mb-3 aw-list-item flex-fill",class:e.itemClasses,style:{"flex-direction":e.itemsPerRow<2?"row":"column",height:e._itemHeight}},[e.imageField?i("img",{staticClass:"card-img-top",class:e.imageClasses,style:e.imageStyles,attrs:{src:e.getItemProperty(t,e.imageField),alt:e.getItemProperty(t,e.titleField)}}):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[e.getItemProperty(t,e.titleField)?i("h4",{staticClass:"card-title aw-list-item-title",domProps:{innerHTML:e._s(e.getItemProperty(t,e.titleField))}}):e._e(),e._v(" "),e.getItemProperty(t,e.subtitleField)?i("h6",{staticClass:"card-title aw-list-item-subtitle",domProps:{innerHTML:e._s(e.getItemProperty(t,e.subtitleField))}}):e._e(),e._v(" "),!e._useClassicLayout&&e._modelDisplayField&&t[e._modelDisplayField]?i("h3",{staticClass:"card-title aw-list-item-title"},[e._v("\n                "+e._s(t[e._modelDisplayField]))]):e._e(),e._v(" "),e.getItemProperty(t,e.descriptionField)?i("p",{staticClass:"card-text aw-list-item-description"},[i("AwesomeDisplay",e._b({attrs:{value:e.getItemProperty(t,e.descriptionField)}},"AwesomeDisplay",e.getField(e.descriptionField),!1))],1):e._e(),e._v(" "),e.columns&&e.columns.length&&!e._useClassicLayout?e._l(e.getAllowedFields(t),(function(t,s){return i("div",{key:s},[i("small",{staticClass:"aw-list-item-field-label text-info"},[e._v(e._s(e.getField(s).label||s))]),i("br"),e._v(" "),i("AwesomeDisplay",e._b({attrs:{value:t,relation:e.getField(s).relation,"relation-label":e.getField(s).relationLabel,"relation-url":e.getField(s).relationUrl,"relation-key":e.getField(s).relationKey}},"AwesomeDisplay",e.getField(s),!1))],1)})):e._e(),e._v(" "),e.actions.itemButton?i("div",{staticClass:"aw-list-item-action pl-3 pr-3"},[i("button",{staticClass:"btn btn-primary btn-sm ",class:e.itemsPerRow>1?"btn-block":"",on:{click:function(i){return e.handleItemButtonClick(i,t)}}},[e._v("\n                  "+e._s(e.$t("AwesomeList.buttons.itemAction"))+"\n                ")])]):e._e()],2)])]}),{item:t,"itemsPerRow:":"itemsPerRow",index:s})],2)]}))],2):e._e(),e._v(" "),null==e.actions.pagination||e.actions.pagination?i("hr"):e._e(),e._v(" "),null==e.actions.pagination||e.actions.pagination?i("nav",{staticClass:"text-center"},[i("paginate",{attrs:{"page-count":e._pageCount,"page-range":3,"margin-pages":2,"click-handler":e.onPaginationChange,"prev-text":"<< ","next-text":" >>","container-class":"pagination","page-class":"page-item","prev-class":"page-item","page-link-class":"page-link","prev-link-class":"page-link","next-link-class":"page-link"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1):e._e()])])])}),[],!1,null,null,null);t.a=C.exports},348:function(e,t,i){"use strict";i(170),i(169),i(69),i(10);var s=i(309),a=i(306),n=i.n(a),o=i(307),r=i(312),l=i(350),d=i(318),u=i(385),c={name:"AwesomeSegments",components:{},mixins:[l.a,o.a,r.a,d.a,u.a],props:{field:{type:[Object,String],default:function(){return null}},title:{type:[String,Boolean],default:""},name:{type:String,default:""},namePlural:{type:String,default:""},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path"},translations:{type:Object,default:function(){return{"AwesomeTable.buttons.filters":"Filter","AwesomeTable.buttons.refresh":"Refresh","AwesomeTable.buttons.excel-currentpage":"Export current page","AwesomeTable.searchInput":"AwesomeTable.searchInput","AwesomeTable.next":"Next","AwesomeTable.prev":"Previous","AwesomeTable.rows_per_page":"Rows per page","AwesomeTable.of":"of","AwesomeTable.page":"page","AwesomeTable.all":"all","AwesomeTable.empty":"empty"}}},needsRefresh:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},collapsible:{default:!0,type:Boolean,description:"Wether the table can be collapsed using the minus button at the topRight corner."}},data:function(){return{totalCount:0,isRefreshing:!1,selectedSegment:"ALL",segmentOptions:[]}},computed:{_segmentsList:function(){var e=n.a.get(this.field,"fieldOptions.filterDropdownItems")||n.a.get(this.field,"enum")||n.a.get(this.field,"fieldOptions.values")||n.a.get(this.field,"fieldOptions.option");return e&&e.length?e:this.segmentOptions},dataUrl:function(){var e=this.url||this.field.relationUrl;return e&&e.indexOf("{{")>-1&&(e=this.templateParser(e,Object(s.a)(Object(s.a)({},this.$props.model),{},{currentItem:this.$props.model,context:this}))),e||""}},watch:{_segmentsList:function(){this.$emit("segment-list-changed",this._segmentsList)}},created:function(){var e=this;this.$t||(this.$t=function(t){return e.translations[t]||t},this.$te=function(t){return!!e.translations[t]})},beforeMount:function(){},mounted:function(){this.field&&this.field.relation&&this.preloadFn()},beforeDestroy:function(){},methods:{onClickOnSegment:function(e){if(!e)return"";this.selectedSegment=this.getSegmentKey(e),this.$emit("aw-segment-changed",this.selectedSegment,e),this.$emit("change",{segmentField:this.field.field||this.field.model,segmentValue:this.getSegmentKey(e)})},preloadFn:function(){var e=this;this.dataUrl&&this.$http.get("".concat(this.dataUrl).concat(-1===this.dataUrl.indexOf("?")?"?":"&","$perPage=100'"),{params:Object(s.a)({},n.a.get(this.field,"fieldOptions.queryParams"))}).then((function(t){e.segmentOptions=e.getData(t)})).finally((function(){e.isDataReady=!0}))},getData:function(e){var t=this,i=this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?n.a.get(e,this.apiResponseConfig.dataPath):e.data;if(Array.isArray(i))return i.map((function(e){return t.field.relationKey?{label:e[t.field.relationLabel],id:e[t.field.relationKey]}:e}))}}},p=i(42),m=Object(p.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-table-segments bg-white"},[i("ul",{staticClass:"nav nav-pills"},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:e.selectedSegment&&""!==e.selectedSegment&&"ALL"!==e.selectedSegment?"":"active",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.onClickOnSegment("ALL")}}},[e._v(e._s(e.$t("AwesomeDefault.messages.all")))])]),e._v(" "),e._l(e._segmentsList,(function(t,s){return i("li",{key:s,staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:e.getSegmentKey(t)===e.selectedSegment?"active":"",attrs:{href:"javascript:void(0)"},on:{click:function(i){return e.onClickOnSegment(t)}}},[e._v(e._s(e.getSegmentLabel(t)))])])}))],2)])}),[],!1,null,null,null);t.a=m.exports},350:function(e,t,i){"use strict";var s=i(566);t.a={props:{uuid:{type:String,default:function(){return Object(s.a)()},description:"A unique id for identifying the component. If not provided as a prop, the id is autogenerated"}}}},353:function(e,t,i){},354:function(e,t,i){},355:function(e,t,i){},356:function(e,t,i){},357:function(e,t,i){},358:function(e,t,i){},359:function(e,t,i){},360:function(e,t,i){},361:function(e,t,i){},362:function(e,t,i){},363:function(e,t,i){},364:function(e,t,i){},365:function(e,t,i){},366:function(e,t,i){},367:function(e,t,i){},368:function(e,t,i){},369:function(e,t,i){},370:function(e,t,i){},371:function(e,t,i){},372:function(e,t,i){},373:function(e,t,i){},374:function(e,t,i){},375:function(e,t,i){"use strict";i(47),i(48),i(170),i(310),i(97),i(171),i(169),i(326),i(99),i(10),i(43),i(172),i(71),i(316),i(98),i(29);var s=i(309),a=i(306),n=i(318);t.a={mxixins:[n.a],methods:{getFormtype:function(e){var t=e.type;if(Array.isArray(t))for(var i=["string","number","boolean"],s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s]);if(e.enum)return"select";if(e.relation||e.relationUrl)return"VSelect";switch(t){case"string":return"input";case"integer":case"number":return"input";case"boolean":return"select";case"array":return e.items&&"string"===e.items.type?"vSelect":"VSelect";default:return"input"}},getFormInputType:function(e){var t=e.type;if(Array.isArray(t))for(var i=["string","number","boolean"],s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s]);switch(t){case"string":switch(e.format){case"email":return"email";case"date-time":case"datetime":return"date-time";default:return"text"}case"number":case"integer":return"number";case"boolean":case"array":case"object":return"string";default:return t}},getColumnType:function(e){if(e.column&&e.column.type)return e.column.type;if(e.columnType)return e.columnType;var t=e.type;if(Array.isArray(t))for(var i=["string","number","boolean","array"],s=0;s<i.length;s++)e.type.indexOf(i[s])>-1&&(t=i[s]);if(e.relation)return"relation";switch(t){case"string":switch(e.format){case"date-time":default:return"text"}case"number":case"integer":return"number";case"boolean":return"boolean";case"array":case"object":return"object";default:return"text"}},getSelectEnumFromStore:function(e){return Object(a.isString)(e)&&0===e.indexOf("$store")?Object(a.get)(this.$store.state,e.replace("$store.","")):e},transformStateBooleans:function(e){var t=this;["visible","required","readonly","disabled"].forEach((function(i){e[i]&&Object(a.isString)(e[i])&&(e[i]=t.templateParseBoolean(e[i]))}))},transformStateFunctions:function(e){var t=this;["visible","required","readonly","disabled","value"].forEach((function(i){Object(a.isFunction)(e[i])&&(e[i]=t.templateParseFunc(e[i]))}))},transformStateValue:function(e,t){var i=this;["value","default"].forEach((function(s){if(e[s]&&"string"==typeof e[s]&&e[s].includes("{{"))switch(e[s]=i.templateParseText(e[s]),t){case"integer":e[s]=parseInt(e[s],10);break;case"number":e[s]=parseFloat(e[s]);break;case"date":e[s]=new Date(e[s])}}))},parseSchema:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e.properties)return{title:e.title,default:{}};if(!i||!e.$schema){var n=[],o=Object.keys(e.properties).length;return Object.keys(e.properties).forEach((function(r){var l=e.properties[r];if(Array.isArray(l.type)){var d=l.type.indexOf("null");d>-1&&l.type.splice(d,1),l.type=l.type[0]}if(l.field||(l.field={}),l.field.hidden)console.warn("hidden is @deprecated, please use visible: false",r);else if(0!=l.field.visible&&0!=l.field.visible)if("object"!==l.type||l.field.type){var u=t.getRelationUrl(l),c=t.getRelationKey(l),p=t.getRelationLabel(l),m=Object(a.merge)({},{url:u||l.relationUrl||l.relation,trackBy:c||l.foreignKey||"id",label:p||"label",name:p||"label",step:l.field.step,readonly:"view"===t.displayMode||l.field.readonly,disabled:"view"===t.displayMode||l.field.disabled,relation:l.relation,foreignKey:c,relationKey:c,relationLabel:p,relationUrl:u},Object(s.a)({},l.field.fieldOptions));l.relation&&(m.url=m.url||u||l.relationUrl||l.relation,m.trackBy=c||l.foreignKey,m.searchable=!0);var h=t.getFieldClasses(l,o),f=m.values||t.getSelectEnumFromStore(m.enum)||l.field&&l.field.options||l.items&&l.items.enum||l.enum,v=Object(s.a)(Object(s.a)({type:l.field.type||t.getFormtype(l),label:l.title||l.description||Object(a.startCase)(r),placeholder:l.placeholder,values:f,hint:l.description,model:i+r,min:l.min,max:l.max,multiple:l.field.multiple||"array"===l.type,multi:l.field.multi||"array"===l.type,styleClasses:h,classes:h,innerClasses:"",labelClasses:"",relation:l.relation,foreignKey:c||l.foreignKey,relationUrl:u,relationKey:c,relationLabel:p},l.field),{},{readonly:"view"===t.displayMode||l.field.readonly,disabled:"view"===t.displayMode||l.field.disabled});m.inputType||(m.inputType=l.field.inputType||t.getFormInputType(l)||"text"),"boolean"!==l.type||"select"!==v.type&&"enyoSelect"!==v.type||v.values&&v.values.length||(v.values=[{id:!0,label:"Yes"},{id:!1,label:"No"},{id:"",label:"-"}]),"dateTime"!==v.type&&"date"!==v.type||(m.icons={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down"}),"array"===v.type&&(v.itemsSchema=l.items),"date"===v.type&&(v.type="dateTime",m.type||(m.type="date")),"time"===v.type&&(v.type="dateTime",m.type||(m.type="time")),"enyoSelect"!==v.type&&"vselect"!==v.type.toLowerCase()||m.options||(v.options=v.values),"vselect"===v.type.toLowerCase()&&m.store&&!m.options&&(m.options=Object(a.get)(t.$store.state,m.store)),t.transformStateBooleans(v),t.transformStateFunctions(v),t.transformStateValue(v,l.type),v.required&&(v.validator||(v.validator=[]),"string"==typeof v.validator&&(v.validator=[v.validator]),v.required&&v.validator.push("required")),v.viewOptions&&!v.displayOptions&&(console.warn("@deprecated, please rename field.viewOptions into field.displayOptions"),v.viewOptions=v.displayOptions),v.displayOptions=l.field.displayOptions||Object(s.a)(Object(s.a)({},l.column),{},{hidden:void 0,type:t.getColumnType(l),classes:l.column&&l.column.classes,styles:l.column&&l.column.styles}),v.displayOptions.relation=v.displayOptions.relation||l.relation,v.displayOptions.relationUrl=v.displayOptions.relationUrl||u,v.displayOptions.relationKey=v.displayOptions.relationKey||c,v.displayOptions.relationLabel=v.displayOptions.relationLabel||p,n.push(Object(s.a)(Object(s.a)({},v),{},{fieldOptions:m}))}else{var g=t.parseSchema(l,"".concat(i).concat(r,"."));g.legend=l.title||Object(a.startCase)(r),g.type="group",g.default={},g.id=r,g.cols=l.field&&l.field.cols,g.styleClasses="subgroup-auto  ".concat(l.field.styleClasses||""),n.push(g)}})),{fields:n}}},parseColumns:function(e){var t=this,i=[];return Object.keys(e).forEach((function(n){var o={},r=e[n];r.hidden||r.column&&r.column.hidden||(o.field=n,o.type=t.getColumnType(r),o.label=Object(a.startCase)(r.column&&r.column.title||r.title||n),o.filterOptions={enabled:!1},o.enum=r.column&&r.column.enum||r.enum,o.sortable=!r.column||void 0===r.column.sortable||r.column.sortable,o=Object(s.a)(Object(s.a)({},o),r.column),r.relation&&(o.relation=r.relation,o.relationKey=t.getRelationKey(r),o.relationUrl=t.getRelationUrl(r),o.relationLabel=t.getRelationLabel(r)),i.push(o))})),i.find((function(e){return"__ACTIONS"===e.field}))||i.push({field:"__ACTIONS",label:"Actions",type:"ACTIONS",filterable:!1,enabled:!1}),i},parseSchemaGroups:function(e){var t=this,i=[];return e.formGroups?(e.formGroups.forEach((function(e){i[e.id]||i.push(Object(s.a)(Object(s.a)({fields:[]},e),{},{legend:t.$t(e.title),id:e.id,type:"group"}))})),i.length<1&&(i=[{legend:"",fields:e.fields}]),i):{}},distributeFieldsInGroups:function(e,t){return t.forEach((function(t){if(t.group){var i=t.group.split("."),s={groups:e};i.forEach((function(e){s=Object(a.find)(s.groups,{id:e})})),s&&(s.fields||(s.fields=[]),s.fields.push(t))}})),e},getFieldClasses:function(e,t){var i,s=e.field.classes||e.field.styleClasses||"";e.field.cols?s="".concat(s," col-").concat(e.field.cols||""):(i=this.layout||t>8||"sidebar"===this.detailPageMode?"col-6":"page"===this.detailPageMode?"col-md-3":"col-12",s="".concat(s," ").concat(i||""));return s}}}},376:function(e,t,i){"use strict";t.a={props:{nestedDisplayMode:{type:String,required:!1,default:"table",values:["view","edit","object","table"],note:"In case of a nested schema, this parameter determines whether the component should be rendered as a list or a form"}},computed:{_isNested:function(){return this.parent},_isEmbedded:function(){return this._isNested&&("view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)},_isANestedDetailView:function(){return this._isNested&&(this.selectedItem&&this.selectedItem[this.primaryKey]||"view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)},_isNestedCreate:function(){return this._isNested&&this.selectedItem&&"create"===this.viewMode},_noFormActions:function(){return this._isNested&&("view"===this.nestedDisplayMode||"edit"===this.nestedDisplayMode)}},methods:{}}},379:function(e,t,i){"use strict";i(169);var s=i(306),a=i.n(s);t.a={props:{rolesStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.rolesStorePath||"user.roles"},note:"Location of the array in the vuex state that contains all the roles of the current users eg if you provide user.roles => we will look ink this.$store.state.user.roles"},extendedRolesStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.extendedRolesStorePath||"extendedRolesStorePath"},note:"Location of the array in the vuex state that contains all the extended roles of the current users eg if you provide user.roles => we will look ink this.$store.state.user.roles"}},methods:{userIs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=this.$store||t;var i=a.a.get(t,this.rolesStorePath)||a.a.get(t.state,this.rolesStorePath);return i&&Array.isArray(i)&&i.indexOf(e)>-1},userHasRole:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=this.$store||t;var i=a.a.get(t,this.rolesStorePath)||a.a.get(t.state,this.rolesStorePath);return i&&Array.isArray(i)&&i.indexOf(e)>-1}}}},380:function(e,t,i){"use strict";i(24),i(310),i(169),i(69),i(308),i(10);t.a={props:{options:{type:Array,default:function(){return[]}},label:String,trackBy:[String,Number],vModelValue:[String,Number,Array,Object],noResult:String,url:String,multiple:[String,Boolean],searchable:{type:[String,Boolean,Number],default:!1}},model:{prop:"vModelValue",event:"input"},data:function(){return{internalValue:"",isLoading:!1,apiOptions:null}},watch:{url:function(){this.setIncomingValue(this.vModelValue)},vModelValue:function(e,t){e!==t&&this.setIncomingValue(e,t)}},computed:{computedOptions:function(){return this.apiOptions||this.options&&this.options.length&&this.options||this.schema&&this.schema.options||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.options||[]},internalOptions:function(){return this.computedOptions},dataUrl:function(){return this.url},filteredProps:function(){var e=Object.assign({},this.$props);return delete e.vModelValue,delete e.input,delete e.value,e},isAjax:function(){return!!this.dataUrl}},methods:{setIncomingValue:function(e,t){var i=this;e!=t&&(Array.isArray(e)?this.internalValue=this.computedOptions&&this.computedOptions.filter((function(t){var s="string"==typeof t?t:t[i.trackBy];return e.indexOf(s)>-1})):(this.internalValue=this.computedOptions&&this.computedOptions.find((function(t){return("string"==typeof t?t:t[i.trackBy])==e})),!this.internalValue&&this.url&&this.loadRemoteEntities(e)))},updateSelected:function(e){var t=this;if(this.internalValue=e,e&&"string"!=typeof e&&"number"!=typeof e)if(Array.isArray(e)){var i=e.map((function(e){return e[t.trackBy]}));this.$emit("input",i)}else this.$emit("input",e[this.trackBy]);else this.$emit("input",e)},loadRemoteEntities:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.dataUrl){this.isLoading=!0;var i=this.$http.get(this.dataUrl,{params:{listOfValues:this.fieldOptions.queryParams&&this.fieldOptions.queryParams.listOfValues||!1,search:t}});return i.then((function(t){e.apiOptions=e.apiResponseConfig&&e.apiResponseConfig.dataPath?_.get(t,e.apiResponseConfig.dataPath):t.data.body,e.isLoading=!1})).catch((function(t){console.error(t),e.isLoading=!1})),i}return Promise.resolve()}},created:function(){},mounted:function(){this.setIncomingValue(this.vModelValue)}}},381:function(e,t,i){"use strict";i(24),i(310),i(171),i(99),i(172);var s=i(306),a=i.n(s),n={name:"AwesomeFilterOperator",mixins:[i(307).a],props:{currentField:{type:Object,required:!0},currentFilter:{type:Object,required:!0},permanentInput:{type:Boolean},inPopper:{type:Boolean}},data:function(){return{filters:[],rules:{text:["$eq","$ne","$like","$notLike","$startsWith","$endsWith","$substring","$isNull","$isNotNull","$isNotDefined"],object:["$eq","$ne","$like","$notLike","$startsWith","$endsWith","$substring","$isNull","$isNotNull","$isNotDefined"],datetime:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isNotDefined"],number:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isDefined","$isNotDefined"],integer:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isDefined","$isNotDefined"],relation:["$eq","$ne","$in","$isNull","$isNotNull","$isDefined","$isNotDefined"],boolean:["$eq","$ne","$isNull","$isNotNull","$isDefined","$isNotDefined"]}}},methods:{updateFilter:function(e){var t={};e.target.value&&(t=this.filters.find((function(t){return t.value===e.target.value}))),this.$emit("update:current-filter",t)},formatLabel:function(e){return this.currentFilter&&e.value===this.currentFilter.value&&e.shortText||e.text}},computed:{_getFilters:function(){var e=this;if(this.currentField&&Object.keys(this.currentField).length){var t=a.a.filter(this.filters,(function(t){if(a.a.includes(e.rules[e.currentField.type],t.value))return t}));if(t.length)return t}return this.filters},_filterSelected:function(){return this.currentFilter&&Object.keys(this.currentFilter).length>0}},mounted:function(){this.filters=[{shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},{shortText:"",text:this.$t("AwesomeFilter.filters.in"),value:"$in"},{shortText:"!=",text:this.$t("AwesomeFilter.filters.not-equals"),value:"$ne"},{shortText:">",text:this.$t("AwesomeFilter.filters.greater-than"),value:"$gt"},{shortText:">=",text:this.$t("AwesomeFilter.filters.greater-or-equals"),value:"$gte"},{shortText:"",text:this.$t("AwesomeFilter.filters.lesser-than"),value:"$lt"},{shortText:"",text:this.$t("AwesomeFilter.filters.lesser-or-equals"),value:"$lte"},{text:this.$t("AwesomeFilter.filters.between"),value:"$between"},{text:this.$t("AwesomeFilter.filters.not-between"),value:"$notBetween"},{text:this.$t("AwesomeFilter.filters.contains"),value:"$like"},{text:this.$t("AwesomeFilter.filters.not-contains"),value:"$notLike"},{text:this.$t("AwesomeFilter.filters.starts-with"),value:"$startsWith"},{text:this.$t("AwesomeFilter.filters.ends-with"),value:"$endsWith"},{text:this.$t("AwesomeFilter.filters.is-null"),value:"$isNull"},{text:this.$t("AwesomeFilter.filters.is-not-null"),value:"$isNotNull"},{text:this.$t("AwesomeFilter.filters.is-defined"),value:"$isDefined"},{text:this.$t("AwesomeFilter.filters.is-not-defined"),value:"$isNotDefined"}]}},o=i(42),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown column awesome-filter-operator"},[i("select",{staticClass:"btn form-control btn-outline-primary",class:{"font-weight-bold":e._filterSelected},attrs:{disabled:!(e.currentField&&e.currentField.field)||e.permanentInput},on:{change:e.updateFilter}},[i("option",{staticClass:"dropdown-item",attrs:{disabled:""}},[e._v(e._s(e.$t("AwesomeFilter.labels.filters")))]),e._v(" "),i("option",{staticClass:"text-center",attrs:{disabled:""}},[e._v("_________")]),e._v(" "),e._l(e._getFilters,(function(t){return i("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(e.formatLabel(t)))])}))],2)])}),[],!1,null,"469bf6be",null);t.a=r.exports},382:function(e,t,i){"use strict";i(46),i(308),i(99);var s=i(45),a=i(416),n=i.n(a),o=(i(417),i(314)),r=i.n(o),l=i(307),d=i(414),u=i(418);r.a.extend(u);var c={name:"AwesomeFilterValue",mixins:[l.a],components:{DateRangePicker:n.a,FieldVSelect:d.a},props:{currentField:{type:Object,required:!0},currentFilter:{type:Object,required:!0},currentValue:{type:[String,Object,Number,Array],required:!0},permanentInput:{type:Boolean}},data:function(){return{value:"",dateRangePicker:{startDate:r()(),endDate:r()().add(7,"days"),locale:{direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Appliquer",cancelLabel:"Annuler",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:r.a.weekdaysMin(),monthNames:r.a.monthsShort(),firstDay:1}}}},methods:{updateValue:function(e){this.$emit("update:current-value",e)},onDateFilter:function(e){e&&("$notBetween"!==this.currentFilter.value&&"$between"!==this.currentFilter.value?this.value=r()(e.startDate.toISOString()).format("YYYY-MM-DD hh:mm"):this.value={from:e.startDate.toISOString().slice(0,10),to:e.endDate.toISOString().slice(0,10)})}},watch:{value:function(e){this.updateValue(e)},currentField:function(e){e&&"object"===Object(s.a)(e)&&Object.keys(e).length?"datetime"===e.type||"date"===e.type?this.value=(new Date).toISOString():"boolean"===e.type?this.value=!0:this.value="":this.value=""},currentFilter:function(e){"$between"!==e.value&&"$notBetween"!==e.value||(this.value={from:"",to:""})}},mounted:function(){this.value=this.currentValue,this.dateRangePicker.locale.applyLabel=this.$t("dateRangePicker.applyLabel"),this.dateRangePicker.locale.cancelLabel=this.$t("dateRangePicker.cancelLabel"),this.dateRangePicker.locale.weekLabel=this.$t("dateRangePicker.weekLabel"),this.dateRangePicker.locale.customRangeLabel=this.$t("dateRangePicker.customRangeLabel")}},p=(i(438),i(42)),m=Object(p.a)(c,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return["$isNull","$isNotNull","$isDefined","$isNotDefined"].includes(e.currentFilter.value)?e._e():i("div",{staticClass:"column awesome-filter-value"},[Object.keys(e.currentField).length||e.permanentInput?i("div",["number"!==e.currentField.type&&"integer"!==e.currentField.type||"$between"===e.currentFilter.value||"$notBetween"===e.currentFilter.value?e._e():i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"form-control input-group-sm",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),("text"===e.currentField.type||"html"===e.currentField.type||"string"===e.currentField.type||"url"===e.currentField.type)&&!e.currentField.enum||e.permanentInput?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control input-group-sm",attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e(),e._v(" "),"text"!==e.currentField.type&&"string"!==e.currentField.type&&"url"!==e.currentField.type||!e.currentField.enum?e._e():i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn btn-default dropdown-toggle p-0 mr-2 ml-2",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(Object.keys(e.value).length?e.value:e.$t("AwesomeFilter.labels.values"))+"\n      ")]),e._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"field"}},[i("a",{staticClass:"dropdown-item",attrs:{href:""},on:{click:function(t){t.preventDefault(),e.value=""}}},[e._v(e._s(e.$t("AwesomeFilter.labels.values")))]),e._v(" "),e._l(e.currentField.enum,(function(t,s){return i("a",{key:s,staticClass:"dropdown-item",attrs:{href:""},on:{click:function(i){i.preventDefault(),e.value=t}}},[e._v("\n          "+e._s(t)+"\n        ")])}))],2)]),e._v(" "),"number"!==e.currentField.type&&"integer"!==e.currentField.type||"$between"!==e.currentFilter.value&&"$notBetween"!==e.currentFilter.value?e._e():i("div",{staticClass:"form-element between"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value.from,expression:"value.from",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.from")},domProps:{value:e.value.from},on:{input:function(t){t.target.composing||e.$set(e.value,"from",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.value.to,expression:"value.to"}],staticClass:"form-control",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.to")},domProps:{value:e.value.to},on:{input:function(t){t.target.composing||e.$set(e.value,"to",t.target.value)}}})]),e._v(" "),"boolean"===e.currentField.type?i("div",{staticClass:"form-element"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.value=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"true"}},[e._v("true")]),e._v(" "),i("option",{attrs:{value:"false"}},[e._v("false")]),e._v(" "),i("option",{domProps:{value:"NULL"}},[e._v("Null")])])]):e._e(),e._v(" "),"datetime"!==e.currentField.type&&"date"!==e.currentField.type||"$notBetween"===e.currentFilter.value||"$between"===e.currentFilter.value?e._e():i("div",{staticClass:"form-element"},[i("date-range-picker",{staticClass:"form-group",attrs:{"locale-data":e.dateRangePicker.locale,"date-range":e.dateRangePicker,"single-date-picker":!0,"time-picker":!0,open:"left","time-picker-increment":1,"show-week-numbers":!1,"show-dropdowns":!1,ranges:!1},on:{update:e.onDateFilter}})],1),e._v(" "),"datetime"!==e.currentField.type&&"date"!==e.currentField.type||"$notBetween"!==e.currentFilter.value&&"$between"!==e.currentFilter.value?e._e():i("div",{staticClass:"form-element"},[i("date-range-picker",{staticClass:"form-group vgt-date-range",attrs:{"date-range":e.dateRangePicker,"locale-data":e.dateRangePicker.locale,open:"left"},on:{update:e.onDateFilter}})],1),e._v(" "),"relation"===e.currentField.type?i("FieldVSelect",{staticClass:"form-control input-group-sm",attrs:{schema:Object.assign({},e.currentField,{model:e.currentField.field,hidden:!1,fieldOptions:Object.assign({},e.currentField,{hidden:!1})}),model:{},multiple:e.currentFilter&&"$in"===e.currentFilter.value,placeholder:e.$t("AwesomeFilter.labels.filterValue"),url:e.currentField.relationUrl},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e(),e._v(" "),"object"===e.currentField.type?i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"form-control input-group-sm",attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}):e._e()],1):e._e()])}),[],!1,null,null,null);t.a=m.exports},383:function(e,t,i){"use strict";i(308);var s=i(307),a=i(317),n={name:"AwesomeAction",mixins:[s.a],components:{AwesomeFilter:a.a},props:{type:{type:String,default:"button",values:["button","dropdown","input","filter"],note:"The type of custom action"},name:{type:String,note:"The name of the custom action used in the identifier"},title:{type:String,note:"The text of the element. Usually used as a tooltip"},label:{type:String,note:"The label of the element"},classes:{type:String,note:"The CSS classes"},icon:{type:String,note:"The icon of the element"},children:{type:Array,default:function(){return[]},note:"The children of the element (eg: in case of a dropdown)"},action:{type:Function,note:"A function you want to trigger when an action on element is fire"},index:{type:Number,note:"The index of the element (use in id)"},items:{type:Array,note:"The selected items"},item:{type:Object,note:"The selected item"},location:{type:String,values:["top","tabletop","inline","topright"],note:"The location of the element"},parent:{type:Object,note:"The parent of the current element (in case of nested)"},field:{type:String,note:"In case of type: filter || input, the field to search on"},defaultOperator:{type:String,note:"In case of type: filter || input, the defaultOperator to display"},columns:{type:Array,note:"In case of type: filter || input, the list of the model's columns"}},data:function(){return{}},methods:{permanentFiltering:function(e,t){this.$emit("permanent-filtering",e,t)},permanentSearching:function(e){this.$emit("permanent-searching",e)}},mounted:function(){"filter"!==this.type&&"input"!==this.type||this.field||console.warn("[AwesomeAction]","You forget to set `field` for this type:",this.type)}},o=i(42),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-action"},["dropdown"===e.type&&e.children.length?i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn dropdown-toggle",class:e.classes,attrs:{type:"button",id:e.name+"-"+e.index,"data-toggle":"dropdown","arias-haspopup":"true","aria-expanded":"false"}},[e.icon?i("i",{class:e.icon}):e._e(),e._v(" "),i("span",[e._v(e._s(e.title?e.$t(e.title):""))])]),e._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":e.name+"-"+e.index}},e._l(e.children,(function(t,s){return i("a",{key:t.id||s,staticClass:"dropdown-item",on:{click:function(i){return e.$emit("customAction",{action:e.$props,items:e.items,item:e.item,location:e.location,parent:e.parent,id:e.name+"-"+s,child:t})}}},[i("span",[e._v(e._s(t.title?e.$t(t.title):""))])])})),0)]):e._e(),e._v(" "),"filter"===e.type?i("div",[i("AwesomeFilter",{key:e.index,attrs:{"permanent-filter":"",defaultOperator:e.defaultOperator,field:e.field,"field-label":e.label||e.title,fields:e.columns},on:{"update-filter":e.permanentFiltering}})],1):e._e(),e._v(" "),"input"===e.type?i("div",[i("AwesomeFilter",{key:e.index,attrs:{"permanent-input":"",field:e.field,"field-label":e.label||e.title},on:{"update-filter":e.permanentFiltering}})],1):e._e(),e._v(" "),e.type&&"button"!==e.type?e._e():i("div",[i("button",{key:e.index,staticClass:"btn",class:e.classes,attrs:{type:"button",id:e.name+"-"+e.index,"data-title":e.title,"data-tooltip":e.title},on:{click:function(t){return e.$emit("customAction",{action:e.$props,items:e.items,item:e.item,location:e.location,parent:e.parent,id:e.name+"-"+e.index})}}},[e.icon?i("i",{class:e.icon}):e._e(),e._v(" "),i("span",[e._v(e._s(e.label?e.$t(e.label):""))])])])])}),[],!1,null,"8e493f8c",null);t.a=r.exports},384:function(e,t,i){"use strict";i(326);var s=i(307),a=i(566),n={name:"AwesomeLayout",components:{},mixins:[s.a],props:{layout:{type:Array,required:!0},editMode:{type:Boolean,default:function(){return!1}},fieldsList:{type:Array,required:!1,default:function(){return[]},note:"An array describing the data that is linked to the nested model. Serves for displaying a detailed object"}},watch:{layout:"layoutWatch"},data:function(){return{internalLayout:[],verticalCompact:!0,height:2,newBlock:{x:0,y:0,w:6,h:6,maxW:12,minH:2,fields:[]}}},methods:{layoutWatch:function(e,t){e!=t&&(this.internalLayout=e)},onLayoutUpdated:function(e){this.$emit("layout-updated",e)},fieldChanged:function(e){this.$emit("layout-fields-updated",e)},addItemToGrid:function(){var e=Object.assign([],this.internalLayout);e.push({x:3*this.internalLayout.length%12,y:this.internalLayout.length+12,w:3,h:3,i:"aw-layout-item-".concat(Object(a.a)()),fields:[]}),this.internalLayout=e,this.$emit("layout-updated",e)},removeItemFromGrid:function(e){var t=Object.assign([],this.internalLayout);t[e]&&t[e].fields&&t[e].fields.length?this.$awNotify({title:this.$t("AwesomeLayout.messages.emptyBlockBeforeDelete"),type:"warning"}):(t.splice(e,1),this.$emit("layout-updated",t))}},computed:{isDraggable:function(){return this.editMode},isResizable:function(){return this.editMode}},created:function(){this.$root.$options.components.draggable||console.error("`Draggable` is missing. Please download vuedraggable and register the component globally!"),this.$root.$options.components.GridLayout||console.error("`GridLayout` is missing. Please download vue-grid-layout and register the component globally!"),this.$root.$options.components.GridItem||console.error("`GridItem` is missing. Please download vue-grid-layout and register the component globally!")},mounted:function(){}},o=(i(402),i(42)),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-layout"},[i("grid-layout",{attrs:{layout:e.internalLayout,"col-num":12,"row-height":80,"is-draggable":e.isDraggable,"is-resizable":e.isResizable,"vertical-compact":e.verticalCompact,margin:[10,10],"use-css-transforms":!0},on:{"update:layout":function(t){e.internalLayout=t},"layout-updated":e.onLayoutUpdated}},e._l(e.internalLayout,(function(t,s){return i("grid-item",{key:t.i,staticClass:"item",attrs:{x:t.x,y:t.y,w:t.w,h:t.h,i:t.i||s,maxW:12,minH:3,dragIgnoreFrom:"a, button, .form-element, .draggable-item"}},[i("div",{class:e.editMode?"awesome-layout-list card card-primary p-0":"p-0"},[t.legend||e.editMode?i("div",{staticClass:"draggable-header bg-primary"},[i("div",{staticClass:"legend"},[e.editMode?i("i",{staticClass:"fa fa-pencil"}):e._e(),e._v(" "),e.editMode?i("input",{directives:[{name:"model",rawName:"v-model",value:t.legend,expression:"item.legend"}],staticClass:"form-control ml-2 aw-layout-legend-input",attrs:{type:"text"},domProps:{value:t.legend},on:{input:function(i){i.target.composing||e.$set(t,"legend",i.target.value)}}}):i("p",[e._v(e._s(t.legend))])]),e._v(" "),e.editMode?i("a",{on:{click:function(t){return e.removeItemFromGrid(s)}}},[i("i",{staticClass:"fa fa-trash"})]):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"item-draggable"},[i("Draggable",{staticClass:"draggable-list",attrs:{list:t.fields,group:"fields",disabled:!e.editMode,"ghost-class":"moving-card"},on:{change:e.fieldChanged}},[e.editMode?e._l(t.fields,(function(t,s){return i("div",{key:s},[i("div",{class:e.editMode?"draggable-item card":""},[i("div",{class:e.editMode?"card-body p-2":""},[e._t("field",(function(){return[e._v(e._s(t))]}),{field:t})],2)])])})):e._e(),e._v(" "),e.editMode?e._e():[e._t("fields",(function(){return[e._v("\n                "+e._s(t.fields)+"\n              ")]}),{fields:t.fields})]],2),e._v(" "),t.layout?i("div",[i("AwesomeLayout",{attrs:{"edit-mode":e.editMode,layout:t.layout},on:{"update:layout":function(i){return e.$set(t,"layout",i)},"layout-updated":e.onLayoutUpdated,change:e.fieldChanged},scopedSlots:e._u([{key:"field",fn:function(t){var s=t.field;return i("div",{},[!e.editMode&&s?e._t("field",(function(){return[e._v("\n                  "+e._s(s)+"\n                ")]}),{fields:s}):e._e()],2)}},{key:"fields",fn:function(t){var s=t.fields;return i("div",{},[!e.editMode&&s?[e._t("fields",(function(){return[e._v("\n                    "+e._s(s)+"\n                  ")]}),{fields:s})]:e._e()],2)}}],null,!0)})],1):e._e()],1)])])})),1),e._v(" "),e.editMode?i("section",{staticClass:"awesome-layout-actions"},[i("button",{staticClass:"btn btn-primary btn-add-item ",attrs:{type:"button"},on:{click:function(t){return e.addItemToGrid()}}},[i("i",{staticClass:"fa fa-plus"})]),e._v(" "),i("Draggable",{staticClass:"draggable-list",attrs:{group:"fields","ghost-class":"moving-card",list:e.fieldsList},on:{change:e.fieldChanged}},e._l(e.fieldsList,(function(t,s){return i("div",{key:s},[i("div",{staticClass:"draggable-item card"},[i("div",{staticClass:"card-body p-2"},[e._v("\n            "+e._s(t.model||t.label||t.title||t)+"\n          ")])])])})),0)],1):e._e()],1)}),[],!1,null,"1d1454e0",null);t.a=r.exports},385:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i(169),i(70),i(43),i(316);var s=i(306),a=i.n(s),n={methods:{getSegmentLabel:function(e){if(!e)return"";var t=e.title||e.label;return t||("string"==typeof e&&e.indexOf("|")>-1?e.split("|")[1]:a.a.startCase(e.field||e.name||a.a.isString(e)?e:this.getSegmentKey(e)))},getSegmentKey:function(e){if(!e)return"";var t=e.model||e.field||e.key||e.id;return t||("string"==typeof e&&e.indexOf("|")>-1?e.split("|")[0]:e)}}}},389:function(e,t,i){var s=i(8),a=i(49),n=i(15),o=i(74).f,r=function(e){return function(t){for(var i,r=n(t),l=a(r),d=l.length,u=0,c=[];d>u;)i=l[u++],s&&!o.call(r,i)||c.push(e?[i,r[i]]:r[i]);return c}};e.exports={entries:r(!0),values:r(!1)}},396:function(e,t,i){"use strict";var s=i(332);i.n(s).a},397:function(e,t,i){"use strict";var s=i(333);i.n(s).a},398:function(e,t,i){"use strict";var s=i(334);i.n(s).a},399:function(e,t,i){"use strict";var s=i(335);i.n(s).a},400:function(e,t,i){"use strict";var s=i(336);i.n(s).a},401:function(e,t,i){"use strict";var s=i(337);i.n(s).a},402:function(e,t,i){"use strict";var s=i(338);i.n(s).a},403:function(e,t,i){"use strict";var s=i(339);i.n(s).a},404:function(e,t,i){},405:function(e,t,i){},406:function(e,t,i){},407:function(e,t,i){},408:function(e,t,i){},409:function(e,t,i){},410:function(e,t,i){},411:function(e,t,i){},412:function(e,t,i){},413:function(e,t,i){},414:function(e,t,i){"use strict";i(170),i(24),i(310),i(169),i(69),i(10),i(43),i(324),i(29);var s=i(309),a=(i(101),i(44)),n=i(460),o=i.n(n),r=i(306),l=i.n(r),d=i(341),u=i.n(d),c=i(313),p=i(380),m=(i(315),{name:"field-vSelect",components:{vSelect:o.a,Popper:u.a,AwesomeForm:function(){return Promise.all([i.e(0),i.e(2),i.e(11)]).then(i.bind(null,345))}},mixins:[p.a,c.b.abstractField],props:{apiRequestConfig:{type:Object,note:"This object define the configuration for talking to the api : filters, sort, pagination, etc",default:function(){return{dataPath:"",perPageField:"perPage",pageField:"page",filtersField:"filters",sortField:"sort",searchField:"search"}}},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:function(){return{dataPath:"data.body",totalCountPath:"data.totalCount"}}},apiQueryParams:{type:Object,default:function(){return{}},note:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestHeaders:{type:Object,default:function(){return{}}},preloadQueryParam:{type:String,default:"perPage=10000"},multiple:{type:Boolean,default:!1},addNewUrl:{type:[String,Function],default:""}},mounted:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.schema.fieldOptions&&e.schema.fieldOptions.preload?e.preloadFn():e.onSearch(e.model[e.schema&&e.schema.model]||"",(function(){return null}));case 1:case"end":return t.stop()}}),t)})))()},data:function(){return{isDataReady:!1,displayEditModal:!1}},computed:{fieldOptions:function(){return this.schema&&this.schema.fieldOptions||this.$props.fieldOptions||{}},internalOptions:function(){return this.apiOptions||this.fieldOptions.values||this.fieldOptions.options||this.schema&&this.schema.values},customLabel:function(){if(void 0!==this.fieldOptions&&void 0!==this.fieldOptions.customLabel&&"function"==typeof this.fieldOptions.customLabel)return this.fieldOptions.customLabel},dataUrl:function(){var e=this.url||this.fieldOptions.url;return e&&e.indexOf("{{")>-1&&(e=this.templateParser(e,Object(s.a)(Object(s.a)({},this.$props.model),{},{currentItem:this.$props.model,context:this}))),e},_trackBy:function(){return this.$props.trackBy||this.fieldOptions.trackBy||this.fieldOptions.relationKey||this.schema.relationKey||this.schema.foreignKey},_labelField:function(){return this.fieldOptions.relationLabel||this.schema.relationLabel||this.fieldOptions.label||"label"},_values:function(){var e=this;return this.model&&Array.isArray(this.model[this.schema.model])?this.model[this.schema.model].map((function(t){return t[e._trackBy]})):this.model[this.schema.model]},_preloadQueryParam:function(){return this.fieldOptions.preloadQueryParam||this.preloadQueryParam},_usePreloadMode:function(){return this.fieldOptions&&this.fieldOptions.preload},_useApiFilter:function(){return this.dataUrl&&!this._usePreloadMode},popupCss:function(){if(this.$refs.vselectPopup){var e=this.$ref.vselectPopup.getBoundingClientRect();return{position:"fixed","z-index":9999999,top:"calc(50vh - ".concat(e.height/2,"px) / 2)"),left:"calc(50vw - ".concat(e.width/2,"px) / 2)"),width:e.width+"px",background:"#fff"}}return{position:"fixed","z-index":9999999,top:"calc(50vh - ".concat(150,"px)"),left:"calc(50vw - ".concat(150,"px)"),width:"300px",height:"300px",background:"#fff"}}},watch:{vModelValue:function(e,t){e!=t&&this.setIncomingValue(e,t)},value:function(e,t){e!=t&&this.setIncomingValue(e,t)}},created:function(){var e=this;this.apiRequestDebounced=l.a.debounce((function(t){return e.loadRemoteEntities(t)}),200)},methods:{get:l.a.get,kebabCase:l.a.kebabCase,isFunction:l.a.isFunction,addTag:function(e,t){var i=this.fieldOptions.onNewTag;"function"==typeof i&&i(e,t,this.options,this.value)},setIncomingValue:function(e,t,i){var s=this;return Object(a.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e!==t){a.next=2;break}return a.abrupt("return");case 2:if(!s.dataUrl||s.internalOptions&&!(s.internalOptions.length<1)||i){a.next=5;break}return a.next=5,s.apiRequestDebounced(e);case 5:if(!Array.isArray(e)){a.next=8;break}return s.internalValue=s.internalOptions&&s.internalOptions.filter((function(t){var i="string"==typeof t?t:t[s._trackBy];return e.indexOf(i)>-1})),a.abrupt("return");case 8:if(s.internalValue=s.internalOptions&&s.internalOptions.find((function(t){return("string"==typeof t?t:t[s._trackBy])==e})),s.internalValue||!s.dataUrl||i){a.next=14;break}return a.next=12,s.apiRequestDebounced(e);case 12:a.sent&&s.setIncomingValue(e,null,!0);case 14:case"end":return a.stop()}}),a)})))()},updateSelected:function(e){var t=this;if(this.internalValue=e,e&&"string"!=typeof e&&"number"!=typeof e)if(Array.isArray(e)){var i=e.map((function(e){return t._trackBy&&e[t._trackBy]?e[t._trackBy]:e}));this.$emit("input",i),this.value=i}else this.$emit("input",e[this._trackBy]),this.value=e[this._trackBy];else this.$emit("input",e),this.value=e},onSearch:function(e,t){this._useApiFilter&&(t(!0),this.search(t,e,this))},preloadFn:function(){var e=this;this.dataUrl&&this.$http.get("".concat(this.dataUrl).concat(-1===this.dataUrl.indexOf("?")?"?":"&").concat(this._preloadQueryParam||"perPage=100"),{params:Object(s.a)({},this.fieldOptions.queryParams)}).then((function(t){e.apiOptions=e.getData(t)})).finally((function(){e.isDataReady=!0}))},search:function(e,t,i){var a=this;this.$http.get(this.dataUrl,{params:Object(s.a)(Object(s.a)({},this.fieldOptions.queryParams),{},{search:t})}).then((function(e){a.apiOptions=a.getData(e)})).finally((function(){e(!1),a.isDataReady=!0}))},searchDebounced:l.a.debounce((function(e,t,i){i.$http.get(i.dataUrl,{params:Object(s.a)(Object(s.a)({},i.fieldOptions.queryParams),{},{search:t})}).then((function(e){i.apiOptions=i.getData(e)})).finally((function(){e(!1),i.isDataReady=!0}))}),150),templateParser:function(e,t){return l.a.templateSettings.interpolate=/{{([\s\S]+?)}}/g,l.a.template(e)(t)},formatLabel:function(e){if(l.a.isString(e)||l.a.isNumber(e))return e;var t;if(this._labelField.indexOf("{{")>-1)try{t=this.templateParser(this._labelField,Object(s.a)(Object(s.a)({},e),{},{currentItem:e}))}catch(e){console.warn("[vSelect][templateParser]",e.message)}else t=this.get(e,this._labelField,"");return this.fieldOptions.taggable?t||e:this.awComponentsConfig.hideIdsInSelect?"".concat(t):"".concat(t," [").concat(e[this._trackBy],"]")},reduce:function(e){return l.a.isString(e)||l.a.isNumber(e)?e:this.fieldOptions.taggable?e&&e[this._trackBy]?e[this._trackBy]:e:this.get(e,this._trackBy)},getData:function(e){return this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?l.a.get(e,this.apiResponseConfig.dataPath):e.data},getDataCount:function(e){return this.apiResponseConfig&&this.apiResponseConfig.totalCountPath&&0!=this.apiResponseConfig.totalCountPath?l.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount},getCss:function(){if(this.$refs.vselectPopup){var e=this.$ref.vselectPopup.getBoundingClientRect();return{position:"fixed","z-index":"9999999",top:"calc(50vh - ".concat(e.height/2,"px) / 2)"),left:"calc(50vw - ".concat(e.width/2,"px) / 2)"),width:e.width+"px"}}return{}}}}),h=(i(437),i(42)),f=Object(h.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-vue-select"},[!e.isAjax||e.isDataReady?i("v-select",e._b({attrs:{multiple:e.multiple||e.fieldOptions.multiple||e.schema.multiple,taggable:e.fieldOptions.taggable,label:e.fieldOptions.label||"label",filterable:!e._useApiFilter,options:e.computedOptions,disabled:e.disabled||e.schema.disabled||e.schema.readonly,required:e.required,value:e.model[e.schema.model],reduce:e.reduce,getOptionLabel:e.formatLabel},on:{open:e.preloadFn,search:e.onSearch,input:e.updateSelected}},"v-select",e.fieldOptions,!1)):e._e(),e._v(" "),!e.schema.relation&&!e.schema.relationRoute||e.fieldOptions.disableRelationActions?e._e():i("div",{staticClass:"aw-field-select-relation-actions"},[e.model&&e.model[e.schema.model]?[e.schema.relationRoute?e._e():i("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.schema.relation)+"/"+e.model[e.schema.model]}},[i("i",{staticClass:"fa fa-eye text-info"})]),e._v(" "),e.schema.relationRoute?e._e():i("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.schema.relation)+"/"+e.model[e.schema.model]+"/edit"}},[i("i",{staticClass:"fa fa-edit text-info"})])]:e._e(),e._v(" "),i("Popper",{attrs:{trigger:"clickToOpen",transition:"fade","append-to-body":!0,options:{placement:"auto",modifiers:{offset:{offset:"0,10px"}}}},on:{show:function(t){e.displayEditModal=!0},hide:function(t){e.displayEditModal=!1}}},[i("button",{staticClass:"external-link",attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayEditModal=!0}},slot:"reference"},[e._v("\n         "),i("i",{staticClass:"fa fa-plus text-info"})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.displayEditModal,expression:"displayEditModal"}],ref:"vselectPopup",staticClass:"vselect-popup-width"},[e.displayEditModal?i("AwesomeForm",{attrs:{identity:e.schema.relation,mode:"create",item:{},displayMode:"page",standalone:!1,useSimpleCreateForm:!0},on:{closeRequested:function(t){e.displayEditModal=!1,e.loadRemoteEntities()},cancel:function(t){e.displayEditModal=!1}}}):e._e()],1)]),e._v(" "),e.schema.relationRoute&&e.isFunction(e.schema.relationRoute)?i("div",{staticClass:"external-link",on:{click:function(t){return e.addNewUrl("new")}}},[e._v("\n       "),i("i",{staticClass:"fa fa-plus text-info"})]):e._e(),e._v(" "),e.schema.relationRoute&&!e.isFunction(e.schema.relationRoute)?i("router-link",{staticClass:"external-link",attrs:{to:e.addNewUrl+"/new"}},[e._v("\n       "),i("i",{staticClass:"fa fa-plus text-info"})]):e._e()],2)],1)}),[],!1,null,null,null);t.a=f.exports},419:function(e){e.exports=JSON.parse('{"AwesomeDefault":{"messages":{"are_you_sure":"Are you sure ?","wont_be_able_recover":"This action cannot be reverted","successfullyCreated":"Successfully created.","successfullyModified":"Successfully modified.","successfullyImported":"successfullyImported","no_data_imported":"no_data_imported","not_imported":"not_imported","all":"Tous"}},"AwesomeKanban":{"labels":{"addList":"Add a list","add":"Add","listName":"List name","removeList":"Remove list","noData":"No fields selected","unsorted":"Un sorted"},"buttons":{"filters":"Filters","refresh":"Refresh","excel-currentpage":"excel-currentpage","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":"Toggle columns filters","clear-state":"Reset table configuration"}},"AwesomeFilter":{"labels":{"filterData":"Filter data","filterValue":"Filter value","fields":"Fields","filters":"Filters","values":"Values","activeFilter":"Active Filters","addFilter":"Add filter","from":"From","clear":"--Vider--","to":"To"},"filters":{"equals":"Equals (=)","not-equals":"Not equals(<>)","greater-than":"Greater than (>)","greater-or-equals":"Greater or equals (>=)","lesser-than":"Lesser than (<)","lesser-or-equals":"Lesser or equals (<=)","between":"Between","not-between":"Not Between","contains":"Contains","not-contains":"Does not contains","starts-with":"Starts with","ends-with":"Ends with","is-null":"is null","is-not-null":"is not null","is-defined":"is defined","is-not-defined":"is not defined","in":"is in"}},"AwesomeTable":{"buttons":{"filters":"Filters","refresh":"Refresh","excel":"Exporter tout","excel-currentpage":"Export data","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":{"toggle":"Toggle columns filters","activate":"Activate les filtres","deactivate":"Disable les filtres"},"clear-state":"Reset table configuration"},"next":"next","prev":"prev","rows_per_page":"Rows per page","of":"of","page":"page","all":"all","empty":"empty","searchInput":"Search","more":"Plus d\'actions","actions":"Actions","configuration":"Configuration","automatique-refresh":"Refresh automatically","columns":"Columns","createFirstItem":"Click here to create your first item","bulk":{"row-select":"row(s) selected","clear":"clear","delete":"delete","edit":"edit"}},"AwesomeCrud":{"labels":{"manageTitle":"Manage","createNew":"Add","view":"View","edit":"Edit","add_a":"Add a(n)"},"buttons":{"yes_delete_it":"Yes i confirm","view":"Open","cancel":"Cancel","close":"Close","edit":"Edit","save":"Save","delete":"Delete","bulkEdit":"Multiple Edit","openEditLayoutMode":"Edit Layout","closeEditLayoutMode":"Close editor","resetLayout":"Reset the layout","exportLayout":"Export the layout"},"messages":{"successfullyModified":"Successfully modified."}},"dateRangePicker":{"applyLabel":"Apply","cancelLabel":"Cancel","weekLabel":"W","customRangeLabel":"Custom Range"},"AwesomeList":{"labels":{"noData":"No fields selected"},"buttons":{"filters":"Filters","refresh":"Refresh","excel-currentpage":"excel-currentpage","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":"Toggle columns filters","clear-state":"Reset table configuration"}},"AwesomeLayout":{"messages":{"emptyBlockBeforeDelete":"you must empty the block before you can delete it."}},"Notifications":{"messages":{"are_you_sure":"Are you sure ?"},"buttons":{"yes":"Yes","cancel":"Cancel","close":"Close"}}}')},420:function(e,t,i){"use strict";var s=i(353);i.n(s).a},421:function(e,t,i){"use strict";var s=i(354);i.n(s).a},422:function(e,t,i){"use strict";var s=i(355);i.n(s).a},423:function(e,t,i){"use strict";var s=i(356);i.n(s).a},424:function(e,t,i){"use strict";var s=i(357);i.n(s).a},425:function(e,t,i){"use strict";var s=i(358);i.n(s).a},426:function(e,t,i){"use strict";var s=i(359);i.n(s).a},427:function(e,t,i){"use strict";var s=i(360);i.n(s).a},428:function(e,t,i){"use strict";var s=i(361);i.n(s).a},429:function(e,t,i){"use strict";var s=i(362);i.n(s).a},430:function(e,t,i){"use strict";var s=i(363);i.n(s).a},431:function(e,t,i){"use strict";var s=i(364);i.n(s).a},432:function(e,t,i){"use strict";var s=i(365);i.n(s).a},433:function(e,t,i){"use strict";var s=i(366);i.n(s).a},434:function(e,t,i){"use strict";var s=i(367);i.n(s).a},435:function(e,t,i){"use strict";var s=i(368);i.n(s).a},436:function(e,t,i){"use strict";var s=i(369);i.n(s).a},437:function(e,t,i){"use strict";var s=i(370);i.n(s).a},438:function(e,t,i){"use strict";var s=i(371);i.n(s).a},439:function(e,t,i){"use strict";var s=i(372);i.n(s).a},440:function(e,t,i){"use strict";var s=i(373);i.n(s).a},441:function(e,t,i){"use strict";var s=i(374);i.n(s).a},470:function(e,t,i){"use strict";var s=i(404);i.n(s).a},471:function(e,t,i){"use strict";var s=i(405);i.n(s).a},472:function(e,t,i){"use strict";var s=i(406);i.n(s).a},473:function(e,t,i){"use strict";var s=i(407);i.n(s).a},474:function(e,t,i){"use strict";var s=i(408);i.n(s).a},475:function(e,t,i){"use strict";var s=i(409);i.n(s).a},476:function(e,t,i){"use strict";var s=i(410);i.n(s).a},477:function(e,t,i){"use strict";var s=i(411);i.n(s).a},478:function(e,t,i){"use strict";var s=i(412);i.n(s).a},479:function(e,t,i){"use strict";var s=i(413);i.n(s).a},556:function(e,t,i){"use strict";i.r(t),i.d(t,"abstractField",(function(){return a.a})),i.d(t,"apiErrorsMixin",(function(){return U.a})),i.d(t,"AutoProps",(function(){return w})),i.d(t,"AwesomeForm",(function(){return g.default})),i.d(t,"EnyoCrudComponent",(function(){return v.default})),i.d(t,"CrudComponent",(function(){return v.default})),i.d(t,"AwesomeCrud",(function(){return v.default})),i.d(t,"AwesomeKanban",(function(){return V.a})),i.d(t,"AwesomeList",(function(){return B.a})),i.d(t,"AwesomeTable",(function(){return x.a})),i.d(t,"AjaxTable",(function(){return x.a})),i.d(t,"AwesomeDisplay",(function(){return q.a})),i.d(t,"EnyoCard",(function(){return N})),i.d(t,"EnyoCrudStatsSection",(function(){return E.a})),i.d(t,"EnyoSelect",(function(){return j})),i.d(t,"FieldEnyoSelect",(function(){return l})),i.d(t,"FieldFileInput",(function(){return m})),i.d(t,"FieldJsonTextarea",(function(){return f})),i.d(t,"install",(function(){return ge})),i.d(t,"LiveEdit",(function(){return M})),i.d(t,"rolesMixin",(function(){return W.a})),i.d(t,"TableAndChartsCard",(function(){return P})),i.d(t,"UploadButton",(function(){return T})),i.d(t,"VueEnyoComponents",(function(){return be})),i.d(t,"VueAwesomeComponents",(function(){return be})),i.d(t,"FormGenerator",(function(){return a.b})),i.d(t,"notificationsMixin",(function(){return z})),i.d(t,"AwesomeActionList",(function(){return Q.a})),i.d(t,"AwesomeAction",(function(){return J.a})),i.d(t,"AwesomeFilter",(function(){return Z.a})),i.d(t,"AwesomeFilterValue",(function(){return X.a})),i.d(t,"AwesomeFilterOperator",(function(){return ee.a}));i(24),i(310),i(169),i(69),i(10),i(29),i(101);var s=i(44),a=i(313),n=i(380),o={mixins:[n.a,a.b.abstractField],props:[],data:function(){return{myModel:""}},computed:{fieldOptions:function(){return this.schema.fieldOptions||{}},internalOptions:function(){return this.apiOptions||this.schema.fieldOptions.values||this.schema.fieldOptions.options||this.schema.values},customLabel:function(){if(void 0!==this.schema.fieldOptions&&void 0!==this.schema.fieldOptions.customLabel&&"function"==typeof this.schema.fieldOptions.customLabel)return this.schema.fieldOptions.customLabel},dataUrl:function(){return this.url||this.fieldOptions.url},_trackBy:function(){return this.$props.trackBy||this.fieldOptions.trackBy||this.schema.foreignKey}},watch:{vModelValue:function(e,t){e!=t?this.setIncomingValue(e,t):console.warn("[WARN] ITS THE SAME INCOMING VALUE",e,t)},value:function(e,t){e!=t?this.setIncomingValue(e,t):console.warn("[WARN] ITS THE SAME INCOMING VALUE",e,t)}},created:function(){var e=this;this.apiRequestDebounced=_.debounce((function(t){return console.warn("","DEBOUNCED",e),e.loadRemoteEntities(t)}),2e3)},methods:{addTag:function(e,t){var i=this.fieldOptions.onNewTag;"function"==typeof i&&i(e,t,this.options,this.value)},setIncomingValue:function(e,t,i){var a=this;return Object(s.a)(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e!==t){s.next=5;break}return console.warn("[WARN] ","SAME VALUE",e),s.abrupt("return");case 5:console.warn("[WARN] ","NEW VALUE => setIncomingValue",t,i);case 6:if(console.warn("","INCOMING VALUE REQUESTED IN setIncomingValue SELECT",e,t),!a.dataUrl||a.internalOptions&&!(a.internalOptions.length<1)||i){s.next=11;break}return console.warn("","list is empty i'm going to search more options"),s.next=11,a.apiRequestDebounced(e);case 11:if(!Array.isArray(e)){s.next=14;break}return a.internalValue=a.internalOptions&&a.internalOptions.filter((function(t){var i="string"==typeof t?t:t[a._trackBy];return e.indexOf(i)>-1})),s.abrupt("return");case 14:if(a.internalValue=a.internalOptions&&a.internalOptions.find((function(t){return("string"==typeof t?t:t[a._trackBy])==e})),console.warn("incoming value ",e,a.dataUrl,a.internalValue),a.internalValue||!a.dataUrl||i){s.next=22;break}return console.warn("[fieldES]","remote load",e),s.next=20,a.apiRequestDebounced(e);case 20:s.sent&&(console.warn("","take 2",e,a.internalOptions.length),a.setIncomingValue(e,null,!0));case 22:case"end":return s.stop()}}),s)})))()},updateSelected:function(e){var t=this;if(this.internalValue=e,e&&"string"!=typeof e&&"number"!=typeof e)if(Array.isArray(e)){var i=e.map((function(e){return t._trackBy&&e[t._trackBy]?e[t._trackBy]:e}));this.$emit("input",i),this.value=i}else this.$emit("input",e[this._trackBy]),this.value=e[this._trackBy];else this.$emit("input",e),this.value=e},onSearchChange:function(e,t){var i=this.fieldOptions.onSearch;console.warn("onSearch",e),"function"==typeof i?i(e,t,this.options):this.apiRequestDebounced(e)},onSelect:function(){},onRemove:function(){},onOpen:function(){},onClose:function(){}}},r=i(42),l=Object(r.a)(o,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("enyo-select",{attrs:{id:e.fieldOptions.id,options:e.internalOptions,value:e.internalValue,multiple:e.fieldOptions.multiple,"track-by":e._trackBy||null,label:e.fieldOptions.label||null,max:e.schema.max||e.fieldOptions.max||null,searchable:e.schema.searchable||e.fieldOptions.searchable||!0,"internal-search":e.schema.internalSearch||e.fieldOptions.internalSearch||!e.dataUrl,disabled:e.disabled,url:e.dataUrl},on:{"search-change":e.apiRequestDebounced,input:e.updateSelected},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)}),[],!1,null,null,null).exports,d=(i(170),i(70),i(43),i(316),i(72)),u={name:"Base64Upload",props:{imageSrc:[String,Object],inputClass:String,disabled:[String,Boolean],readonly:[String,Boolean],imageStyle:Object,type:{type:String,default:"text"},placeholder:{type:String,default:"Drag and drop a file (or click here)"},accept:{type:String,default:""}},data:function(){return{src:this.imageSrc,name:""}},computed:{isImage:function(){return this.src&&this.type&&0===this.type.indexOf("image")||this.src&&this.src.type&&0===this.src.type.indexOf("image")},srcComputed:function(){var e=this.src||this.imageSrc;return e?e&&e.base64?0===(e=e&&e.base64?e.base64:e).indexOf("data:")?e:"data:".concat(this.type,";base64,").concat(e):e:""}},methods:{onChange:function(e){var t=this;if(e.target.files&&e.target.files[0]){var i=e.target.files[0],s=new FileReader;s.addEventListener("load",(function(e){t.src=e.target.result;var s=t.src.split(","),a=Object(d.a)(s,2)[1];t.name=i.name,t.$emit("change",{size:i.size,type:i.type,name:i.name,base64:a})})),s.readAsDataURL(i)}}}},c=(i(470),Object(r.a)(u,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"base64-upload"},[e.name?e._e():i("i",{staticClass:"fa fa-upload text-primary upload-icon"}),e._v(" "),e.isImage?i("img",{style:e.imageStyle,attrs:{src:e.srcComputed}}):e._e(),e._v(" "),e.isImage?e._e():i("p",{staticClass:"form-control",class:e.inputClass},[e._v(e._s(e.name||e.placeholder))]),e._v(" "),i("input",{attrs:{type:"file",disabled:e.disabled||e.readonly,accept:e.isImage?"image/*":"*"},on:{change:e.onChange}})])}),[],!1,null,"6e97d51c",null).exports),p={name:"field-filePicker",components:{Base64Upload:c},mixins:[a.b.abstractField],data:function(){return{refresh:Date.now(),type:this.schema&&this.schema.fieldOptions&&(this.schema.fieldOptions.type||this.schema.fieldOptions.inputType),inputClass:this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.inputClass}},computed:{placeholderComputed:function(){return this.placeholder||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.placeholder}},watch:{value:function(e,t){e!==t&&(this.refresh=Date.now())}},mounted:function(){this.oldValue=this.value},beforeDestroy:function(){},methods:{onChangeImage:function(e){e&&e.type.indexOf("image")>-1&&(this.type=e.type),this.value=e}}},m=(i(471),Object(r.a)(p,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group field-file-input"},[i("base64-upload",{key:e.refresh,attrs:{disabled:e.schema.disabled,readonly:e.schema.readonly,type:e.type,placeholder:e.placeholderComputed,inputClass:e.inputClass,"image-src":e.value},on:{change:e.onChangeImage}}),e._v(" "),e.valueIsNotObject?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",placeholder:"url"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e()],1)}),[],!1,null,null,null).exports),h={name:"field-json-textarea",mixins:[a.b.abstractField],data:function(){return{innerValue:"",warning:"",typing:!1,debounce:null}},computed:{},watch:{value:function(e,t){e!==t&&(this.innerValue=JSON.stringify(e,null,2))}},beforeDestroy:function(){},methods:{saveJson:function(e){var t=this;this.typing=!0,clearTimeout(this.debounce),this.debounce=setTimeout((function(){t.warning="",t.typing=null,t.innerValue=e.target.value;try{t.innerValue&&(t.value=JSON.parse(t.innerValue))}catch(e){t.warning="common.messages.invalid_json"}}),300)}}},f=(i(472),Object(r.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"field-json-text-editor"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.innerValue,expression:"innerValue"}],staticClass:"form-control field-json-textarea",attrs:{autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false"},domProps:{value:e.innerValue},on:{input:[function(t){t.target.composing||(e.innerValue=t.target.value)},e.saveJson]}}),e._v(" "),i("div",{staticClass:"text-right"},[e.warning?i("div",{staticClass:"text-danger"},[i("i",{staticClass:"fa fa-exclamation-circle"}),e._v("\n      "+e._s(e.$t(e.warning))+"\n    ")]):e._e(),e._v(" "),e.warning||e.typing||!this.innerValue?e._e():i("div",{staticClass:"text-success"},[i("i",{staticClass:"fa fa-check"})]),e._v(" "),e.typing?i("div",{staticClass:"text-info"},[e._v("\n      ...\n    ")]):e._e()])])}),[],!1,null,null,null).exports),v=i(327),g=i(345),b=(i(97),i(171),i(173),i(177),i(46),i(174),i(99),i(330),i(100),i(172),i(340),i(71),i(349),i(98),i(45));function y(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var C={name:"AutoProps",model:{prop:"componentProps",event:"input"},props:{component:{type:[Object,String],required:!0},documentation:{type:Object},ignoreMixins:{type:Boolean,default:!1},skipProps:{type:Array,default:function(){return[]}},docked:{type:Boolean,default:!0},folded:{type:Boolean,default:!1},componentProps:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{merged:this.process(this.component,this.documentation),typesForCodeTag:["array","object","function"],defaultProps:{},inputedProps:{},debug:!1,isDocked:void 0,isFolded:void 0}},mounted:function(){this.merged.props&&(this.defaultProps=this.getDefaultProps(),this.inputedProps=Object.assign({},this.defaultProps,this.componentProps),this.updateModel()),this.dockedComputed&&document.body.classList.add("docked-auto-props")},getDoc:function(e,t,i){return this.methods.process(e,t,i)},beforeDestroy:function(){document.body.classList.remove("docked-auto-props")},watch:{dockedComputed:function(){this.dockedComputed?document.body.classList.add("docked-auto-props"):document.body.classList.remove("docked-auto-props")}},computed:{mergedProps:function(){try{return Object.assign({},this.defaultProps,this.componentProps,this.inputedProps)}catch(e){return console.warn("[mergedProps] erroror while merging",e),{}}},rowDisplayMode:function(){return this.docked&&!this.debug?"div":"tr"},colDisplayMode:function(){return this.docked&&!this.debug?"div":"td"},dockedComputed:function(){return void 0!==this.isDocked&&null!==this.isDocked?this.isDocked:this.docked},foldedComputed:function(){return void 0!==this.isFolded&&null!==this.isFolded?this.isFolded:this.folded}},methods:{getDefaultProps:function(){var e=this,t={};return Object.keys(this.merged.props).forEach((function(i){var s=e.merged.props[i];if(!e.componentProps[i]&&s.default&&"undefined"!==s.default){var a=s.default;-1===["function"].indexOf(s.type)&&"function"==typeof a&&(console.warn("[getDefaultProps] getting default value",i,a,s.type),a=a(),console.warn("[getDefaultProps] after getting default value",i,a,s.type,"undefined"==typeof prop?"undefined":Object(b.a)(prop)));try{a=JSON.parse(a)}catch(e){console.warn("[getDefaultProps] try catch error",i,a,s.type,e.message,e)}t[i]=a}})),t},process:function(e,t,i){var s=this.merge(e,t);return i||this.ignoreMixins||s.mixins&&(s.props=this.merge(this.getPropsFromMixins(s.mixins),s.props)),s.props&&(s.props=this.processProps(s.props)),s},sanitize:function(e){var t=(e=e.trim()).match(/^[ \t]*(?=\S)/gm);if(!t)return e;var i=Math.min.apply(Math,t.map((function(e){return e.length}))),s=new RegExp("^[ \\t]{".concat(i,"}"),"gm");return i>0?e.replace(s,""):e},getPropsFromMixins:function(e){return e.reduce((function(e,t){return Object.assign(e,t.props),e}),{})},processProps:function(e){var t=this;return(Array.isArray(e)?e:Object.keys(e)).reduce((function(i,s){var a=new Proxy(e[s]||{},t.basicArrayProxy),n={};return n=Object.assign(n,{type:t.getType(a.type),required:a.required||!1,values:a.values,default:t.getDefault(a.default,a.type,n),note:a.note||""}),i[s]=n,i}),{})},basicArrayProxy:function(e,t){return t in e?e[t]:void 0},getDefault:function(e,t,i){var s=this.getType(t),a=y(e);if(void 0===e)return"undefined";if("function"===a){if(["array","object"].some((function(e){return s.includes(e)}))&&!s.includes("function")){var n=e();return i.defaultTypeStr=y(n),JSON.stringify(n,null,2)}return i.defaultTypeStr="function",e.toString()}return i.defaultTypeStr=a,JSON.stringify(e)},getType:function(e){return null==e?"any":"function"===y(e)?y(e()):Array.isArray(e)?e.map(this.getType).join("|"):y(e)},merge:function(e,t){return Object.assign({},e,t)},hasMixins:function(e){return void 0!==e.mixins},updateModel:function(){this.$emit("input",this.mergedProps)},setProp:function(e,t,i){this.$set(this.inputedProps,t,i),"TEXTAREA"===e.target.nodeName&&this.$set(this.inputedProps,t,JSON.parse(e.target.value))}}},w=(i(473),Object(r.a)(C,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.merged?i("article",{staticClass:"propdoc aw-auto-props"},[i("div",[e._t("default",(function(){return[i(e.component,e._b({tag:"div"},"div",e.mergedProps,!1))]}),{userProps:e.mergedProps})],2),e._v(" "),e.merged.props?i("section",{staticClass:"props prop-section-docked",class:{"prop-section-folded":e.foldedComputed}},[i(e.dockedComputed&&!e.debug?"div":"table",{tag:"table"},[i("thead",[i(e.rowDisplayMode,{tag:"tr",staticClass:"proprow props-header"},[e.dockedComputed?i("div",{staticClass:"component-name",on:{click:function(t){e.isFolded=!e.foldedComputed}}},[e._v("\n            "+e._s(e.merged.name)+" "),i("i",{staticClass:"fa",class:e.foldedComputed?"fa-plus":"fa-times"})]):e._e(),e._v(" "),i(e.colDisplayMode,{tag:"td",staticClass:"propcol name"},[e._v("\n            Name\n          ")]),e._v(" "),i(e.colDisplayMode,{tag:"td",staticClass:"propcol default"},[e._v("\n            Config\n          ")]),e._v(" "),e.debug?i(e.colDisplayMode,{tag:"td",staticClass:"propcol default"},[e._v("\n            Type\n          ")]):e._e(),e._v(" "),e.debug?i(e.colDisplayMode,{tag:"td",staticClass:"propcol default"},[e._v("\n            Value\n          ")]):e._e(),e._v(" "),e.debug?i(e.colDisplayMode,{tag:"td",staticClass:"propcol notes"},[e._v("\n            notes\n          ")]):e._e()],1)],1),e._v(" "),e.foldedComputed?e._e():i("tbody",[e._l(e.merged.props,(function(t,s){return[-1===e.skipProps.indexOf(s)?i(e.rowDisplayMode,{key:s,tag:"tr",staticClass:"proprow"},[i(e.colDisplayMode,{tag:"td",staticClass:"propcol name",class:{required:t.required}},[i("span",[e._v(e._s(s))])]),e._v(" "),i(e.dockedComputed&&!e.debug?"div":"tr",{tag:"td",staticClass:"propcol default"},["string"===t.type?[t.values&&Array.isArray(t.values)?[i("select",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.inputedProps,s,t.target.multiple?i:i[0])}}},e._l(t.values,(function(t){return i("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])})),0)]:e._e(),e._v(" "),t.values?e._e():[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],staticClass:"form-control input-xs",attrs:{type:"text"},domProps:{value:e.inputedProps[s]},on:{input:[function(t){t.target.composing||e.$set(e.inputedProps,s,t.target.value)},e.updateModel]}})]]:"object"===t.type||"array"===t.type?[i("textarea",{staticClass:"form-control input-xs",attrs:{rows:"10",type:"text"},domProps:{value:JSON.stringify(e.mergedProps[s],null,2)},on:{input:function(t){return e.setProp(t,s,e.mergedProps[s])}}})]:"boolean"==t.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],staticClass:"form-control",attrs:{type:"checkbox",value:"1"},domProps:{checked:Array.isArray(e.inputedProps[s])?e._i(e.inputedProps[s],"1")>-1:e.inputedProps[s]},on:{input:e.updateModel,change:function(t){var i=e.inputedProps[s],a=t.target,n=!!a.checked;if(Array.isArray(i)){var o=e._i(i,"1");a.checked?o<0&&e.$set(e.inputedProps,s,i.concat(["1"])):o>-1&&e.$set(e.inputedProps,s,i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.inputedProps,s,n)}}})]:"number"==t.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],staticClass:"form-control input-xs",attrs:{type:"number"},domProps:{value:e.inputedProps[s]},on:{change:e.updateModel,input:function(t){t.target.composing||e.$set(e.inputedProps,s,t.target.value)}}})]:[i("input",{directives:[{name:"model",rawName:"v-model",value:e.inputedProps[s],expression:"inputedProps[propname]"}],staticClass:"form-control input-xs",attrs:{type:"text"},domProps:{value:e.inputedProps[s]},on:{input:[function(t){t.target.composing||e.$set(e.inputedProps,s,t.target.value)},e.updateModel]}})]],2),e._v(" "),e.debug?i(e.rowDisplayMode,{tag:"td",staticClass:"propcol type"},[e._v("\n              "+e._s(t.type)+"\n              "+e._s(t.defaultTypeStr)+"\n            ")]):e._e(),e._v(" "),e.debug?i(e.rowDisplayMode,{tag:"td",staticClass:"propcol value"},[e._v("\n              default:\n              "),i("pre",[e._v(e._s(e.defaultProps[s]))]),e._v(" "),i("br"),e._v("\n              inputed:\n              "),i("pre",[e._v(e._s(e.inputedProps[s]))]),e._v(" "),i("br"),e._v("\n              merged:\n              "),i("pre",[e._v(e._s(e.mergedProps[s]))]),e._v(" "),i("br")]):e._e(),e._v(" "),e.debug?i(e.colDisplayMode,{tag:"td",staticClass:"propcol notes"},[e._v("\n              "+e._s(t.note)+"\n            ")]):e._e()],1):e._e()]}))],2)])],1):e._e()]):e._e()}),[],!1,null,"838249c8",null).exports),O=(i(308),i(309)),$={name:"EnyoChartCard",components:{},props:{classes:String,headerClasses:String,chartType:{type:String,default:"Line"},chartOptions:{type:Object,default:function(){return{}}},chartData:{type:Object,default:function(){return{labels:[],series:[]}}},responsiveOptions:[Object,Array],graphNeedsRefresh:{type:Boolean,default:!1}},data:function(){return{chartist:null,chartId:"no-id",chart:null,animationsClasses:""}},computed:{chartClasses:function(){return"".concat(this.class||""," ").concat(this.animationsClasses," ")},$Chartist:function(){return this.chartist}},watch:{graphNeedsRefresh:"initChart",chartData:"initChart",chartOptions:"initChart"},mounted:function(){var e=this;return Object(s.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.e(60).then(i.t.bind(null,558,7));case 2:e.chartist=t.sent,e.updateChartId(),setTimeout((function(){e.initChart()}),100);case 6:case"end":return t.stop()}}),t)})))()},methods:{initChart:function(){var e="#".concat(this.chartId),t={},i={},s={};if(this.$Chartist){switch(this.chartType){case"Pie":t={series:this.chartData.series[0],labels:this.chartData.labels},i=Object(O.a)(Object(O.a)({},this.chartOptions),{},{labelInterpolationFnc:function(e,i){return"".concat(e," (").concat(Math.round(t.series[i]/t.series.reduce((function(e,t){return e+t}))*100),"%)")}}),this.chart=this.$Chartist[this.chartType](e,t,i,this.responsiveOptions);break;case"Line":s=Object(O.a)(Object(O.a)({},this.chartOptions),{},{plugins:[this.$Chartist.plugins.ctPointLabels({textAnchor:"middle"})]}),this.chart=this.$Chartist[this.chartType](e,this.chartData,s,this.responsiveOptions);break;case"Bar":this.chart=this.$Chartist[this.chartType](e,this.chartData,this.chartOptions,this.responsiveOptions)}if(this.$emit("initialized",this.chart),this.$emit("update:graphNeedsRefresh",!1),window.matchMedia)if(window.matchMedia("print").matches)return;"Line"===this.chartType&&this.animateLineChart(),"Bar"===this.chartType&&this.animateBarChart(),"Pie"===this.chartType&&this.animatePieChart()}},updateChartId:function(){var e=(new Date).getTime().toString(),t=this.getRandomInt(0,e);this.chartId="div_".concat(t)},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},animateLineChart:function(){var e=this,t=0;this.chart&&(this.chart.on("draw",(function(i){"line"===i.type||"area"===i.type?i.element.animate({d:{begin:600,dur:700,from:i.path.clone().scale(1,0).translate(0,i.chartRect.height()).stringify(),to:i.path.clone().stringify(),easing:e.$Chartist.Svg.Easing.easeOutQuint}}):"point"===i.type&&(t++,i.element.animate({opacity:{begin:80*t,dur:500,from:0,to:1,easing:"ease"}}))})),t=0)},animateBarChart:function(){var e=0;this.chart&&this.chart.on("draw",(function(t){"bar"===t.type&&(e++,t.element.animate({opacity:{begin:80*e,dur:500,from:0,to:1,easing:"ease"}}))}))},animatePieChart:function(){var e=0;this.chart&&this.chart.on("draw",(function(t){"slice"===t.type&&(e++,t.element.animate({opacity:{begin:80*e,dur:150,from:0,to:1,easing:"ease"}}))}))}}},F=Object(r.a)($,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"card",class:e.chartClasses},[e.$slots.header?i("div",{staticClass:"card-header",class:e.headerClasses},[e._t("header")],2):e._e(),e._v(" "),i("div",{staticClass:"card-body"},[i("div",{staticClass:"ct-chart",attrs:{id:e.chartId}})]),e._v(" "),e.$slots.footer?i("div",{staticClass:"card-footer"},[e._t("footer")],2):e._e()])}),[],!1,null,null,null).exports,x=i(328),A=i(306),k=i.n(A),S={name:"TableAndChartsCard",introduction:"A component that display graphs to go along an ajaxTable list",token:"\n  <table-and-charts-card\n  :title=\"'Visites par ' + $t('common.labels.' + activeTab)\"\n  :table-columns=\"[{field: activeTab, type:'date'}, {field:'value', label:'#'}]\"\n  :data-source=\"performanceStats.user_visit[activeTab].list\"\n  :needs-refresh.sync=\"tableNeedsRefresh\"\n  :table-options=\"{headerStyle: 'primary', actions:{noActions: true, filter: false, refresh: false} }\"\n  :chart-options=\"{headerStyle: 'primary' }\"\n  :chart-col-key=\"activeTab\"\n\n  ></table-and-charts-card>",description:"",components:{EnyoChartCard:F,AwesomeTable:x.a},props:{tableColumns:{type:Array,required:!0},title:String,initialState:{type:String,default:"table"},identity:{type:[String,Number],default:function(){return Date.now()}},chartOptions:{type:Object,default:function(){return{headerStyle:"primary"}}},tableOptions:{type:Object,default:function(){return{headerStyle:"primary"}}},tableActions:{type:Object,default:function(){return{noActions:!0,filter:!1}}},chartRowKey:{type:String,default:function(){return"value"}},chartColKey:{type:String,default:function(){return"date"}},dataSource:{type:Array,required:!0},className:String,needsRefresh:Boolean},data:function(){return{currentState:this.initialState,internalRefreshRequested:!1,fullscreen:!1,pieResponsiveOptions:[["screen and (min-width: 640px)",{chartPadding:30,labelOffset:100,labelDirection:"explode"}],["screen and (min-width: 1024px)",{labelOffset:80,chartPadding:20}]]}},methods:{selectProp:function(e,t){return e.map((function(e){return k.a.get(e,t)}))},setTab:function(e){this.currentState=e},toggleFullscreen:function(){var e=this;this.fullscreen=!this.fullscreen,this.internalRefreshRequested=!0,setTimeout((function(){e.internalRefreshRequested=!1}),200)}}},P=(i(474),Object(r.a)(S,(function(){var e,t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"card-table-and-chart",class:(e={"card-stats-fullscreen":t.fullscreen},e[t.className]=t.className,e)},["table"===t.currentState?s("AwesomeTable",{attrs:{identity:t.identity,title:t.title,columns:t.tableColumns,rows:t.dataSource,"table-needs-refresh":t.needsRefresh||t.internalRefreshRequested,perPage:t.tableOptions?t.tableOptions.perPage:"",options:t.tableOptions,actions:t.tableActions}},[s("template",{slot:"table-top-actions"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v("\n        Barres\n      ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v("\n        Graphe\n      ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v("\n        Camembert\n      ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t._v(" "),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])],2):t._e(),t._v(" "),"bar"===t.currentState?s("enyo-chart-card",{attrs:{identity:t.identity,"chart-type":"Bar","chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v("\n        "+t._s(t.title)+"\n        "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v("\n            Liste\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v("\n            Graphe\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v("\n            Camembert\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t._v(" "),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e(),t._v(" "),"line"===t.currentState?s("enyo-chart-card",{attrs:{"chart-type":"Line",identity:t.identity,"chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v("\n        "+t._s(t.title)+"\n        "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v("\n            Liste\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v("\n            Barres\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("pie")}}},[t._v("\n            Camembert\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t._v(" "),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e(),t._v(" "),"pie"===t.currentState?s("enyo-chart-card",{attrs:{"chart-type":"Pie",identity:t.identity,"chart-data":{labels:t.selectProp(t.dataSource,t.chartColKey),series:[t.selectProp(t.dataSource,t.chartRowKey)]},"responsive-options":t.pieResponsiveOptions,"header-classes":"ajax-table-header "+(t.chartOptions.headerStyle?"colored-header bg-"+t.chartOptions.headerStyle:"")}},[s("template",{slot:"header"},[s("h4",{staticClass:"mt-0 mb-0"},[t._v("\n        "+t._s(t.title)+"\n        "),s("div",{staticClass:"btn-group btn-group-sm float-right"},[s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("table")}}},[t._v("\n            Liste\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("bar")}}},[t._v("\n            Barres\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary",attrs:{type:"button"},on:{click:function(e){return t.setTab("line")}}},[t._v("\n            Graphe\n          ")]),t._v(" "),s("button",{staticClass:"btn btn-simple btn-primary card-stats-fullscreen-button pr-0",attrs:{type:"button"},on:{click:function(e){return t.toggleFullscreen()}}},[t.fullscreen?s("i",{staticClass:"fa fa-times"}):t._e(),t._v(" "),t.fullscreen?t._e():s("i",{staticClass:"fa fa-search-plus"})])])])])],2):t._e()],1)}),[],!1,null,null,null).exports),I={name:"EnyoSelect",components:{},props:{options:{type:Array,default:function(){return[]}},label:String,trackBy:[String,Number],vModelValue:[String,Number,Array,Object],noResult:String,url:String,multiple:[String,Boolean],internalSearch:[Boolean],searchable:{type:[String,Boolean,Number],default:!1}},model:{prop:"vModelValue",event:"input"},mixins:[n.a],data:function(){return{isLoading:!1,apiOptions:!1}},watch:{},computed:{filteredProps:function(){var e=Object.assign({},this.$props);return delete e.vModelValue,delete e.input,delete e.value,e}},methods:{},created:function(){this.$root.$options.components.multiselect||console.error("`vue-multiselect` is missing. Please download from https://github.com/monterail/vue-multiselect and register the component globally!")}},j=(i(475),Object(r.a)(I,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("multiselect",e._b({attrs:{value:e.internalValue||e.value,searchable:e.searchable,"internal-search":e.internalSearch,loading:e.isLoading,options:e.internalOptions,label:e.label},on:{input:e.updateSelected,"search-change":e.loadRemoteEntities}},"multiselect",e.filteredProps,!1),[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("\n      "+e._s(e.noResult)+"\n    ")])])],1)}),[],!1,null,null,null).exports),R=(i(110),i(25),{name:"UploadButton",inheritAttrs:!1,props:{name:String,options:Object},computed:{},mounted:function(){this.reset()},methods:{reset:function(){var e=this.$refs.inputButton;e&&(e.value="")},buttonClick:function(e){var t=this.$refs.inputButton;t&&t.click()},filesChange:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){var i=t[0];if(this.options.maxSize){var s=i.size&&i.size/Math.pow(1e3,2);if(s>this.options.maxSize)return void this.$awNotify({message:"Upload ".concat(s," size exceeding"),type:"warning"})}this.options.upload&&this.uploadFiles(e),this.options.base64&&this.base64(e,i)}},uploadFiles:function(e){var t=this,i=new FormData,s=e.target.name,a=e.target.files;Array.from(Array(a.length).keys()).map((function(e){i.append(s,a[e],a[e].name)})),this.options.targetUrl?this.options.method?this.$http[this.options.method.toLowerCase()](this.options.targetUrl,i).then((function(e){t.$emit("uploaded",e.data)})).catch((function(e){t.$emit("upload-failed",e.response?e.response.data:e)})).finally((function(){setTimeout((function(){t.reset()}),300)})):this.$awNotify({message:"Upload Method is Required",type:"warning"}):this.$awNotify({message:"Upload Url is Required",type:"warning"})},base64:function(e,t){var i=this,s=new FileReader;s.onload=function(e){var t=e.target.result;t&&i.$emit("base64",t)},s.readAsDataURL(t)}}}),T=Object(r.a)(R,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"clearfix"},[t("button",{class:this.options.class||"btn btn-info",attrs:{type:"button"},on:{click:this.buttonClick}},[t("i",{staticClass:"fa fa-file-excel"}),this._v(" "+this._s(this.options.label||"Upload")+"\n  ")]),this._v(" "),t("input",{ref:"inputButton",staticStyle:{display:"none"},attrs:{type:"file",name:"file",visbility:"hidden"},on:{change:this.filesChange}})])}),[],!1,null,null,null).exports,D={name:"LiveEdit",props:{value:{type:[Number,String,Object],required:!1},type:{type:String,default:"text",values:["text","checkbox","date","select","number","textarea"]},editClass:{type:String,default:""},selectValues:{type:Array,default:function(){return[]}},selectOptions:{type:Object,default:function(){return{value:"value",label:"label",multiple:!1}}},placeholder:{type:String,required:!1,default:""}},data:function(){return{isEditable:!1,originalValue:this.value,modelvalue:this.value}},computed:{_selectValues:function(){var e=this;return this.selectValues?this.selectValues.map((function(t){return"object"===Object(b.a)(t)?{value:t[e.selectOptions.value],label:t[e.selectOptions.label]}:{value:t,label:t}})):[]}},watch:{modelvalue:function(e){this.$emit("input",e)},value:function(e,t){e!==t&&(this.modelvalue=e)}},methods:{saveEdit:function(){this.isEditable=!1,this.$emit("input",this.modelvalue),this.$emit("change",this.modelvalue)},clearEdit:function(){this.isEditable=!1,this.modelvalue=this.originalValue,this.$emit("change",this.modelvalue)}}},M=(i(476),Object(r.a)(D,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isEditable?["text"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),e._v(" "),"number"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"number",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),e._v(" "),"checkbox"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"checkbox",placeholder:e.placeholder},domProps:{value:!0,checked:Array.isArray(e.modelvalue)?e._i(e.modelvalue,!0)>-1:e.modelvalue},on:{change:function(t){var i=e.modelvalue,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=e._i(i,!0);s.checked?n<0&&(e.modelvalue=i.concat([!0])):n>-1&&(e.modelvalue=i.slice(0,n).concat(i.slice(n+1)))}else e.modelvalue=a}}})]:e._e(),e._v(" "),"date"===e.type?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"date",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),e._v(" "),"select"===e.type?[i("select",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{placeholder:e.placeholder,multiple:e.selectOptions.multiple},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.modelvalue=t.target.multiple?i:i[0]}}},e._l(e._selectValues,(function(t,s){return i("option",{key:s,domProps:{value:t.value}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0)]:e._e(),e._v(" "),"textarea"===e.type?[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.modelvalue,expression:"modelvalue"}],class:"live-edit "+e.editClass,attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.modelvalue},on:{input:function(t){t.target.composing||(e.modelvalue=t.target.value)}}})]:e._e(),e._v(" "),i("button",{staticClass:"btn-edit",attrs:{title:"Save"},on:{click:function(t){return e.saveEdit()}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA2ElEQVQokX3RMUpEQRAE0DcfkUWWRQzFQA/hBgZewUA8iRgabmSgVzARTDXZVIy8gJEYiYGRGGywfH4bbCvjX7VgmKanq7qoKSEUpcEaGj/RhpjVjZW893GMITrM8m1elEvchGhrwjbucIYnHGCMUdbDolyFaPsWuhTZxAZecYJd7Ol5/sAFpjjEDh5DvOE+XXxbgnec9kTaDKT76teEdUwyrRq3tUhNGOWZoM3eFo7w8BuhsYjzpSI0ObO04dkivgGueyKruekcSvXTA3+jwzxEV0L8M7eMTwFuNUa403LOAAAAAElFTkSuQmCC"}})]),e._v(" "),i("button",{staticClass:"btn-edit",attrs:{title:"Clear / reset"},on:{click:function(t){return e.clearEdit()}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA60lEQVQokY3RPUpDQRQF4O89HhaP+CoJIYWluIBgYSFWggg2WroCNyFWQayyBAtXIGgpYp1S0rqFGLVRMzZ3zJTOFAP3nsP5GUmCBh3WktVFix7qPKsCvIsTPOM+SZ+VaoAzrOMGr0lawhCPSJgFqI9rzPGBS/SSpME33rHENi5wiOOw84ZF7GX/IzzgJ5S+4l2E0uAvV4SrsYdpADPpFv2yiDpUNnCELavTYAcHlaot5jqMI2C2MS3szXCaK4dNvMRyjquwV2aaoMuEFudBGkeldRRxhyfsoylDt6HUFb/cBHmYwUlSZZn/nl8EkGJCLlPUYQAAAABJRU5ErkJggg=="}})])]:[i("span",{domProps:{innerHTML:e._s(e.modelvalue||e.placeholder)}}),e._v(" "),i("button",{staticClass:"btn-edit",attrs:{title:"Edit"},on:{click:function(t){e.isEditable=!0}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAA0ElEQVQokX3SoU4DURCF4e82G0I2TdMgKgh9A0QVD1BBeIkaLLpVGCSSJ0BUIUlwhARVh0KAQZAUDIZUIJmaS1N2u51xkzPn/jNzUwhNkaQSRYjFqhgNiQ6uMEVvVW8Qt3GKZwRu0A2h2ICxhzGOcJdf2keJ76pziUs84AvvmOCwhpSdLrL4I6O8YPDPNIt3cY6nNfEbhtX5Whn9BH3M0cMnRniszvjX0MUBrvGKsxCzEL+142SkY9zjFkO0mu6TQkhSgZ1s8FNzXV/7tq+xKZYdlHQTgFOznwAAAABJRU5ErkJggg=="}})])]],2)}),[],!1,null,"544c2cea",null).exports),L={name:"EnyoCard",props:{className:String,headerClass:String,bodyClass:String,footerClass:String}},N=Object(r.a)(L,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"card "+e.className},[e.$slots.image?i("div",{staticClass:"card-image"},[e._t("image")],2):e._e(),e._v(" "),e.$slots.header?i("div",{staticClass:"card-header",class:e.headerClass},[e._t("header")],2):e._e(),e._v(" "),i("div",{staticClass:"card-body",class:e.bodyClass},[e._t("default")],2),e._v(" "),e.$slots.footer?i("div",{staticClass:"card-footer",class:e.footerClass},[i("hr"),e._v(" "),e._t("footer")],2):e._e()])}),[],!1,null,null,null).exports,E=i(346),V=i(344),B=i(347),q=i(321),U=i(311),K=i(378),H=i.n(K),Y=i(491),G=i.n(Y);G.a.settings({timeout:5e3,resetOnHover:!0,icon:"fontAwesome",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});var z={methods:{$awNotify:function(e){G.a.settings({timeout:5e3,resetOnHover:!0,icon:"fontAwesome",transitionIn:"flipInX",transitionOut:"flipOutX",position:"topRight"});var t=Object(A.isObject)(e)?Object(O.a)({title:e},e):{icon:"fa fa-info",title:e},i=t&&t.type&&G.a[t.type]?t.type:"info";G.a[i]?G.a[i](t||""):H.a.fire({title:t.title,text:t.message,type:t.type,showCancelButton:!1})},$awConfirm:function(e){var t=this;return new Promise((function(i,s){H.a.fire({title:t.$t("Notifications.messages.are_you_sure"),text:e,type:"info",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:t.$t("Notifications.buttons.yes"),cancelButtonText:t.$t("Notifications.buttons.cancel"),reverseButtons:!0}).then((function(e){i(e.value)})).catch(s)}))},$export:function(e){var t=this;return new Promise((function(i,s){H.a.fire({title:"Data exported",input:"textarea",inputValue:JSON.stringify(e),type:"success",showCancelButton:!1,showConfirmButton:"#3075d6",confirmButtonText:t.$t("Notifications.buttons.close"),reverseButtons:!0}).then((function(e){i(e.value)})).catch(s)}))}}},W=i(379),Q=i(329),J=i(383),Z=i(317),X=i(382),ee=i(381),te=i(331),ie=i.n(te),se=i(314),ae=i.n(se),ne=i(444),oe=(i(492),i(390));ae.a.extend(oe);var re={mixins:[a.b.abstractField],components:{datetime:ne.Datetime},mounted:function(){this.inputId=k.a.uniqueId("datetime_")},computed:{pickerType:function(){return this.schema.fieldOptions&&this.schema.fieldOptions.type||"datetime"}},data:function(){return{inputId:""}},methods:{getDateFormat:function(){return this.schema.fieldOptions&&this.schema.fieldOptions.format?this.schema.fieldOptions.format:"YYYY-MM-DDThh:mm:ssZ"},getDefaultInputFormat:function(){return"YYYY-MM-DDThh:mm:ssZ"},formatValueToField:function(e){var t;return e?(t=void 0!==this.fieldOptions.format?ae()(e,this.fieldOptions.format).toDate():new Date(e),ae()(t).format(this.getDateFormat())):e},formatValueToModel:function(e){return e=e?ae()(e).format(this.getDateFormat()):void 0}},beforeDestroy:function(){}},le=(i(477),Object(r.a)(re,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group"},[i("datetime",e._b({staticClass:"field-date-fw",attrs:{"input-id":e.inputId,"input-class":" form-control",type:e.pickerType,disabled:e.schema.disabled||e.schema.readonly,auto:""},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},"datetime",e.schema,!1))],1)}),[],!1,null,null,null).exports),de=i(414),ue={components:{Base64Upload:c},mixins:[a.b.abstractField],data:function(){return{refresh:Date.now(),type:"image",inputClass:this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.inputClass}},computed:{placeholderComputed:function(){return this.placeholder||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.placeholder},valueIsNotObject:function(){return!this.value||"object"!==Object(b.a)(this.value)}},watch:{value:function(e,t){e!==t&&(this.refresh=Date.now())}},mounted:function(){this.oldValue=this.value},beforeDestroy:function(){},methods:{openImageInTab:function(){window.open(this.value,"_blank")},removeImage:function(){this.value=""},onChangeImage:function(e){e&&-1!==!e.type.indexOf("image")&&(this.value=e)}}},ce=(i(478),Object(r.a)(ue,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group field-file-input aw-form-field-image-picker"},[i("base64-upload",{key:e.refresh,attrs:{disabled:e.schema.disabled,readonly:e.schema.readonly,type:e.type,placeholder:e.placeholderComputed,inputClass:e.inputClass,"image-src":e.value},on:{change:e.onChangeImage}}),e._v(" "),e.valueIsNotObject?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control mt-1 image-picker-input",attrs:{placeholder:"url",type:"text"},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e(),e._v(" "),e.value?i("div",{staticClass:"image-picker-actions"},[i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openImageInTab.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-external-link"})]),e._v(" "),i("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.removeImage.apply(null,arguments)}}},[i("i",{staticClass:"fa fa-trash"})])]):e._e()],1)}),[],!1,null,null,null).exports),pe={name:"field-array",mixins:[a.b.abstractField],components:{},data:function(){return{warning:"",internalValue:[]}},computed:{schemaComputed:function(){return Object(O.a)(Object(O.a)({},this.schema),{},{model:"",fieldOptions:Object(O.a)(Object(O.a)({},this.schema.fieldOptions),{},{inputType:null})})},inputType:function(){var e=this.schema.itemsSchema,t=e.type,i=e.format;if(Array.isArray(t))for(var s=["string","number","boolean"],a=0;a<s.length;a++)if(t.indexOf(s[a])>-1){t=s[a];break}switch(t){case"string":switch(i){case"email":return"email";case"date-time":case"datetime":return"date-time";default:return"text"}case"number":case"integer":return"number";case"boolean":case"array":case"object":return"string";default:return t}}},watch:{value:function(e,t){e&&Array.isArray(e)&&(this.internalValue=e)}},mounted:function(){this.value&&Array.isArray(this.value)&&(this.internalValue=this.value)},beforeDestroy:function(){},methods:{addItem:function(){var e;switch(this.saveItem(),this.schema.itemsSchema.type){case"object":e={};break;case"array":e=[];break;case"number":e=0;break;default:e=""}this.internalValue.push(e),this.$forceUpdate()},removeItem:function(e){this.$delete(this.internalValue,e),this.$forceUpdate()},saveItem:function(){this.value=this.internalValue}}},me=(i(479),Object(r.a)(pe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-field-array"},[e._l(e.internalValue,(function(t,s){return i("div",{key:s,staticClass:"env-row row"},[void 0!==t?[i("button",{staticClass:"btn btn-danger btn-sm btn-delete pull-right",attrs:{type:"button"},on:{click:function(t){return e.removeItem(s)}}},[i("i",{staticClass:"fa fa-trash"})]),e._v(" "),i("div",{staticClass:"col-12"},[e.schema.itemsSchema&&"object"===e.schema.itemsSchema.type?[i("div",{staticClass:"form-group"},[i("awesome-form",{attrs:{mode:"edit",displayMode:"page",item:e.internalValue[s],"v-model":e.internalValue[s],identity:s+"",schema:e.schema.itemsSchema,displayHeader:!1,displayFooter:!1}})],1)]:[i("div",{staticClass:"form-group"},["checkbox"===e.inputType?i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:"checkbox"},domProps:{checked:Array.isArray(e.internalValue[s])?e._i(e.internalValue[s],null)>-1:e.internalValue[s]},on:{change:[function(t){var i=e.internalValue[s],a=t.target,n=!!a.checked;if(Array.isArray(i)){var o=e._i(i,null);a.checked?o<0&&e.$set(e.internalValue,s,i.concat([null])):o>-1&&e.$set(e.internalValue,s,i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.internalValue,s,n)},function(t){e.schemaComputed.onChange}],blur:function(t){return e.saveItem()}}}):"radio"===e.inputType?i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:"radio"},domProps:{checked:e._q(e.internalValue[s],null)},on:{change:[function(t){return e.$set(e.internalValue,s,null)},function(t){e.schemaComputed.onChange}],blur:function(t){return e.saveItem()}}}):i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.internalValue[s],expression:"internalValue[index]"}],staticClass:"form-control mb-2",class:e.fieldClasses,attrs:{alt:e.schemaComputed.fieldOptions.alt,dirname:e.schemaComputed.fieldOptions.dirname,disabled:e.disabled,files:e.schemaComputed.fieldOptions.files,formaction:e.schemaComputed.fieldOptions.formaction,formenctype:e.schemaComputed.fieldOptions.formenctype,formmethod:e.schemaComputed.fieldOptions.formmethod,formnovalidate:e.schemaComputed.fieldOptions.formnovalidate,formtarget:e.schemaComputed.fieldOptions.formtarget,height:e.schemaComputed.fieldOptions.height,id:e.fieldID,list:e.schemaComputed.fieldOptions.list,max:e.schemaComputed.fieldOptions.max,maxlength:e.schemaComputed.fieldOptions.maxlength,min:e.schemaComputed.fieldOptions.min,minlength:e.schemaComputed.fieldOptions.minlength,multiple:e.schemaComputed.fieldOptions.multiple,name:e.inputName,pattern:e.schemaComputed.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schemaComputed.required,size:e.schemaComputed.fieldOptions.size,src:e.schemaComputed.fieldOptions.src,step:e.schemaComputed.fieldOptions.step,width:e.schemaComputed.fieldOptions.width,type:e.inputType},domProps:{value:e.internalValue[s]},on:{change:function(t){e.schemaComputed.onChange},blur:function(t){return e.saveItem()},input:function(t){t.target.composing||e.$set(e.internalValue,s,t.target.value)}}})])]],2)]:e._e()],2)})),e._v(" "),i("button",{staticClass:"float-right btn btn-secondary btn-sm",attrs:{type:"button"},on:{click:function(t){return e.addItem()}}},[i("i",{staticClass:"fa fa-plus"})])],2)}),[],!1,null,"139b53a9",null).exports),he=i(384),fe={name:"EnyoStatsCard",components:{EnyoCard:N},props:{className:String}},ve=Object(r.a)(fe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("enyo-card",{staticClass:"card-stats",class:e.className},[i("div",{staticClass:"row"},[e.$slots.header?i("div",{staticClass:"col-5"},[i("div",{staticClass:"icon-big text-center"},[e._t("header")],2)]):e._e(),e._v(" "),e.$slots.content?i("div",{staticClass:"col-7"},[i("div",{staticClass:"numbers"},[e._t("content")],2)]):e._e()]),e._v(" "),e.$slots.footer?i("div",{staticClass:"stats",attrs:{slot:"footer"},slot:"footer"},[e._t("footer")],2):e._e()])}),[],!1,null,null,null).exports,ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&(e.prototype.awComponentsConfig={displayLabelsCache:{}},t.config&&(e.prototype.awComponentsConfig=k.a.merge(e.prototype.awComponentsConfig,t.config)),t.AwesomeCrud&&t.AwesomeCrud.props&&(v.default.props=k.a.merge(v.default.props,t.AwesomeCrud.props)),t.AwesomeForm&&t.AwesomeForm.props&&(g.default.props=k.a.merge(g.default.props,t.AwesomeForm.props)),t.AwesomeList&&t.AwesomeList.props&&(B.a.props=k.a.merge(B.a.props,t.AwesomeList.props)),t.AwesomeTable&&t.AwesomeTable.props&&(x.a.props=k.a.merge(x.a.props,t.AwesomeTable.props)),t.FieldVSelect&&t.FieldVSelect.props&&(de.a.props=k.a.merge(de.a.props,t.FieldVSelect.props))),e.use(a.b,{fields:k.a.values(a.b.fieldsLoader),options:t}),e.component("enyo-card",N),e.component("enyo-stats-card",ve),e.component("enyo-stats",E.a),e.component("enyo-table-and-charts-card",P),e.component("datetime",ne.Datetime),e.component("upload-button",T),e.component("enyo-select",j),e.component("live-edit",M),e.component("fieldDateTime",le),e.component("fieldEnyoSelect",l),e.component("fieldVSelect",de.a),e.component("fieldFileInput",m),e.component("fieldFilePicker",m),e.component("fieldJsonTextarea",f),e.component("field-json-textarea",f),e.component("fieldImagePicker",ce),e.component("field-array",me),e.component("ajax-table",x.a),e.component("enyo-ajax-table",x.a),e.component("AwesomeTable",x.a),e.component("AwesomeList",B.a),e.component("AwesomeLayout",he.a),e.component("AwesomeForm",g.default),e.component("crud-component",v.default),e.component("awesome-crud",v.default),e.component("awesome-kanban",V.a),e.prototype.$awEventBus||(e.prototype.$awEventBus=new e),e.prototype.$http||(e.prototype.$http=ie.a.create({})),e.prototype.$notify||(e.prototype.$notify=z.methods.$awNotify),e.prototype._notify=z.methods.$notify,e.prototype.$confirm||(e.prototype.$confirm=z.methods.$confirm),e.prototype._confirm=z.methods.$confirm,e.mixin(z)},be={AjaxTable:x.a,apiErrorsMixin:U.a,AutoProps:w,AwesomeForm:g.default,AwesomeTable:x.a,AwesomeList:B.a,AwesomeKanban:V.a,AwesomeCrud:v.default,AwesomeDisplay:q.a,EnyoCard:N,EnyoCrudComponent:v.default,CrudComponent:v.default,EnyoCrudStatsSection:E.a,EnyoSelect:j,FieldEnyoSelect:l,FieldFileInput:m,FieldJsonTextarea:f,install:ge,LiveEdit:M,rolesMixin:W.a,TableAndChartsCard:P,UploadButton:T,FormGenerator:a.b,abstractField:a.a,notificationsMixin:z,AwesomeFilter:Z.a,AwesomeFilterValue:X.a,AwesomeFilterOperator:ee.a};t.default=be}}]);