(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{307:function(e,t,i){"use strict";var n=i(419),a=i(306);t.a={props:{translations:{type:Object,default:function(){return{}}}},computed:{_translations:function(){return Object(a.merge)(this.translations,n)}},created:function(){var e=this;this.$t||(this.$t=function(t){return Object(a.get)(e._translations,t)||t},this.$te=function(t){return!!Object(a.get)(e._translations,t)})}}},311:function(e,t,i){"use strict";i(24),i(173),i(69);t.a={methods:{apiErrorCallback:function(e){var t=this;if(!e||e.response||e.message){var i=e.response||e.data||e,n=this.parseErrorResponse(i);this.$te("aw.messages.".concat(n))?n=this.$t("aw.messages.".concat(n)):this.$te(n)&&(n=this.$t(n));var a=e.response&&e.response.data||e.data||e,s=a&&a.errors,r=s&&Array.isArray(s)?s.map((function(e){return e.message||e})).filter((function(e){return e!==i})).map((function(e){return"".concat(t.$te(e)?t.$t(e):e,"\n")})).join(""):"";this.$awNotify({title:n,message:r,type:"warning",timer:3e3})}else this.$awNotify({title:this.$t("common.messages.network_error"),type:"warning"})},parseErrorResponse:function(e){if(!e)return"";var t=e.response||e.data||e;if(t){var i="";return t.message?t.message:t.errors?(t.errors&&t.errors.length?i+="\n"+t.errors.map((function(e){return e.message||e})).join("<br/>"):i+=JSON.stringify(t.errors),i):t instanceof String?t:JSON.stringify(t)}return"Error status: ".concat(e.status)}}}},312:function(e,t,i){"use strict";i(170),i(70);var n=i(309);t.a={methods:{formatComponentName:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(t.$root===t)return"root instance";var i=t._isVue?t.$options.name||t.$options._componentTag:t.name;return(i||"anonymous component")+(t._isVue&&t.$options.__file&&e?" at "+t.$options.__file:"")},$awEmit:function(e){for(var t,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];this.$emit.apply(this,[e].concat(a,[{source:this.formatComponentName(),context:this,item:Object.assign({},Object(n.a)({},this.selectedItem)),identity:this.identity,parent:this.parent}])),this.$awEventBus&&(t=this.$awEventBus).$emit.apply(t,[e].concat(a,[{source:this.formatComponentName(),context:this,item:Object.assign({},Object(n.a)({},this.selectedItem)),identity:this.identity,parent:this.parent}]))}}}},313:function(e,t,i){"use strict";i.d(t,"a",(function(){return F}));var n={};i.r(n),i.d(n,"fieldCheckbox",(function(){return S})),i.d(n,"fieldChecklist",(function(){return A})),i.d(n,"fieldInput",(function(){return I})),i.d(n,"fieldLabel",(function(){return L})),i.d(n,"fieldRadios",(function(){return E})),i.d(n,"fieldSelect",(function(){return q})),i.d(n,"fieldSubmit",(function(){return U})),i.d(n,"fieldTextArea",(function(){return H})),i.d(n,"fieldUpload",(function(){return K})),i.d(n,"fieldCleave",(function(){return W})),i.d(n,"fieldDateTimePicker",(function(){return X})),i.d(n,"fieldGoogleAddress",(function(){return te})),i.d(n,"fieldImage",(function(){return ne})),i.d(n,"fieldNoUiSlider",(function(){return se})),i.d(n,"fieldPikaday",(function(){return oe})),i.d(n,"fieldStaticMap",(function(){return ue})),i.d(n,"fieldSwitch",(function(){return de})),i.d(n,"fieldVueMultiSelect",(function(){return fe})),i.d(n,"fieldNumber",(function(){return N}));i(97),i(70),i(98),i(24),i(326),i(10);var a=i(0),s=i(306),r=i(320),o={methods:{getStyleClasses:function(e,t){var i=e.styleClasses;return Object(s.isArray)(i)?i.forEach((function(e){t[e]=!0})):Object(s.isString)(i)&&(t[i]=!0),t}}},l={name:"form-group",mixins:[o],props:{fields:{type:Array,default:function(){return[]}},group:{type:Object,default:function(){return{}}},tag:{type:String,default:"fieldset",validator:function(e){return e.length>0}},model:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},errors:{type:Array,default:function(){return[]}},eventBus:{type:Object,default:function(){return{}}}},data:function(){return{validationClass:{}}},watch:{},computed:{groupLegend:function(){return this.group&&this.group.legend?this.group.legend:""},groupRowClasses:function(){var e={"field-group":!0};return Object(s.isNil)(this.group)||(e=this.getStyleClasses(this.group,e)),e},groupIsVisible:function(){return this.group&&this.group.visible&&Object(s.isFunction)(this.group.visible)?this.group.visible.call(this,this.model,this.group,this):!!Object(s.isNil)(this.group.visible)||this.group.visible}},methods:{fieldVisible:function(e){return Object(s.isFunction)(e.visible)?e.visible.call(this,this.model,e,this):!!Object(s.isNil)(e.visible)||e.visible},getGroupTag:function(e){return Object(s.isNil)(e.tag)?this.tag:e.tag}},created:function(){var e=this;this.eventBus.$on("field-validated",(function(){e.$nextTick((function(){var t,i=null!==e.$refs.group.querySelector(".form-element."+Object(s.get)(e.options,"validationErrorClass","error"));e.validationClass=(t={},Object(r.a)(t,Object(s.get)(e.options,"validationErrorClass","error"),i),Object(r.a)(t,Object(s.get)(e.options,"validationSuccessClass","valid"),!i),t)}))}))}},u=i(42),c=Object(u.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.fields&&e.groupIsVisible?i(e.tag,{ref:"group",tag:"fieldset",class:[e.groupRowClasses,e.validationClass]},[e._t("group-legend",null,{group:e.group,groupLegend:e.groupLegend}),e._v(" "),e._t("group-help",null,{group:e.group}),e._v(" "),i("div",{staticClass:"row m-0",staticStyle:{flex:"1"}},[e._l(e.fields,(function(t,n){return[e.fieldVisible(t)?["group"===t.type?[i("div",{key:n,class:t.cols?"col-"+t.cols:""},[i("div",{staticClass:"wrapper",class:t.wrapperClasses},[i("form-group",{attrs:{fields:t.fields,group:t,tag:e.getGroupTag(t),model:e.model,options:e.options,errors:e.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"group-legend",fn:function(t){return[e._t("group-legend",null,{group:t.group,groupLegend:t.groupLegend})]}},{key:"group-help",fn:function(t){return[e._t("group-help",null,{group:t.group})]}},{key:"element",fn:function(t){return[e._t("element",null,{field:t.field,model:t.model,options:t.options,errors:t.errors,eventBus:t.eventBus})]}}],null,!0)})],1)])]:[e._t("element",null,{field:t,model:e.model,options:e.options,errors:e.errors,eventBus:e.eventBus})]]:e._e()]}))],2)],2):e._e()}),[],!1,null,null,null).exports,d=(i(171),i(45)),p=i(319),f={name:"form-element",mixins:[o],components:{AwesomeDisplay:i(321).a},props:{model:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},field:{type:Object,required:!0},errors:{type:Array,default:function(){return[]}},eventBus:{type:Object,default:function(){return{}}}},mounted:function(){this.model&&"object"===Object(d.a)(this.model)&&this.field.value},data:function(){return{childErrors:[],childTouched:!1}},computed:{fieldID:function(){var e=Object(s.get)(this.options,"fieldIdPrefix","");return Object(p.slugifyFormID)(this.field,e)},fieldType:function(){return"field-"+(this.field&&this.field.type?this.field.type:"input")},viewFieldType:function(){return this.field.displayOptions&&this.field.displayOptions.type?this.field.displayOptions.type:this.field.fieldOptions.relation?"relation":this.field.fieldOptions.inputType},fieldTypeHasLabel:function(){if(Object(s.isNil)(this.field.label))return!1;var e=this.getValueFromOption(this.field,"fieldOptions"),t="input"===this.field.type&&!Object(s.isNil)(e)?e.inputType:this.field.type;return!["button","submit","reset"].includes(t)},fieldHasHint:function(){return!Object(s.isNil)(this.field.hint)},fieldHasErrors:function(){return this.childErrors.length>0},fieldRowClasses:function(){var e,t=(e={},Object(r.a)(e,Object(s.get)(this.options,"validationErrorClass","error"),this.fieldHasErrors),Object(r.a)(e,Object(s.get)(this.options,"validationSuccessClass","valid"),!this.fieldHasErrors&&this.childTouched),Object(r.a)(e,Object(s.get)(this.options,"validationCleanClass","clean"),!this.fieldHasErrors&&!this.childTouched),Object(r.a)(e,"disabled",this.getValueFromOption(this.field,"disabled")),Object(r.a)(e,"readonly",this.getValueFromOption(this.field,"readonly")),Object(r.a)(e,"featured",this.getValueFromOption(this.field,"featured")),Object(r.a)(e,"required",this.getValueFromOption(this.field,"required")),e);return t=this.getStyleClasses(this.field,t),Object(s.isNil)(this.field.type)||(t["field-"+this.field.type]=!0),t},buttonsAreVisible:function(){return Object(s.isArray)(this.field.buttons)&&this.field.buttons.length>0},isViewMode:function(){return"view"===this.field.mode},fieldValue:function(){return Object(s.get)(this.model,this.field.model)}},methods:{getValueFromOption:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(s.isFunction)(e[t])?e[t].call(this,this.model,e,this):Object(s.isNil)(e[t])?i:e[t]},buttonClickHandler:function(e,t,i){return e.onclick.call(this,this.model,t,i,this)},onFieldTouched:function(){this.childTouched=!0},onChildValidated:function(e){this.childErrors=e}}},h=(i(424),{name:"form-generator",components:{formGroup:c,formElement:Object(u.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-element",class:[e.fieldRowClasses]},[i("div",{staticClass:"form-inner-div",class:e.field.innerClasses},[e.fieldTypeHasLabel?i("label",{class:e.field.labelClasses,attrs:{for:e.fieldID}},[e._t("label",null,{field:e.field,getValueFromOption:e.getValueFromOption}),e._v(" "),e._t("help",null,{field:e.field,getValueFromOption:e.getValueFromOption})],2):e._e(),e._v(" "),e.isViewMode?[i("awesome-display",e._b({attrs:{type:e.viewFieldType,value:e.fieldValue,relation:e.field.displayOptions.relation,"relation-url":e.field.displayOptions.relationUrl,"relation-key":e.field.displayOptions.relationKey,"relation-label":e.field.displayOptions.relationLabel}},"awesome-display",e.field.displayOptions,!1))]:i("div",{staticClass:"field-content"},[i("div",{staticClass:"field-wrap"},[i(e.fieldType,{ref:"child",tag:"component",attrs:{model:e.model,schema:e.field,"form-options":e.options,"event-bus":e.eventBus,"field-i-d":e.fieldID},on:{"field-touched":e.onFieldTouched,"errors-updated":e.onChildValidated}}),e._v(" "),e.buttonsAreVisible?i("div",{staticClass:"buttons"},e._l(e.field.buttons,(function(t,n){return i("button",{key:n,class:t.classes,domProps:{textContent:e._s(t.label)},on:{click:function(i){return e.buttonClickHandler(t,e.field,i)}}})})),0):e._e()],1),e._v(" "),e.fieldHasHint?[e._t("hint",null,{field:e.field,getValueFromOption:e.getValueFromOption})]:e._e(),e._v(" "),e.fieldHasErrors?[e._t("errors",null,{childErrors:e.childErrors,field:e.field,getValueFromOption:e.getValueFromOption})]:e._e()],2)],2)])}),[],!1,null,null,null).exports},props:{schema:{type:Object,default:function(){return{}}},model:{type:Object,default:function(){return{}}},isGroupVisible:function(e){return Object(s.isFunction)(e.visible)?e.visible.call(this,this.model,e,this):!!Object(s.isNil)(e.visible)||e.visible},options:{type:Object,default:function(){return{validateAfterLoad:!1,validateAsync:!1,validateAfterChanged:!1,validationErrorClass:"error",validationSuccessClass:""}}},isNewModel:{type:Boolean,default:!1},tag:{type:String,default:"fieldset",validator:function(e){return e.length>0}}},data:function(){return{eventBus:new a.a,totalNumberOfFields:0,errors:[]}},computed:{fields:function(){return this.schema&&this.schema.fields?(this.schema.mode&&this.injectFieldMode(this.schema.fields),this.schema.fields):{}},group:function(){return this.schema&&this.schema.group?this.schema.group:{}},styleClasses:function(){return this.schema&&this.schema.styleClasses?this.schema.styleClasses:{}}},watch:{model:{handler:function(e,t){var i=this;t!==e&&null!=e&&this.$nextTick((function(){!0===i.options.validateAfterLoad&&!0!==i.isNewModel?i.validate().then((function(){}),(function(){})):i.child&&i.child.clearValidationErrors&&i.clearValidationErrors()}))},immediate:function(){return!0}}},methods:{translate:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.$te,this.$te.apply(this,t)?this.$t.apply(this,t):t&&t[0]},fillErrors:function(e,t,i){Object(s.isArray)(e)&&e.length>0&&e.forEach((function(e){t.push({uid:i,error:e})}))},onFieldValidated:function(e,t,i){this.errors=this.errors.filter((function(e){return e.uid!==i})),this.fillErrors(t,this.errors,i);var n=0===this.errors.length;this.$emit("validated",n,this.errors,this)},onModelUpdated:function(e,t){this.$emit("model-updated",e,t)},validate:function(){var e=this;return new Promise((function(t,i){e.clearValidationErrors();var n=0,a=[];e.eventBus.$on("field-deregistering",(function(){e.eventBus.$emit("fields-validation-terminated",a),i(a)}));Object(s.get)(e.options,"validateAfterChanged",!1)&&e.eventBus.$off("field-validated",e.onFieldValidated),e.eventBus.$on("field-validated",(function r(o,l,u){if(n++,e.fillErrors(l,a,u),n===e.totalNumberOfFields){e.eventBus.$off("field-validated",r),Object(s.get)(e.options,"validateAfterChanged",!1)&&e.eventBus.$on("field-validated",e.onFieldValidated),e.errors=a;var c=0===a.length;e.$emit("validated",c,a,e),e.eventBus.$emit("fields-validation-terminated",a),c?t():i(a)}})),e.eventBus.$emit("validate-fields",e)}))},clearValidationErrors:function(){this.errors.splice(0),this.eventBus.$emit("clear-validation-errors",this.clearValidationErrors)},injectFieldMode:function(e){var t=this;this.schema.mode&&e.forEach((function(e){e.mode=t.schema.mode,e.fields&&t.injectFieldMode(e.fields)}))}},created:function(){var e=this;Object(s.get)(this.options,"validateAfterChanged",!1)&&this.eventBus.$on("field-validated",this.onFieldValidated),this.eventBus.$on("model-updated",this.onModelUpdated),this.eventBus.$on("fields-validation-trigger",(function(){return e.validate().then((function(){}),(function(){}))})),this.eventBus.$on("field-registering",(function(){e.totalNumberOfFields=e.totalNumberOfFields+1})),this.eventBus.$on("field-deregistering",(function(){e.totalNumberOfFields=e.totalNumberOfFields-1}))},beforeDestroy:function(){this.eventBus.$off("field-validated"),this.eventBus.$off("model-updated"),this.eventBus.$off("fields-validation-trigger"),this.eventBus.$off("field-registering"),this.eventBus.$off("field-deregistering")}}),m=(i(425),Object(u.a)(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return null!=e.schema?i("div",{staticClass:"vue-form-generator"},[i("form-group",{class:e.styleClasses,attrs:{tag:e.tag,fields:e.fields,group:e.group,model:e.model,options:e.options,errors:e.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"group-legend",fn:function(t){var n=t.group,a=t.groupLegend;return[e._t("group-legend",(function(){return[a?i("legend",{staticClass:"aw-form-group-legend"},[i("span",{domProps:{innerHTML:e._s(a)}})]):e._e()]}),{group:n,groupLegend:a})]}},{key:"group-help",fn:function(t){var n=t.group;return[e._t("group-help",(function(){return[n.help?i("span",{staticClass:"help"},[i("i",{staticClass:"icon"}),e._v(" "),i("div",{staticClass:"helpText",domProps:{innerHTML:e._s(n.help)}})]):e._e()]}),{group:n})]}},{key:"element",fn:function(t){return[i("form-element",{attrs:{field:t.field,model:t.model,options:t.options,errors:t.errors,"event-bus":e.eventBus},scopedSlots:e._u([{key:"label",fn:function(t){var n=t.field,a=t.getValueFromOption;return[e._t("label",(function(){return[i("span",{domProps:{innerHTML:e._s(n.label)}})]}),{field:n,getValueFromOption:a})]}},{key:"help",fn:function(t){var n=t.field,a=t.getValueFromOption;return[e._t("help",(function(){return[n.help?i("span",{staticClass:"help"},[i("i",{staticClass:"icon"}),e._v(" "),i("div",{staticClass:"helpText",domProps:{innerHTML:e._s(n.help)}})]):e._e()]}),{field:n,getValueFromOption:a})]}},{key:"hint",fn:function(t){var n=t.field,a=t.getValueFromOption;return[e._t("hint",(function(){return[i("div",{staticClass:"hint",domProps:{innerHTML:e._s(a(n,"hint",void 0))}})]}),{field:n,getValueFromOption:a})]}},{key:"errors",fn:function(t){var n=t.childErrors,a=t.field,s=t.getValueFromOption;return[e._t("errors",(function(){return[i("div",{staticClass:"errors help-block"},e._l(n,(function(t,n){return i("span",{key:n,domProps:{innerHTML:e._s(e.translate(t))}})})),0)]}),{errors:n,field:a,getValueFromOption:s})]}}],null,!0)})]}}],null,!0)})],1):e._e()}),[],!1,null,null,null).exports),v=(i(99),i(330),i(43),i(100),i(71),i(314)),g=i.n(v),b={fieldIsRequired:"This field is required!",invalidFormat:"Invalid format!",numberTooSmall:"The number is too small! Minimum: {0}",numberTooBig:"The number is too big! Maximum: {0}",invalidNumber:"Invalid number",invalidInteger:"The value is not an integer",textTooSmall:"The length of text is too small! Current: {0}, Minimum: {1}",textTooBig:"The length of text is too big! Current: {0}, Maximum: {1}",thisNotText:"This is not a text!",thisNotArray:"This is not an array!",selectMinItems:"Select minimum {0} items!",selectMaxItems:"Select maximum {0} items!",invalidDate:"Invalid date!",dateIsEarly:"The date is too early! Current: {0}, Minimum: {1}",dateIsLate:"The date is too late! Current: {0}, Maximum: {1}",invalidEmail:"Invalid e-mail address!",invalidURL:"Invalid URL!",invalidCard:"Invalid card format!",invalidCardNumber:"Invalid card number!",invalidTextContainNumber:"Invalid text! Cannot contains numbers or special characters",invalidTextContainSpec:"Invalid text! Cannot contains special characters"};function y(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;return Object(s.isNil)(e)||""===e?t?[O(i.fieldIsRequired)]:[]:null}function O(e){if(null!=e&&arguments.length>1)for(var t=1;t<arguments.length;t++)e=e.replace("{"+(t-1)+"}",arguments[t]);return e}var _={resources:b,required:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;return y(e,t.required,n)},number:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var r=[];return Object(s.isNumber)(e)?(!Object(s.isNil)(t.fieldOptions)&&!Object(s.isNil)(t.fieldOptions.min)&&e<t.fieldOptions.min&&r.push(O(n.numberTooSmall,t.fieldOptions.min)),!Object(s.isNil)(t.fieldOptions)&&!Object(s.isNil)(t.fieldOptions.max)&&e>t.fieldOptions.max&&r.push(O(n.numberTooBig,t.fieldOptions.max))):r.push(O(n.invalidNumber)),r},integer:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var r=_.number(e,t,i,n);return Object(s.isInteger)(e)||r.push(O(n.invalidInteger)),r},double:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);return null!=a?a:!Object(s.isNumber)(e)||isNaN(e)?[O(n.invalidNumber)]:void 0},string:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var r=[];return Object(s.isString)(e)?(!Object(s.isNil)(t.fieldOptions)&&!Object(s.isNil)(t.fieldOptions.min)&&e.length<t.fieldOptions.min&&r.push(O(n.textTooSmall,e.length,t.fieldOptions.min)),!Object(s.isNil)(t.fieldOptions)&&!Object(s.isNil)(t.fieldOptions.max)&&e.length>t.fieldOptions.max&&r.push(O(n.textTooBig,e.length,t.fieldOptions.max))):r.push(O(n.thisNotText)),r},array:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b;if(t.required){if(!Object(s.isArray)(e))return[O(n.thisNotArray)];if(0===e.length)return[O(n.fieldIsRequired)]}if(!Object(s.isNil)(e)){if(!Object(s.isNil)(t.fieldOptions)&&!Object(s.isNil)(t.fieldOptions.min)&&e.length<t.fieldOptions.min)return[O(n.selectMinItems,t.fieldOptions.min)];if(!Object(s.isNil)(t.fieldOptions)&&!Object(s.isNil)(t.fieldOptions.max)&&e.length>t.fieldOptions.max)return[O(n.selectMaxItems,t.fieldOptions.max)]}},date:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var r=new Date(e);if(!r)return[O(n.invalidDate)];var o=[];if(!Object(s.isNil)(t.fieldOptions)&&!Object(s.isNil)(t.fieldOptions.min)){var l=new Date(t.fieldOptions.min);r.valueOf()<l.valueOf()&&o.push(O(n.dateIsEarly,g.a.format(r),g.a.format(l)))}if(!Object(s.isNil)(t.fieldOptions)&&!Object(s.isNil)(t.fieldOptions.max)){var u=new Date(t.fieldOptions.max);r.valueOf()>u.valueOf()&&o.push(O(n.dateIsLate,g.a.format(r),g.a.format(u)))}return o},regexp:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;if(!Object(s.isNil)(t.pattern)){var r=new RegExp(t.pattern);if(!r.test(e))return[O(n.invalidFormat)]}},email:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var s=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return s.test(e)?void 0:[O(n.invalidEmail)]},url:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var s=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,4}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g;return s.test(e)?void 0:[O(n.invalidURL)]},creditCard:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var s=/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,r=e.replace(/[^0-9]+/g,"");if(!s.test(r))return[O(n.invalidCard)];for(var o,l,u,c=0,d=r.length-1;d>=0;d--)o=r.substring(d,d+1),l=parseInt(o,10),c+=u&&(l*=2)>=10?l%10+1:l,u=!u;return c%10==0&&r?void 0:[O(n.invalidCardNumber)]},alpha:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var s=/^[a-zA-Z]*$/;return s.test(e)?void 0:[O(n.invalidTextContainNumber)]},alphaNumeric:function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,a=y(e,t.required,n);if(null!=a)return a;var s=/^[a-zA-Z0-9]*$/;return s.test(e)?void 0:[O(n.invalidTextContainSpec)]}};Object.keys(_).forEach((function(e){var t=_[e];Object(s.isFunction)(t)&&(t.locale=function(e){return function(i,n,a){return t(i,n,a,Object(s.defaults)(e,b))}})}));var w=_,C=(i(170),i(169),i(25),i(316),i(29),function(e){return Object(s.isString)(e)?null!=w[e]?w[e]:(console.warn("'".concat(e,"' is not a validator function!")),null):e});function x(e,t,i){var n=Object(s.get)(i.context,"schema.attributes",{}),a=t.value||"input";Object(s.isString)(a)&&(n=Object(s.get)(n,a)||n),Object(s.forEach)(n,(function(t,i){e.setAttribute(i,t)}))}var F={props:{model:{type:Object},schema:{type:Object},formOptions:{type:Object},eventBus:{type:Object},fieldID:{type:String}},data:function(){return{fieldUID:Object(s.uniqueId)(this.fieldID+"_"),touched:!1,errors:[],debouncedValidateFunc:null,debouncedFormatFunction:null}},directives:{attributes:{bind:x,updated:x,componentUpdated:x}},computed:{value:{cache:!1,get:function(){var e;return e=Object(s.isFunction)(Object(s.get)(this.schema,"get"))?this.schema.get(this.model):Object(s.get)(this.model,this.schema.model),this.formatValueToField(e)},set:function(e){this.touch();var t=this.value;e=this.formatValueToModel(e),Object(s.isFunction)(e)?e(e,t):this.updateModelValue(e,t)}},disabled:function(){return this.getValueFromOption(this.schema,"disabled")},fieldClasses:function(){return this.getValueFromOption(this.schema,"fieldClasses",[])},fieldOptions:function(){return this.getValueFromOption(this.schema,"fieldOptions",{})},inputName:function(){return this.getValueFromOption(this.schema,"inputName","")},placeholder:function(){return this.getValueFromOption(this.schema,"placeholder","")},readonly:function(){return this.getValueFromOption(this.schema,"readonly")},required:function(){return this.getValueFromOption(this.schema,"required")},values:function(){return this.getValueFromOption(this.schema,"values",[])}},watch:{errors:{handler:function(e){this.$emit("errors-updated",e)}}},methods:{getValueFromOption:function(e,t,i){return Object(s.isFunction)(this.$parent.getValueFromOption)?this.$parent.getValueFromOption(e,t,i):Object(s.isNil)(e[t])?i:e[t]},validate:function(){var e=this;this.touch(),this.clearValidationErrors();var t=Object(s.get)(this.formOptions,"validateAsync",!1),i=[];if(this.schema.validator&&!0!==this.readonly&&!0!==this.schema.readonly&&!0!==this.disabled){var n=[];Object(s.isArray)(this.schema.validator)?this.schema.validator.forEach((function(t){n.push(C(t).bind(e))})):n.push(C(this.schema.validator).bind(this)),n.forEach((function(n){if(t)i.push(n(e.value,e.schema,e.model));else{var a=n(e.value,e.schema,e.model);a&&Object(s.isFunction)(a.then)?a.then((function(t){t&&(e.errors=e.errors.concat(t))})):a&&(i=i.concat(a))}}))}var a=function(t){var i=[];t.forEach((function(e){Object(s.isArray)(e)&&e.length>0?i=i.concat(e):Object(s.isString)(e)&&i.push(e)})),Object(s.isFunction)(e.schema.onValidated)&&e.schema.onValidated.call(e,e.model,i,e.schema);var n=0===i.length;return e.errors=i,e.eventBus&&e.eventBus.$emit("field-validated",n,i,e.fieldUID),i};return t?Promise.all(i).then(a).catch((function(e){console.warn("Problem during field validation",e)})):a(i)},debouncedValidate:function(){Object(s.isFunction)(this.debouncedValidateFunc)||(this.debouncedValidateFunc=Object(s.debounce)(this.validate.bind(this),Object(s.get)(this.formOptions,"validateDebounceTime",500))),this.debouncedValidateFunc()},updateModelValue:function(e,t){var i=!1;Object(s.isFunction)(this.schema.set)?(this.schema.set(this.model,e),i=!0):this.schema.model&&(this.setModelValueByPath(this.schema.model,e),i=!0),i&&(Object(s.isFunction)(this.schema.onChanged)&&this.schema.onChanged.call(this,this.model,e,t,this.schema),Object(s.get)(this.formOptions,"validateAfterChanged",!1)&&(Object(s.get)(this.formOptions,"validateDebounceTime",500)>0?this.debouncedValidate():this.validate()))},clearValidationErrors:function(){this.errors.splice(0)},setModelValueByPath:function(e,t){var i=e.replace(/\[(\w+)\]/g,".$1");i=i.replace(/^\./,"");for(var n=this.model,a=i.split("."),s=0,r=a.length;s<r;){var o=a[s];if(!(s<r-1))return void this.$root.$set(n,o,t);n&&void 0!==n[o]&&null!==n[o]||this.$root.$set(n,o,{}),n=n[o],++s}},formatValueToField:function(e){return e},formatValueToModel:function(e){return e},touch:function(){this.touched||(this.touched=!0,this.$emit("field-touched"))}},created:function(){this.eventBus&&(this.eventBus.$on("clear-validation-errors",this.clearValidationErrors),this.eventBus.$on("validate-fields",this.validate),this.eventBus.$emit("field-registering"))},mounted:function(){var e;if(this.schema){var t=Object.keys(this.schema);(e=["type","model","id","inputName","label","placeholder","hint","help","featured","visible","disabled","required","readonly","validator","styleClasses","labelClasses","fieldClasses","fieldOptions","values","buttons","attributes","get","set","onChanged","onValidated"],t.filter((function(t){return e.indexOf(t)<0}))).length}},beforeDestroy:function(){this.eventBus&&(this.eventBus.$off("clear-validation-errors",this.clearValidationErrors),this.eventBus.$off("validate-fields",this.validate),this.eventBus.$emit("field-deregistering",this))}},k={name:"field-checkbox",mixins:[F]},S=(i(426),Object(u.a)(k,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{id:e.fieldID,type:"checkbox",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,name:e.inputName,required:e.required},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var i=e.value,n=t.target,a=!!n.checked;if(Array.isArray(i)){var s=e._i(i,null);n.checked?s<0&&(e.value=i.concat([null])):s>-1&&(e.value=i.slice(0,s).concat(i.slice(s+1)))}else e.value=a}}})}),[],!1,null,null,null).exports),j={name:"field-checklist",mixins:[F],data:function(){return{comboExpanded:!1}},computed:{items:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},selectedCount:function(){return this.value?this.value.length:0},useListBox:function(){return this.fieldOptions.listBox}},methods:{getInputName:function(e){return this.inputName&&this.inputName.length>0?Object(p.slugify)(this.inputName+"_"+this.getItemValue(e)):Object(p.slugify)(this.getItemValue(e))},getItemValue:function(e){if(Object(s.isObject)(e)){if(void 0!==this.fieldOptions.value)return e[this.fieldOptions.value];if(void 0!==e.value)return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},getItemName:function(e){if(Object(s.isObject)(e)){if(void 0!==this.fieldOptions.name)return e[this.fieldOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/checklist.html#checklist-field-with-object-values"}return e},isItemChecked:function(e){return this.value&&-1!==this.value.indexOf(this.getItemValue(e))},onChanged:function(e,t){var i=e.target.checked;if(!Object(s.isNil)(this.value)&&Array.isArray(this.value)||(this.value=[]),i){var n=Object(s.clone)(this.value);n.push(this.getItemValue(t)),this.value=n}else{var a=Object(s.clone)(this.value);a.splice(this.value.indexOf(this.getItemValue(t)),1),this.value=a}},onExpandCombo:function(){this.comboExpanded=!this.comboExpanded}}},A=(i(427),Object(u.a)(j,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[e.useListBox?i("div",{staticClass:"listbox form-control",attrs:{disabled:e.disabled}},e._l(e.items,(function(t){return i("div",{key:e.getItemValue(t),staticClass:"list-row",class:{"is-checked":e.isItemChecked(t)}},[i("label",[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],attrs:{id:e.fieldID,type:"checkbox",disabled:e.disabled,name:e.getInputName(t)},domProps:{checked:e.isItemChecked(t)},on:{change:function(i){return e.onChanged(i,t)}}}),e._v(e._s(e.getItemName(t))+"\n      ")])])})),0):e._e(),e._v(" "),e.useListBox?e._e():i("div",{staticClass:"combobox form-control",attrs:{disabled:e.disabled}},[i("div",{staticClass:"mainRow",class:{expanded:e.comboExpanded},on:{click:e.onExpandCombo}},[i("div",{staticClass:"info"},[e._v(e._s(e.selectedCount)+" selected")]),e._v(" "),i("div",{staticClass:"arrow"})]),e._v(" "),i("div",{staticClass:"dropList"},[e.comboExpanded?e._l(e.items,(function(t){return i("div",{key:e.getItemValue(t),staticClass:"list-row",class:{"is-checked":e.isItemChecked(t)}},[i("label",[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],attrs:{id:e.fieldID,type:"checkbox",disabled:e.disabled,name:e.getInputName(t)},domProps:{checked:e.isItemChecked(t)},on:{change:function(i){return e.onChanged(i,t)}}}),e._v("\n            "+e._s(e.getItemName(t))+"\n          ")])])})):e._e()],2)])])}),[],!1,null,null,null).exports),P={date:"YYYY-MM-DD",datetime:"YYYY-MM-DD hh:mm:ss","datetime-local":"YYYY-MM-DDThh:mm:ss"},T={name:"field-input",mixins:[F],computed:{inputType:function(){return"string"==typeof this.fieldOptions.inputType?this.fieldOptions.inputType.toLowerCase():(console.warn("Missing inputType",this.fieldOptions,this.fieldOptions.inputType),"")}},methods:{formatValueToModel:function(e){var t=this;if(null!=e)switch(this.inputType){case"date":case"datetime":case"datetime-local":case"number":case"range":return function(i,n){t.debouncedFormatFunc(e,n)}}return e},formatDatetimeToModel:function(e,t){var i=P[this.inputType],n=g.a.parse(e,i);!1!==n&&(e=this.schema.format?g.a.format(n,this.schema.format):n.valueOf()),this.updateModelValue(e,t)},formatNumberToModel:function(e,t){Object(s.isNumber)(e)||(e=NaN),this.updateModelValue(e,t)},onInput:function(e){var t=e.target.value;switch(this.inputType){case"number":case"range":Object(s.isNumber)(parseFloat(e.target.value))&&(t=parseFloat(e.target.value))}this.value=t},onBlur:function(){Object(s.isFunction)(this.debouncedFormatFunc)&&this.debouncedFormatFunc.flush()}},mounted:function(){var e=this;switch(this.inputType){case"number":case"range":this.debouncedFormatFunc=Object(s.debounce)((function(t,i){e.formatNumberToModel(t,i)}),parseInt(Object(s.get)(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1});break;case"date":case"datetime":case"datetime-local":this.debouncedFormatFunc=Object(s.debounce)((function(t,i){e.formatDatetimeToModel(t,i)}),parseInt(Object(s.get)(this.schema,"debounceFormatTimeout",1e3)),{trailing:!0,leading:!1})}},created:function(){"file"===this.inputType&&console.warn('The "file" type in input field is deprecated. Use "file" field instead.')}},I=(i(428),Object(u.a)(T,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",class:e.fieldClasses,attrs:{accept:e.fieldOptions.accept,alt:e.fieldOptions.alt,autocomplete:e.fieldOptions.autocomplete,dirname:e.fieldOptions.dirname,disabled:e.disabled,files:e.fieldOptions.files,formaction:e.fieldOptions.formaction,formenctype:e.fieldOptions.formenctype,formmethod:e.fieldOptions.formmethod,formnovalidate:e.fieldOptions.formnovalidate,formtarget:e.fieldOptions.formtarget,height:e.fieldOptions.height,id:e.fieldID,list:e.fieldOptions.list,max:e.fieldOptions.max,maxlength:e.fieldOptions.maxlength,min:e.fieldOptions.min,minlength:e.fieldOptions.minlength,multiple:e.fieldOptions.multiple,name:e.inputName,pattern:e.fieldOptions.pattern,placeholder:e.placeholder,readonly:e.readonly,required:e.schema.required,size:e.fieldOptions.size,src:e.fieldOptions.src,step:e.fieldOptions.step,type:e.inputType,width:e.fieldOptions.width},domProps:{checked:e.fieldOptions.checked,value:e.value},on:{blur:e.onBlur,change:function(t){e.schema.onChange},input:e.onInput}}),e._v(" "),"color"===e.inputType||"range"===e.inputType?i("span",{staticClass:"helper",domProps:{textContent:e._s(e.value)}}):e._e()])}),[],!1,null,null,null).exports),R={name:"field-number",mixins:[F],components:{fieldInput:I},computed:{},methods:{},mounted:function(){this.schema.fieldOptions&&!this.schema.fieldOptions.inputType&&(this.schema.fieldOptions.inputType="number")},created:function(){}},N=Object(u.a)(R,(function(){var e=this.$createElement;return(this._self._c||e)("fieldInput",this._b({attrs:{type:"number"}},"fieldInput",this.$props,!1))}),[],!1,null,null,null).exports,D={name:"field-label",mixins:[F]},L=(i(429),Object(u.a)(D,(function(){var e=this.$createElement;return(this._self._c||e)("span",{directives:[{name:"attributes",rawName:"v-attributes",value:"label",expression:"'label'"}],class:this.fieldClasses,attrs:{id:this.fieldID},domProps:{textContent:this._s(this.value)}})}),[],!1,null,null,null).exports),V={name:"field-radios",mixins:[F],computed:{items:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},id:function(){return this.schema.model}},methods:{getItemValue:function(e){if(Object(s.isObject)(e)){if(void 0!==this.fieldOptions.value)return e[this.fieldOptions.value];if(void 0!==e.value)return e.value;throw"`value` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},getItemName:function(e){if(Object(s.isObject)(e)){if(void 0!==this.fieldOptions.name)return e[this.fieldOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/radios.html#radios-field-with-object-values"}return e},onSelection:function(e){this.value=this.getItemValue(e)},isItemChecked:function(e){return this.getItemValue(e)===this.value}}},E=(i(430),Object(u.a)(V,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"radio-list",attrs:{disabled:e.disabled}},e._l(e.items,(function(t){return i("label",{directives:[{name:"attributes",rawName:"v-attributes",value:"label",expression:"'label'"}],key:e.getItemValue(t),class:{"is-checked":e.isItemChecked(t)}},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:e.fieldClasses,attrs:{disabled:e.disabled,id:e.fieldID,name:e.id,readonly:e.readonly,required:e.required,type:"radio"},domProps:{checked:e.isItemChecked(t),value:e.getItemValue(t)},on:{click:function(i){return e.onSelection(t)}}}),e._v(e._s(e.getItemName(t))+"\n  ")])})),0)}),[],!1,null,null,null).exports),B={name:"field-select",mixins:[F],computed:{items:function(){var e=this.schema.values;return"function"==typeof e?this.groupValues(e.apply(this,[this.model,this.schema])):this.groupValues(e)}},methods:{formatValueToField:function(e){return Object(s.isNil)(e)?null:e},groupValues:function(e){var t=[],i={};return e.filter((function(e){return e})).forEach((function(e){i=null,e&&e.group&&Object(s.isObject)(e)?(i=Object(s.find)(t,(function(t){return t.group===e.group})))?i.ops.push({id:e.id,name:e.name}):((i={group:"",ops:[]}).group=e.group,i.ops.push({id:e.id,name:e.name}),t.push(i)):t.push(e)})),t},getGroupName:function(e){if(e&&e.group)return e.group;throw"Group name is missing! https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"},getItemValue:function(e){if(Object(s.isObject)(e)){if(void 0!==this.fieldOptions.value)return e[this.fieldOptions.value];if(void 0!==e.id)return e.id;throw"`id` is not defined. If you want to use another key name, add a `value` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e},getItemName:function(e){if(Object(s.isObject)(e)){if(void 0!==this.fieldOptions.name)return e[this.fieldOptions.name];if(void 0!==e.name)return e.name;throw"`name` is not defined. If you want to use another key name, add a `name` property under `fieldOptions` in the schema. https://icebob.gitbooks.io/vueformgenerator/content/fields/select.html#select-field-with-object-items"}return e}}},q=Object(u.a)(B,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"},{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",class:e.fieldClasses,attrs:{disabled:e.disabled||e.readonly,readonly:e.readonly,name:e.inputName,id:e.fieldID,multiple:e.schema.multiple||e.schema.multi},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.value=t.target.multiple?i:i[0]}}},[e.fieldOptions.hideNoneSelectedText?e._e():i("option",{attrs:{disabled:e.schema.required},domProps:{value:null}},[e._v("\n    "+e._s(e.fieldOptions.noneSelectedText||"<Nothing selected>")+"\n  ")]),e._v(" "),e._l(e.items,(function(t){return[t&&t.group?i("optgroup",{key:e.getItemValue(t),attrs:{label:e.getGroupName(t)}},[t.ops?e._l(t.ops,(function(t){return i("option",{key:e.getItemValue(t),domProps:{value:e.getItemValue(t)}},[e._v(" "+e._s(e.getItemName(t)))])})):e._e()],2):e._e(),e._v(" "),t.group?e._e():i("option",{key:e.getItemValue(t),domProps:{value:e.getItemValue(t)}},[e._v(" "+e._s(e.getItemName(t)))])]}))],2)}),[],!1,null,null,null).exports,M={name:"field-submit",mixins:[F],methods:{onClick:function(e){var t=this;!0===this.fieldOptions.validateBeforeSubmit?(e.preventDefault(),this.eventBus.$emit("fields-validation-trigger"),this.eventBus.$on("fields-validation-terminated",(function(i){!Object(s.isEmpty)(i)&&Object(s.isFunction)(t.fieldOptions.onValidationError)?t.fieldOptions.onValidationError(t.model,t.schema,i,e):Object(s.isFunction)(t.fieldOptions.onSubmit)&&t.fieldOptions.onSubmit(t.model,t.schema,e)}))):Object(s.isFunction)(this.fieldOptions.onSubmit)&&this.fieldOptions.onSubmit(this.model,this.schema,e)}}},U=(i(431),Object(u.a)(M,(function(){var e=this.$createElement;return(this._self._c||e)("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],class:this.fieldClasses,attrs:{id:this.fieldID,type:"submit",name:this.inputName,disabled:this.disabled,readonly:this.readonly},domProps:{value:this.fieldOptions.buttonText},on:{click:this.onClick}})}),[],!1,null,null,null).exports),Y={name:"field-textArea",mixins:[F]},H=Object(u.a)(Y,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("textarea",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"},{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",class:e.fieldClasses,attrs:{disabled:e.disabled,id:e.fieldID,maxlength:e.fieldOptions.max,minlength:e.fieldOptions.min,name:e.inputName,placeholder:e.placeholder,readonly:e.readonly,required:e.required,rows:e.fieldOptions.rows||2},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})}),[],!1,null,null,null).exports,Q={name:"field-upload",mixins:[F],methods:{onChange:function(e){Object(s.isFunction)(this.fieldOptions.onChanged)&&this.fieldOptions.onChanged.call(this,this.model,this.schema,e,this)}}},K=(i(432),Object(u.a)(Q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"attributes",rawName:"v-attributes",value:"wrapper",expression:"'wrapper'"}],staticClass:"wrapper"},[i("input",{directives:[{name:"attributes",rawName:"v-attributes",value:"input",expression:"'input'"}],staticClass:"form-control",attrs:{accept:e.fieldOptions.accept,disabled:e.disabled,id:e.fieldID,multiple:e.fieldOptions.multiple,name:e.inputName,placeholder:e.placeholder,readonly:e.readonly,required:e.schema.required,type:"file"},on:{change:e.onChange}})])}),[],!1,null,null,null).exports),z={name:"field-cleave",mixins:[F],data:function(){return{cleave:null}},mounted:function(){this.$nextTick((function(){var e=this;window.Cleave?(this.cleave=new window.Cleave(this.$el,Object(s.defaults)(this.fieldOptions,{creditCard:!1,phone:!1,phoneRegionCode:"AU",date:!1,datePattern:["d","m","Y"],numeral:!1,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralDecimalMark:".",blocks:[],delimiter:" ",prefix:null,numericOnly:!1,uppercase:!1,lowercase:!1,maxLength:0})),this.cleave.properties&&this.cleave.properties.hasOwnProperty("result")?this.$watch("cleave.properties.result",(function(){e.value=e.cleave.properties.result})):this.$el.addEventListener("input",this.inputChange)):console.warn("Cleave is missing. Please download from https://github.com/nosir/cleave.js/ and load the script in the HTML head section!")}))},methods:{inputChange:function(){this.value=this.$el.value}},beforeDestroy:function(){this.cleave&&(this.cleave.destroy(),this.$el.removeEventListener("input",this.inputChange))}},W=Object(u.a)(z,(function(){var e=this.$createElement;return(this._self._c||e)("input",{staticClass:"form-control",attrs:{type:"text",autocomplete:this.fieldOptions.autocomplete,disabled:this.disabled,placeholder:this.placeholder,readonly:this.readonly,name:this.inputName,id:this.fieldID},domProps:{value:this.value}})}),[],!1,null,null,null).exports,G=i(309),J={getDefaultInputFormat:function(){return"YYYY-MM-DD hh:mm:ss"},getDateFormat:function(){return void 0!==this.fieldOptions.format?this.fieldOptions.format:this.getDefaultInputFormat()},formatValueToField:function(e){var t;return null!=e?(t=void 0!==this.fieldOptions.format?g.a.parse(e,this.fieldOptions.format):new Date(e),g.a.format(t,this.getDateFormat())):e},formatValueToModel:function(e){if(null!=e){var t=g.a.parse(e,this.getDateFormat());e=void 0!==this.fieldOptions.format?g.a.format(t,this.fieldOptions.format):t.valueOf()}return e}},Z={name:"field-dateTimePicker",mixins:[F],methods:Object(G.a)({},J),mounted:function(){var e=this;this.$nextTick((function(){if(window.$&&window.$.fn.datetimepicker){var t=e.$el.querySelector(".form-control");$(e.$el).datetimepicker(Object(s.defaults)(e.fieldOptions,{format:e.getDefaultInputFormat()})).on("dp.change",(function(){e.value=t.value}))}else console.warn("Bootstrap datetimepicker library is missing. Please download from https://eonasdan.github.io/bootstrap-datetimepicker/ and load the script and CSS in the HTML head section!")}))},beforeDestroy:function(){window.$&&window.$.fn.datetimepicker&&$(this.$el).data("DateTimePicker").destroy()}},X=Object(u.a)(Z,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"input-group date"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,id:e.fieldID},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),e._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"input-group-addon"},[t("span",{staticClass:"glyphicon glyphicon-calendar"})])}],!1,null,null,null).exports,ee={name:"field-googleAddress",mixins:[F],data:function(){return{autocomplete:"",inputs:{street_number:"long_name",route:"long_name",country:"long_name",administrative_area_level_1:"long_name",administrative_area_level_2:"long_name",locality:"long_name",postal_code:"short_name"}}},mounted:function(){var e=this;this.$nextTick((function(){window.google&&window.google.maps&&window.google.maps.places&&window.google.maps.places.Autocomplete?(e.autocomplete=new google.maps.places.Autocomplete(e.$el,{types:["geocode"]}),e.autocomplete.addListener("place_changed",e.pipeAddress)):console.warn("Google Maps API is missing. Please add https://maps.googleapis.com/maps/api/js?key=YOUR_KEY&libraries=places script in the HTML head section!")}))},methods:{pipeAddress:function(){var e=this.autocomplete.getPlace();if(e){this.value=e.formatted_address;var t={};if(void 0!==e.address_components)for(var i=0;i<e.address_components.length;i++){var n=e.address_components[i].types[0];this.inputs[n]&&(t[n]=e.address_components[i][this.inputs[n]])}Object(s.isFunction)(this.fieldOptions.onPlaceChanged)&&this.fieldOptions.onPlaceChanged(this.value,t,e,this.model,this.schema)}},geolocate:function(){var e=this;navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var i={lat:t.coords.latitude,lng:t.coords.longitude},n=new window.google.maps.Circle({center:i,radius:t.coords.accuracy});e.autocomplete.setBounds(n.getBounds())}))}}},te=Object(u.a)(ee,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName,debounce:"500",id:e.fieldID},domProps:{value:e.value},on:{focus:function(t){return e.geolocate()},input:function(t){t.target.composing||(e.value=t.target.value)}}})}),[],!1,null,null,null).exports,ie={name:"field-image",mixins:[F],computed:{previewStyle:function(){return!1!==this.fieldOptions.preview?{display:"block","background-image":null!=this.value?"url("+this.value+")":"none"}:{display:"none"}},wrappedValue:{get:function(){return this.value&&0===this.value.indexOf("data")?"<inline base64 image>":this.value},set:function(e){e&&0===e.indexOf("http")&&(this.value=e)}}},watch:{model:function(){var e=this.$el.querySelector("input.file");e&&(e.value="")}},methods:{remove:function(){this.value=""},fileChanged:function(e){var t=this,i=new FileReader;i.onload=function(e){t.value=e.target.result},e.target.files&&e.target.files.length>0&&i.readAsDataURL(e.target.files[0])}}},ne=(i(433),Object(u.a)(ie,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"wrapper"},[i("input",{directives:[{name:"show",rawName:"v-show",value:!0!==e.fieldOptions.hideInput,expression:"fieldOptions.hideInput !== true"},{name:"model",rawName:"v-model",value:e.wrappedValue,expression:"wrappedValue"}],staticClass:"form-control link",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly},domProps:{value:e.wrappedValue},on:{input:function(t){t.target.composing||(e.wrappedValue=t.target.value)}}}),e._v(" "),!1!==e.fieldOptions.browse?i("input",{staticClass:"form-control file",attrs:{type:"file",disabled:e.disabled,name:e.inputName},on:{change:e.fileChanged}}):e._e(),e._v(" "),i("div",{staticClass:"preview",style:e.previewStyle},[i("div",{staticClass:"remove",attrs:{title:"Remove image"},on:{click:e.remove}})])])}),[],!1,null,null,null).exports),ae=(i(308),{name:"field-noUiSlider",mixins:[F],data:function(){return{slider:null}},watch:{model:function(){window.noUiSlider&&this.slider&&this.slider.noUiSlider&&this.slider.noUiSlider.set(this.value)}},computed:{containPips:function(){return void 0!==this.fieldOptions.pips},containTooltip:function(){return void 0!==this.fieldOptions.tooltips}},methods:{onChange:function(e){Object(s.isArray)(e)?this.value=[parseFloat(e[0]),parseFloat(e[1])]:this.value=parseFloat(e)},formatValueToField:function(e){null!==this.slider&&void 0!==this.slider.noUiSlider&&this.slider.noUiSlider.set(e)},formatValueToModel:function(e){if(void 0!==this.slider.noUiSlider)return e instanceof Array?[Number(e[0]),Number(e[1])]:Number(e)},getStartValue:function(){return null!=this.value?this.value:void 0!==this.fieldOptions.double?[this.fieldOptions.min,this.fieldOptions.min]:this.fieldOptions.min}},mounted:function(){var e=this;this.$nextTick((function(){window.noUiSlider?(e.slider=e.$el,window.noUiSlider.create(e.slider,Object(s.defaults)(e.fieldOptions||{},{start:e.getStartValue(),range:{min:e.fieldOptions.min,max:e.fieldOptions.max}})),e.slider.noUiSlider.on("change",e.onChange.bind(e))):console.warn("noUiSlider is missing. Please download from https://github.com/leongersen/noUiSlider and load the script and CSS in the HTML head section!")}))},beforeDestroy:function(){this.slider&&this.slider.noUiSlider.off("change")}}),se=(i(434),Object(u.a)(ae,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"slider",class:{"contain-pips":this.containPips,"contain-tooltip":this.containTooltip},attrs:{disabled:this.disabled}})}),[],!1,null,null,null).exports),re={name:"field-pikaday",mixins:[F],data:function(){return{picker:null}},methods:Object(G.a)({},J),mounted:function(){var e=this;this.$nextTick((function(){window.Pikaday?e.picker=new window.Pikaday(Object(s.defaults)(e.fieldOptions,{field:e.$el,onSelect:function(){e.value=e.picker.toString()}})):console.warn("Pikaday is missing. Please download from https://github.com/dbushell/Pikaday/ and load the script and CSS in the HTML head section!")}))},beforeDestroy:function(){this.picker&&this.picker.destroy()}},oe=Object(u.a)(re,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",attrs:{type:"text",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,placeholder:e.placeholder,readonly:e.readonly,name:e.inputName},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}})}),[],!1,null,null,null).exports,le={name:"field-staticmap",mixins:[F],computed:{mapLink:function(){if(this.value){var e,t,i=Object(s.defaults)(this.fieldOptions,{lat:"lat",lng:"lng",zoom:8,sizeX:640,sizeY:640});e=this.value[i.lat],t=this.value[i.lng];for(var n="http://maps.googleapis.com/maps/api/staticmap?center=".concat(e,",").concat(t,"&zoom=").concat(i.zoom,"&size=").concat(i.sizeX,"x").concat(i.sizeY),a=0,r=["scale","format","maptype","language","region","markers","path","visible","style","key","signature"];a<r.length;a++){var o=r[a];void 0!==i[o]&&(n+="&".concat(o,"=").concat(i[o]))}if(e&&t)return n}return""}}},ue=(i(435),Object(u.a)(le,(function(){var e=this.$createElement;return(this._self._c||e)("img",{attrs:{src:this.mapLink}})}),[],!1,null,null,null).exports),ce={name:"field-switch",mixins:[F],methods:{formatValueToField:function(e){return null!=e&&this.fieldOptions.valueOn?e===this.fieldOptions.valueOn:e},formatValueToModel:function(e){return null!=e&&this.fieldOptions.valueOn?e?this.fieldOptions.valueOn:this.fieldOptions.valueOff:e}}},de=(i(436),Object(u.a)(ce,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],attrs:{type:"checkbox",autocomplete:e.fieldOptions.autocomplete,disabled:e.disabled,name:e.inputName,id:e.fieldID},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{change:function(t){var i=e.value,n=t.target,a=!!n.checked;if(Array.isArray(i)){var s=e._i(i,null);n.checked?s<0&&(e.value=i.concat([null])):s>-1&&(e.value=i.slice(0,s).concat(i.slice(s+1)))}else e.value=a}}}),e._v(" "),i("span",{staticClass:"label",attrs:{"data-on":e.fieldOptions.textOn||"On","data-off":e.fieldOptions.textOff||"Off",for:e.fieldID}}),e._v(" "),i("span",{staticClass:"handle"})])}),[],!1,null,null,null).exports),pe={name:"field-vueMultiSelect",mixins:[F],computed:{options:function(){var e=this.schema.values;return"function"==typeof e?e.apply(this,[this.model,this.schema]):e},customLabel:function(){return void 0!==this.fieldOptions.customLabel&&"function"==typeof this.fieldOptions.customLabel?this.fieldOptions.customLabel:void 0}},methods:{updateSelected:function(e){this.value=e},addTag:function(e,t){var i=this.fieldOptions.onNewTag;"function"==typeof i&&i(e,t,this.options,this.value)},onSearchChange:function(e,t){var i=this.fieldOptions.onSearch;"function"==typeof i&&i(e,t,this.options)},onSelect:function(){},onRemove:function(){},onOpen:function(){},onClose:function(){}},created:function(){this.$root.$options.components.multiselect||console.error("'vue-multiselect' is missing. Please download from https://github.com/monterail/vue-multiselect and register the component globally!")}},fe=Object(u.a)(pe,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("multiselect",{attrs:{id:e.fieldOptions.id,options:e.options,value:e.value,multiple:e.fieldOptions.multiple,"track-by":e.fieldOptions.trackBy||null,label:e.fieldOptions.label||null,searchable:e.fieldOptions.searchable,"clear-on-select":e.fieldOptions.clearOnSelect,"hide-selected":e.fieldOptions.hideSelected,placeholder:e.placeholder,"allow-empty":e.fieldOptions.allowEmpty,"reset-after":e.fieldOptions.resetAfter,"close-on-select":e.fieldOptions.closeOnSelect,"custom-label":e.customLabel,taggable:e.fieldOptions.taggable,"tag-placeholder":e.fieldOptions.tagPlaceholder,max:e.fieldOptions.max||null,"options-limit":e.fieldOptions.optionsLimit,"group-values":e.fieldOptions.groupValues,"group-label":e.fieldOptions.groupLabel,"block-keys":e.fieldOptions.blockKeys,"internal-search":e.fieldOptions.internalSearch,"select-label":e.fieldOptions.selectLabel,"selected-label":e.fieldOptions.selectedLabel,"deselect-label":e.fieldOptions.deselectLabel,"show-labels":e.fieldOptions.showLabels,limit:e.fieldOptions.limit,"limit-text":e.fieldOptions.limitText,loading:e.fieldOptions.loading,disabled:e.disabled,"max-height":e.fieldOptions.maxHeight,"show-pointer":e.fieldOptions.showPointer,"option-height":e.fieldOptions.optionHeight},on:{input:e.updateSelected,select:e.onSelect,remove:e.onRemove,"search-change":e.onSearchChange,tag:e.addTag,open:e.onOpen,close:e.onClose}},[i("span",{attrs:{slot:"noResult"},slot:"noResult"},[e._v("\n\t\t"+e._s(e.fieldOptions.noResult)+"\n\t")])])}),[],!1,null,null,null).exports,he={component:m,schema:p,validators:w,abstractField:F,fieldsLoader:n,install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.fields&&t.fields.forEach((function(t){void 0!==t.name&&e.component(t.name,t)})),t.validators)for(var i in t.validators)({}).hasOwnProperty.call(t.validators,i)&&(w[i]=t.validators[i]);e.component("VueFormGenerator",m)}};t.b=he},315:function(e,t,i){"use strict";i(170),i(97),i(171),i(169),i(308),i(99),i(10),i(43),i(172),i(25),i(324),i(98),i(29),i(394);var n=i(309),a=i(306),s=i.n(a),r=i(318);t.a={mixins:[r.a],props:{primaryKey:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey?this.awComponentsConfig.primaryKey:"id"}},url:{type:[String,Function],default:""},apiUrl:{type:[String,Function],default:""},apiTimeout:{type:[String,Number],default:2e4,description:"the duration after with the request will be considered as failed"},apiRequestConfig:{type:Object,note:"This object define the configuration for talking to the api : filters, sort, pagination, etc",default:function(){return{dataPath:"",perPageField:"perPage",pageField:"page",filtersField:"filters",filtersOperator:"",sortField:"sort",searchField:"search"}}},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:function(){return{dataPath:"data.body",totalCountPath:"data.totalCount"}}},apiQueryParams:{type:Object,default:function(){},note:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestPermanentBodyParams:{type:Object,default:function(){return{}},description:"Object of data that will always be merged in the request sent to the server"},apiRequestPermanentQueryParams:{type:Object,default:function(){return{}},description:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestHeaders:{type:Object,default:function(){return{}}},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}}},mounted:function(){this.url&&console.warn("Url is @deprecated. Please use api url instead.")},computed:{params:function(){return console.info("BC this.params is deprecated, use this.apiQueryParams instead"),this.apiQueryParams},opts:function(){return s.a.merge(this.defaultOptions,this.options)},_url:function(){var e=this.apiUrl||this.url||this.getApiUrl("apiUrl")||this.getApiUrl("url");return"function"==typeof e?e({parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items}):e&&e.includes("{{")?this.templateParseUrl(e,Object(n.a)(Object(n.a)({},this.selectedItem),{},{parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items})):e},_translatedServerParams:function(){var e=this,t={};return Object.keys(this.serverParams||{}).forEach((function(i){var n=e.apiRequestConfig[i+"Field"]||i;t[n]=e.serverParams[i]})),t},_selectedItemUrl:function(){var e;return this._url.indexOf("?")>-1?(e=new URL(0===this._url.indexOf("http")?this._url:"http://localhost".concat(this._url)),e="".concat(e.pathname,"/").concat(this.selectedItem[this.primaryKey]).concat(e.search)):e="".concat(this._url,"/").concat(this.selectedItem[this.primaryKey]),e}},created:function(){if(!this.$http)try{var e=i(331);this.$http=e}catch(e){}},methods:{getData:function(e){return this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?s.a.get(e,this.apiResponseConfig.dataPath):e.data},getDataCount:function(e){return this.apiResponseConfig&&this.apiResponseConfig.totalCountPath&&0!=this.apiResponseConfig.totalCountPath?s.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount},mergeSelectedItemWithRequestProps:function(){this.apiRequestPermanentBodyParams&&(this.selectedItem=s.a.merge(this.selectedItem,this.apiRequestPermanentBodyParams))},getApiUrl:function(e){return this[e]||this.mergedOptions&&this.mergedOptions[e]||this.options&&this.options[e]||this._model&&this._model[e]||this.field&&this.field.url||this.field&&this.field.fieldoptions.url}}}},317:function(e,t,i){"use strict";i(170),i(24),i(310),i(97),i(169),i(99),i(43),i(316),i(98);var n=i(320),a=i(306),s=i.n(a),r=i(381),o=i(382),l={name:"AwesomeFilter",mixins:[i(307).a],components:{AwesomeFilterOperator:r.a,AwesomeFilterValue:o.a},props:{advancedFilters:{type:Array,default:function(){return[]}},field:{type:String},fieldLabel:{type:String},defaultOperator:{type:String},fields:{type:Array},displayFilters:{type:Boolean,default:!1,note:"State if AwesomeFilter is for displaying active filters"},editFilters:{type:Boolean,default:!1,note:"State if AwesomeFilter is in a PopperJS"},permanentFilter:{type:Boolean,default:!1,note:"State if AwesomeFilter is in custom filter mode (Always display filter)"},permanentInput:{type:Boolean,default:!1,note:"State if AwesomeFilter is in custom input mode (Always display filter) that fire call on API"}},data:function(){return{currentField:{},currentValue:"",currentOperator:{},selectedFilters:[]}},methods:{addFilter:function(){var e=["$isNull","$isNotNull","$isDefined","$isNotDefined"].indexOf(this.currentOperator.value)>-1||this.currentValue;if(Object.keys(this.currentField).length){var t={field:this.currentField,value:e,filter:this.currentOperator};this.selectedFilters.push(t),this.permanentFilter||this.permanentInput||(this.currentField={},this.currentValue="",this.currentOperator={shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},this.$refs.filterField=""),this.parseFilter(this.selectedFilters)}},removeFilter:function(e){this.selectedFilters=s.a.without(this.selectedFilters,e),this.parseFilter(this.selectedFilters)},parseFilter:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dispatch:!0},a={};e.forEach((function(e){var i=Object(n.a)({},e.field.field,Object(n.a)({},e.filter.value,e.value));t.permanentFilter||t.permanentInput||!s.a.has(a,"".concat(e.field.field,".").concat(e.filter.value))?s.a.has(a,"".concat(e.field.field))||s.a.has(a,"$relation")?a=i:s.a.merge(a,i):a[e.field.field][e.filter.value]=s.a.flattenDeep([a[e.field.field][e.filter.value],e.value]),t.permanentInput&&(e.field.field.split(".").length>1?a={$relation:s.a.cloneDeep(a)}:s.a.merge(a,i))})),i.dispatch&&this.$emit("update-filter",a,e)},selectFilter:function(e){e.target.value?this.currentField=this._filterableFields.find((function(t){return t.field===e.target.value})):this.currentField={}}},computed:{_filterableFields:function(){return this.fields.filter((function(e){return!e.filterOptions||!e.filterOptions.enabled}))}},watch:{advancedFilters:function(e){this.selectedFilters=e},currentOperator:function(){(this.permanentFilter||this.permanentInput)&&this.addFilter()},currentValue:function(){(this.permanentFilter||this.permanentInput)&&this.addFilter()}},mounted:function(){var e=this;this.currentOperator=this.defaultOperator?{shortText:this.defaultOperator,text:this.$t("AwesomeFilter.filters.".concat(this.defaultOperator)),value:this.defaultOperator}:{shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},(this.permanentFilter||this.permanentInput)&&(this.fields&&this.fields.length?this.currentField=this.fields.filter((function(t){return t.field===e.field}))[0]:this.currentField={field:this.field,label:this.field,type:"string"})}},u=(i(439),i(42)),c=Object(u.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-filter"},[e.editFilters?i("div",{staticClass:"filtering"},[i("h6",{staticClass:"card-subtitle text-muted mb-2"},[e._v(e._s(e.$t("AwesomeFilter.labels.filterData")))]),e._v(" "),i("form",{staticClass:"container",on:{submit:function(t){return t.preventDefault(),e.addFilter()}}},[i("div",{staticClass:"dropdown column  pl-0"},[i("select",{ref:"filterField",staticClass:"form-control btn-outline-primary",attrs:{placeholder:Object.keys(e.currentField).length?e.currentField.label:e.$t("AwesomeFilter.labels.fields")},on:{change:e.selectFilter}},[i("option",{staticClass:"text-primary",attrs:{value:""},on:{click:function(t){t.preventDefault(),e.currentField={}}}},[e._v(e._s(e.$t("AwesomeFilter.labels.fields")))]),e._v(" "),i("option",{staticClass:"text-center",attrs:{disabled:""}},[e._v("_________")]),e._v(" "),e._l(e._filterableFields,(function(t,n){return i("option",{key:n,domProps:{value:t.field},on:{click:function(i){e.currentField=t}}},[e._v("\n            "+e._s(t.label)+"\n          ")])}))],2)]),e._v(" "),i("awesome-filter-operator",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"in-popper":""},on:{"update:currentFilter":function(t){e.currentOperator=t},"update:current-filter":function(t){e.currentOperator=t}}}),e._v(" "),i("awesome-filter-value",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"current-value":e.currentValue},on:{"update:currentValue":function(t){e.currentValue=t},"update:current-value":function(t){e.currentValue=t}}}),e._v(" "),i("div",{staticClass:"awesome-filter-add-block pt-1 "},[i("button",{staticClass:"btn btn-primary btn-block chip-button",attrs:{disabled:!Object.keys(e.currentField).length,type:"button"},on:{click:function(t){return t.preventDefault(),e.addFilter()}}},[i("i",{staticClass:"fa fa-save"})])])],1)]):e._e(),e._v(" "),e.permanentFilter||e.permanentInput?i("div",[i("div",{staticClass:"chip-groups"},[i("div",{staticClass:"chip chip-primary dark chip-permanent"},[i("div",{staticClass:"chip-content"},[i("span",{staticClass:"form-control"},[e._v(e._s(e.fieldLabel||e.field))]),e._v(" "),i("awesome-filter-operator",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"permanent-input":e.permanentInput},on:{"update:currentFilter":function(t){e.currentOperator=t},"update:current-filter":function(t){e.currentOperator=t}}}),e._v(" "),i("awesome-filter-value",{attrs:{"current-field":e.currentField,"current-filter":e.currentOperator,"current-value":e.currentValue,"permanent-input":e.permanentInput},on:{"update:currentValue":function(t){e.currentValue=t},"update:current-value":function(t){e.currentValue=t}}})],1)])])]):e._e(),e._v(" "),e.displayFilters&&e.advancedFilters&&e.advancedFilters.length?i("div",{staticClass:"active-filter"},[i("h6",{staticClass:"card-subtitle mb-2 text-muted"},[e._v(e._s(e.$t("AwesomeFilter.labels.activeFilter")))]),e._v(" "),i("div",{staticClass:"chip-groups"},e._l(e.advancedFilters,(function(t,n){return i("div",{key:n,staticClass:"chip chip-primary bg-primary dark"},[i("div",{staticClass:"chip-content"},[i("span",{staticClass:"form-control"},[e._v(e._s(t.field?t.field.label:""))]),e._v(" "),i("strong",{staticClass:"ml-2 mr-2"},[e._v("\n            "+e._s(t.filter?t.filter.shortText||t.filter.text:"")+"\n          ")]),e._v(" "),"object"==typeof t.value?i("div",e._l(t.value,(function(t,n){return i("span",{key:n},[e._v("\n              "+e._s(t)+"\n            ")])})),0):i("div",[e._v(e._s(t.value))]),e._v(" "),i("button",{staticClass:"btn text-muted",attrs:{type:"button"},on:{click:function(i){return i.preventDefault(),e.removeFilter(t)}}},[i("i",{staticClass:"fa fa-times-circle"})])])])})),0)]):e._e()])}),[],!1,null,null,null);t.a=c.exports},318:function(e,t,i){"use strict";i(169);var n=i(309),a=i(306),s=i.n(a),r=i(379),o=i(314),l=i.n(o),u=i(390);l.a.extend(u),t.a={props:{},mixins:[r.a],methods:{contextDataMerger:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(a.merge)({parent:this.parent,context:this,currentItem:this.selectedItem||e,items:this.items,$state:this.$store&&this.$store.state,userHasRole:this.userHasRole,componentMode:this.mode||this.displayMode,moment:l.a},e)},templateParser:function(e,t){return t=this.contextDataMerger(t),a.templateSettings.interpolate=/{{([\s\S]+?)}}/g,Object(a.template)(e)(t)},templateParseText:function(e,t){try{return this.templateParser(e,t)}catch(i){return console.warn("[templateParserText]",i.message,t),e}},templateParseUrl:function(e,t){try{return this.templateParser(e,t)}catch(t){return console.warn("[templateParser]",t.message),e}},templateParseBoolean:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{if(!e||-1===e.indexOf("{{"))return e;var i=this.templateParser(e,t);return"1"===i||"true"===i||(0===i||"0"===i||"false"===i||console.warn("[VAC] boolean templates must revolve to a boolean result.",i,"was returned for template",e),!1)}catch(e){return console.warn("[templateParseBoolean]",e.message),!1}},templateParseFunc:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return e&&"function"==typeof e?e(t=this.contextDataMerger(t)):e}catch(t){return console.warn("[templateParseFunc]",t.message),e}},templateParseConditionalField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"boolean"==typeof e?e:Object(a.isString)(e)?this.templateParseBoolean(e,t):Object(a.isFunction)(e)?!!this.templateParseFunc(e,t):e},getItemProperty:function(e,t){return e?t&&t.indexOf("{{")>-1&&t.indexOf("}}")>-1?this.templateParseText(t,Object(n.a)(Object(n.a)({},e),{},{currentItem:e})):s.a.get(e,t):""},parseUrl:function(e,t){return this.templateParseUrl(e,Object(n.a)(Object(n.a)({},this.selectedItem),{},{parent:this.parent,context:this,currentItem:this.selectedItem,items:this.items},t))}}}},319:function(e,t,i){"use strict";i.r(t),i.d(t,"createDefaultObject",(function(){return a})),i.d(t,"getMultipleFields",(function(){return s})),i.d(t,"mergeMultiObjectFields",(function(){return r})),i.d(t,"slugifyFormID",(function(){return o})),i.d(t,"slugify",(function(){return l}));i(10),i(43),i(100),i(71),i(349);var n=i(306),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(n.each)(e.fields,(function(i){void 0===Object(n.get)(t,i.model)&&void 0!==i.default&&(Object(n.isFunction)(i.default)?Object(n.set)(t,i.model,i.default(i,e,t)):Object(n.isObject)(i.default)||Object(n.isArray)(i.default)?Object(n.set)(t,i.model,Object(n.cloneDeep)(i.default)):Object(n.set)(t,i.model,i.default))})),t},s=function(e){var t=[];return Object(n.each)(e.fields,(function(e){!0!==e.multi&&!0!==e.multiple||t.push(e)})),t},r=function(e,t){var i={},a=s(e);return Object(n.each)(a,(function(e){var a,s=!0,r=e.model;Object(n.each)(t,(function(e){var t=Object(n.get)(e,r);s?(a=t,s=!1):a!==t&&(a=void 0)})),Object(n.set)(i,r,a)})),i},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(n.isNil)(e.id)?t+(e.inputName||e.label||e.model||"").toString().trim().toLowerCase().replace(/ |_/g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-]+)/g,""):t+e.id},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().trim().replace(/ /g,"-").replace(/-{2,}/g,"-").replace(/^-+|-+$/g,"").replace(/([^a-zA-Z0-9-_/./:]+)/g,"")}},321:function(e,t,i){"use strict";i(308);var n={props:{options:{},value:[String,Boolean,Array,Object,Number,Date,Function],type:{type:String,values:["image","boolean","url","html","object","array","date","relation","checkbox"]},src:String,row:Array,format:[String,Function],inputFormat:String,field:String,component:[String,Object],relation:String,relationUrl:String,relationLabel:String,relationKey:String,displayField:String,multiple:Boolean,storePath:String,store:Array,displayLabelCache:{type:Object,default:function(){return null}},onClickUrl:[String,Function],displayActions:{type:[Boolean,Number],default:!0,description:"display contextual actions when hovering the item "},isClickable:{type:[Boolean,Number],default:!0,description:"Whether it's possible to click on the item"},tag:{type:[String,Object],default:"div"},prefix:String,suffix:String,styles:String,classes:String,imageClasses:[String,Array,Object],imageStyles:[String,Array,Object],isSafe:{type:Boolean,default:!1},embed:{type:Boolean,default:!1,description:"Embed the target content into an iframe"}},data:function(){return{}},methods:{clickOnItem:function(e){this.$emit("on-awesome-display-clicked",e)}}},a=i(315),s={name:"DisplayImage",mixins:[n],methods:{openImageInTab:function(e){window.open(e,"_blank")}}},r=(i(420),i(42)),o=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[e.$props.src?i("div",{staticClass:"pointer"},[i("img",{staticClass:"aw-display-image-img",class:e.$props.imageClasses,style:e.$props.imageStyles,attrs:{src:e.$props.src,alt:"image"}}),e._v(" "),e.value?i("div",{staticClass:"image-actions"},[i("button",{staticClass:"btn btn-sm p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.openImageInTab(e.$props.src)}}},[i("i",{staticClass:"fa fa-external-link"})])]):e._e()]):e._e()])}),[],!1,null,null,null).exports,l={name:"DisplayBoolean",mixins:[n]},u=Object(r.a)(l,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow",class:e.$props.classes,style:e.$props.styles,attrs:{"data-value":e.$props.value}},"div",e.$props,!1),[i("i",{staticClass:"fa",class:{"fa-check text-success":e.$props.value,"fa-times text-danger":!e.$props.value&&void 0!==e.$props.value}})])}),[],!1,null,null,null).exports,c=(i(43),i(71),i(314)),d=i.n(c),p=i(390);d.a.extend(p);var f={name:"DisplayDate",mixins:[n],computed:{computedFormat:function(){if(this.format)return this.format;switch(this.type){case"datetime":return"DD/MM/YYYY <br/> hh:mm";case"date":return"DD/MM/YYYY";case"time":return"hh:mm";default:return""}},computedDate:function(){return this.value?(e=void 0!==this.inputFormat?d()(this.value,this.inputFormat).toDate():new Date(this.value),d()(e).format(this.computedFormat).replace(/<(?!br\s*\/?)[^>]+>/g,"")):"...";var e}}},h=(i(421),Object(r.a)(f,(function(){var e=this.$createElement;return(this._self._c||e)("div",this._b({staticClass:"aw-display-date pointer",class:this.$props.classes,domProps:{innerHTML:this._s(this.computedDate)}},"div",this.$props,!1))}),[],!1,null,null,null).exports),m={name:"DisplayUrl",mixins:[n]},v=Object(r.a)(m,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow",class:e.$props.classes,style:e.$props.styles},"div",e.$props,!1),[e.$props.value?i("a",{staticClass:"ajax-table-href ",class:e.embed?"pull-right":"",attrs:{href:e.$props.value,target:"_blank"}},[e.embed?e._e():i("span",[e._v("\n      "+e._s(e.$props.value)+"\n    ")]),e._v(" "),i("i",{staticClass:"fa fa-external-link"})]):e._e(),e._v(" "),e.embed&&e.$props.value?[i("iframe",e._b({staticClass:"aw-display-iframe ",class:e.$props.classes,attrs:{value:"",src:e.$props.value,frameborder:"0"}},"iframe",e.$props,!1))]:e._e()],2)}),[],!1,null,null,null).exports,g={name:"DisplayHtml",mixins:[n]},b=(i(422),Object(r.a)(g,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.isSafe?i("div",e._b({staticClass:"pointer",class:e.$props.classes,style:e.$props.styles,domProps:{innerHTML:e._s(e.$props.value)}},"div",e.$props,!1)):e._e(),e._v(" "),e.isSafe?e._e():i("iframe",e._b({staticClass:"aw-display-iframe",class:e.$props.classes,style:e.$props.styles,attrs:{value:"",srcdoc:e.$props.value,frameborder:"0"}},"iframe",e.$props,!1))])}),[],!1,null,null,null).exports),y=(i(171),i(172),{name:"DisplayObject",mixins:[n,i(318).a],computed:{_valueIsArray:function(){return Array.isArray(this.value)},_useArrayMode:function(){return this.multiple||this._valueIsArray},_value:function(){return this.getValue(this.value)}},methods:{getValue:function(e){var t=this.displayField&&void 0!==e?e[this.displayField]:e;return this.format&&this.format.includes("{{")?this.templateParser(this.format,{value:t,currentItem:e}):t}}}),O=Object(r.a)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pointer text-avoid-overflow aw-display-object",class:e.$props.wrapperClasses,style:e.$props.wrapperStyles,attrs:{value:e.$props.value,field:e.$props.field}},[i("div",{class:e.$props.classes,style:e.$props.styles},[e._useArrayMode||e.multiple?[e._l(e.$props.value,(function(t,n){return[i("div",{key:n,staticClass:"badge badge-info aw-display-object-item mr-1"},[[e._v("\n            "+e._s(e.getValue(t))+"\n          ")],e._v(" "),e._valueIsArray?e._e():[i("label",[e._v(e._s(n)+":")]),e._v(" "),i("label",{},[e._v(e._s(t))]),e._v(" |\n          ")]],2)]}))]:[e._v("\n      "+e._s(e._value)+"\n    ")]],2)])}),[],!1,null,null,null).exports,_=(i(170),i(310),i(169),i(306)),w=i.n(_),C=i(311),$=i(307),x={name:"DisplayRelation",mixins:[n,a.a,C.a,$.a],computed:{_relationUrl:function(){return this.relationUrl||this.relation},_relationLabel:function(){return this.relationLabel||"label"},_label:function(){return this.storePath||this.store?this.getStoreLabel(this.value):this.getApiLabel(this.value)},_displayLabelCache:function(){return this.displayLabelCache||this.awComponentsConfig.displayLabelsCache||this.internalCache||{}},_values:function(){return this.$props.value?Array.isArray(this.$props.value)?this.$props.value:[this.$props.value]:this.$props.value}},mounted:function(){this.relationUrl&&this.value&&this.$awEventBus&&this.$awEventBus.$on("displayRelation-".concat(this.relationUrl,"-").concat(this.value),this.updateComponent)},beforeDestroy:function(){this.$awEventBus&&this.$awEventBus.$off("displayRelation-".concat(this.relationUrl,"-").concat(this.value),this.updateComponent)},data:function(){return{internalCache:{},timeoutId:null}},methods:{onClick:function(){var e=this;this.isClickable&&(this.timeoutId?(clearTimeout(this.timeoutId),this.timeoutId=null,this.goToRelation(this.value)):this.timeoutId=setTimeout((function(){e.timeoutId=null}),200))},kebabCase:w.a.kebabCase,isFunction:w.a.isFunction,getLabel:function(e){return this.storePath||this.store?this.getStoreLabel(e):this.getApiLabel(e)},goToRelation:function(e){if(e&&this.onClickUrl)return w.a.isFunction(this.onClickUrl)?this.onClickUrl(e):this.$router.push(this.onClickUrl+"/"+e);e&&this.$router.push("/app/"+this.kebabCase(this.relation)+"/"+e)},formatLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=t||this._relationLabel;return i.indexOf("{{")>-1?this.templateParser(i,e):w.a.get(e,i,"")},getStoreLabel:function(e){var t=this;if(e){if(this._displayLabelCache[e]&&this._displayLabelCache[e]!==e)return this._displayLabelCache[e];if(this.store||this.storePath&&this.$store&&w.a.get(this.$store.state,this.storePath)){var i=this.store?this.store:this.$store&&w.a.get(this.$store.state,this.storePath);if(i){var n=i&&i.find((function(i){return i[t.relationKey]===e}));if(n){var a=n[this.relationLabel]||this.templateParser(this.relationLabel,n);return a&&this.$set(this._displayLabelCache,e,a),a||e}}}}},getApiLabel:function(e){var t=this;if(!this.relationUrl&&e&&this.relationLabel){var i=w.a.isObject(e)&&this.relationLabel?e[this.relationLabel]||this.templatingMixin(this.relationLabel,e):null;if(i)return i}var n="".concat(this.relationUrl,"/").concat(e);return e&&this._displayLabelCache[n]||(this.$set(this._displayLabelCache,n,e),this.$http.get(n).then((function(i){var a=t.apiResponseConfig&&t.apiResponseConfig.dataPath&&0!=t.apiResponseConfig.dataPath?w.a.get(i,t.apiResponseConfig.dataPath):i.data;i.data.totalCount&&(t.totalCount=i.data.totalCount);var s="".concat(t.formatLabel(a,t.relationLabel));return s?t.$set(t._displayLabelCache,n,s):t.$set(t._displayLabelCache,n,e),t.$awEventBus&&t.$awEventBus.$emit("displayRelation-".concat(t.relationUrl,"-").concat(t.value)),t.$forceUpdate(),s})).catch((function(i){console.warn("getApiLabel result",t.relationLabel,i.message),t.$set(t._displayLabelCache,n,e)}))),this._displayLabelCache[n]},copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},copy:function(e){this.copyToClipboard("".concat(this.getLabel(e))),this.$awNotify&&this.$awNotify(this.$te("awesome-display.value-copied")?this.$t("awesome-display.value-copied"):"Value copied")},updateComponent:function(){this.$forceUpdate()}}},F=(i(423),Object(r.a)(x,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({staticClass:"text-avoid-overflow aw-display-relation"},"div",e.$props,!1),[e._values&&e._values.length?[e._l(e._values,(function(t){return[i("div",{key:t,attrs:{title:e.getLabel(t)+" ("+t+")",tooltip:t}},[t?i("span",{staticClass:"badge badge-info pointer",on:{click:e.onClick}},[e._v("\n          "+e._s(e.getLabel(t))+"\n        ")]):e._e(),e._v(" "),e.displayActions?[t?i("span",{staticClass:"copy-link",on:{click:function(i){return e.copy(t)}}},[e._v("\n              "),i("i",{staticClass:"fa fa-clone text-info"})]):e._e(),e._v(" "),t&&!e.onClickUrl?i("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.relation)+"/"+t}},[e._v("\n              "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e(),e._v(" "),t&&e.onClickUrl&&e.isFunction(e.onClickUrl)?i("div",{staticClass:"external-link",on:{click:function(i){return e.onClickUrl(t)}}},[e._v("\n              "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e(),e._v(" "),t&&e.onClickUrl&&!e.isFunction(e.onClickUrl)?i("router-link",{staticClass:"external-link",attrs:{to:e.onClickUrl+"/"+t}},[e._v("\n              "),i("i",{staticClass:"fa fa-external-link text-info"})]):e._e()]:e._e()],2)]}))]:i("div",[e._v("\n    ...\n  ")])],2)}),[],!1,null,null,null).exports),k={name:"DisplayCheckbox",mixins:[n]},S=Object(r.a)(k,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",this._b({staticClass:"pointer text-avoid-overflow",class:this.$props.classes,style:this.$props.styles},"div",this.$props,!1),[!0===this.$props.value?t("label",[t("input",{staticClass:"ajax-table-checkbox",attrs:{type:"checkbox",checked:"",disabled:""}})]):t("label",[t("input",{staticClass:"ajax-table-checkbox",attrs:{type:"checkbox",disabled:""}})])])}),[],!1,null,null,null).exports,j={name:"DisplayDefault",mixins:[n],computed:{valueDisplay:function(){return void 0!==this.value&&null!==this.value?this.value:"..."},valueClass:function(){return this.$props.value&&this.$props.value&&Object(_.isString)(this.$props.value)?this.$props.value.replace(/(<([^>]+)>)/gi,"").replace(/ /g,""):""}}},A=Object(r.a)(j,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.tag,e._b({tag:"div",class:e.$props.class+" aw-display-field ajax-table-col-"+e.$props.field+" ajax-table-col-value-"+e.valueClass+" "+e.$props.classes,style:e.$props.styles,on:{click:function(t){return e.$emit("clicked",e.$props)}}},"div",e.$props,!1),[e._v("\n  "+e._s(e.prefix||"")+e._s(e.valueDisplay)+e._s(e.suffix||"")+"\n")])}),[],!1,null,null,null).exports,P={name:"AwesomeDisplay",mixins:[n,a.a],components:{DisplayCheckbox:S,DisplayBoolean:u,DisplayImage:o,DisplayUrl:v,DisplayHtml:b,DisplayObject:O,DisplayRelation:F,DisplayDefault:A,DisplayDate:h},methods:{onClick:function(e){this.clickOnItem(e)}}},T=Object(r.a)(P,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return"image"===e.$props.type?i("display-image",e._b({staticClass:"aw-display",attrs:{src:e.$props.value}},"display-image",e.$props,!1)):"boolean"===e.$props.type?i("display-boolean",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-boolean",e.$props,!1)):"url"===e.$props.type?i("display-url",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-url",e.$props,!1)):"html"===e.$props.type?i("display-html",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-html",e.$props,!1)):"object"===e.$props.type?i("display-object",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-object",e.$props,!1)):"checkbox"===e.$props.type?i("display-checkbox",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-checkbox",e.$props,!1)):"date"===e.$props.type||"datetime"===e.$props.type?i("display-date",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-date",e.$props,!1)):"relation"===e.$props.type?i("display-relation",e._b({staticClass:"aw-display",attrs:{relation:e.relation,relationKey:e.relationKey,relationUrl:e.relationUrl,relationLabel:e.relationLabel,value:e.$props.value}},"display-relation",e.$props,!1)):e.$props.component?i(e.$props.component,e._b({tag:"div",staticClass:"aw-display aw-display-custom",attrs:{value:e.$props.value}},"div",e.$props,!1)):i("display-default",e._b({staticClass:"aw-display",attrs:{value:e.$props.value}},"display-default",e.$props,!1))}),[],!1,null,null,null);t.a=T.exports},325:function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return a}));var n={noActions:!1,search:!0,filter:!0,create:!1,edit:!0,view:!0,delete:!0,export:!1,exportLocal:!1,import:!1,dateFilter:!1,refresh:!0,autoRefresh:!0,advancedFiltering:!0,columnsFilters:!0,bulkDelete:!0,bulkEdit:!0,itemsPerRow:!0,editLayout:!0,collapse:!0,formPagination:!0,pagination:!0,changDisplayMode:!0},a={scrollSensitivity:200,animation:200,moveList:!1,moveCard:!0,fields:{title:"",subtitle:"",image:"",description:"",labels:"",users:""},splittingField:"",splittingValues:null,customListActions:[],sortField:"",sortOrder:"asc"}},328:function(e,t,i){"use strict";i(24),i(310),i(97),i(171),i(69),i(46),i(70),i(308),i(323),i(99),i(43),i(172),i(316),i(98);var n=i(309),a=i(320),s=i(72),r=i(31),o=i(45),l=i(306),u=i.n(l),c=i(416),d=i.n(c),p=(i(417),i(461)),f=i(314),h=i.n(f),m=i(341),v=i.n(m),g=i(458),b=i(311),y=i(342),O=i(307),_=i(312),w=i(350),C=i(325),$=i(321),x=i(317),F=i(329),k=i(348),S=i(418);h.a.extend(S);var j={name:"AwesomeTable",token:'\n  <AwesomeTable  :title="title" :columns="tableColumns" :rows="dataSource" :needsRefresh="needsRefresh" :options="tableOptions">\n  <template slot="table-actions"></template>\n  <template slot="table-top-actions"></template>\n  <template slot="table-top-more-actions"></template>\n  <template slot="table-subtitle"></template>\n  <template slot="table-row-actions"></template>\n\n  </AwesomeTable>\n  ',components:{AwesomeDisplay:$.a,DateRangePicker:d.a,VueGoodTable:p.a,AwesomeFilter:x.a,popper:v.a,Skeleton:g.a,AwesomeActionList:F.a,AwesomeSegments:k.a},mixins:[w.a,O.a,b.a,y.a,_.a],props:{columns:{type:Array,description:"The columns to display in the table",default:function(){return[]}},columnsDisplayed:{type:Number,description:"The number of columns to display by default",default:10},parent:{type:Object,default:function(){},note:"In case of nested, pass parent to retrieve it in custom bulk actions"},rows:{type:Array,default:function(){return[]}},url:{type:String,default:""},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},name:{type:String,default:""},namePlural:{type:String,default:""},translations:{type:Object,default:function(){return{"AwesomeTable.buttons.filters":"Filter","AwesomeTable.buttons.refresh":"Refresh","AwesomeTable.buttons.excel-currentpage":"Export current page","AwesomeTable.searchInput":"AwesomeTable.searchInput","AwesomeTable.next":"Next","AwesomeTable.prev":"Previous","AwesomeTable.rows_per_page":"Rows per page","AwesomeTable.of":"of","AwesomeTable.page":"page","AwesomeTable.all":"all","AwesomeTable.empty":"empty","AwesomeTable.createFirstItem":"Click here to create your first item"}}},autoRefresh:{type:Boolean,default:!1,description:"Should we auto refresh the page ?"},autoRefreshInterval:{type:Number,default:20,description:"Interval in seconds that should be used to refresh the page"},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},perPage:{type:[String,Number],default:20},limit:{type:[String,Number],default:1e3},options:{type:Object,default:function(){return{}}},defaultOptions:{type:Object,default:function(){return{fixedHeader:!1,maxHeight:"",pagination:!0,filterInitiallyOn:!1,autoSearch:!0}}},actions:{type:Object,default:function(){return C.a},note:"actions active in this instance"},customInlineActions:{type:Array,default:function(){return[]},note:"custom inline action in row"},customTableTopActions:{type:Array,default:function(){return[]},note:"custom table top actions"},customBulkActions:{type:Array,default:function(){return[]},note:"custom bulk action"},mode:{default:"local",type:String,required:!1,values:["local","remote"]},collapsible:{default:!0,type:Boolean,description:"Wether the table can be collapsed using the minus button at the topRight corner."}},data:function(){return{totalCount:0,columnsFilterState:null,isRefreshing:!1,columnsState:{},defaultStartDate:h()().subtract(7,"days").format("YYYY-MM-DD"),defaultEndDate:h()().format("YYYY-MM-DD"),serverParams:{filters:{},range:{},sort:{},page:0,perPage:"local"===this.mode?this.limit:this.perPage},data:[],refreshHandle:null,numberOfRefreshCalls:0,datePicker:{locale:{direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Appliquer",cancelLabel:"Annuler",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:h.a.weekdaysMin(),monthNames:h.a.monthsShort(),firstDay:1}},selectedRows:[],displayLabelCache:{},clickTimeout:null,displayAwFilter:!1}},computed:{autoRefreshInterface:{get:function(){return this.autoRefresh},set:function(e){this.$emit("updateAutoRefresh",e)}},optionsComputed:function(){return u.a.merge(this.defaultOptions,this.options)},_tableTitle:function(){return!1===this.title?"":this.title||(this.$te&&this.$te("app.labels."+this.entity)?this.$t("app.labels."+this.entity):u.a.startCase(this.entity))},formattedColumns:function(){var e=this;this.columns||console.error("AwesomeTable MISSING COLUMNS");var t=this.columns.map((function(t){var i={};if(u.a.isString(t))return i.field=t,i.label=u.a.startCase(t),i.filterOptions={enabled:e.canFilterByColumnsCpt},i.sortable=!0,i;t.label||(t.label=u.a.startCase(t.field)),t.type&&"datetime"===t.type&&(t.format="D MMM YYYY <br/> hh:mm",t.formatFn=function(e){return e||e}),t.type&&"date"===t.type&&(t.format="DD-MM-YYYY",t.formatFn=function(e){return e||e}),t.type&&"object"===t.type&&(t.sortFn=function(e,t,i,n,a){var s=JSON.stringify(e),r=JSON.stringify(t);return s<r?-1:s>r?1:0}),t.type&&"relation"===t.type&&(t.sortFn=function(e,t,i,n,a){return e<t?-1:e>t?1:0}),t.type&&"checkbox"===t.type&&(t.sortable=!1);var n=t.filterOptions&&t.filterOptions.filterDropdownItems;return!t.type||"list-of-value"!==t.type&&"lov"!==t.type||(n=e.$store.state.listOfValues[t.listName])&&(n=n.map((function(e){return{value:e.code,text:e.label||e.code||e}}))),t.type&&"list-of-data"===t.type&&(n=(n=e.$store.state.data[t.listName]).map((function(e){return{value:e.code,text:e.label||e.code||e}}))),t.enum&&(n=(n=t.enum).map((function(e){if("string"==typeof e){if(e.includes("|")){var t=e.split("|");return{value:t[0],text:t[1]}}return{value:e,text:u.a.startCase(e)}}return"object"===Object(o.a)(e)?e:{value:e,text:u.a.startCase(e)}}))),t.filterOptions={enabled:void 0!==t.filterable?t.filterable&&e.canFilterByColumnsCpt:e.canFilterByColumnsCpt,filterDropdownItems:n},t}));return Object.keys(this.columnsState).length<1&&t.forEach((function(t,i){e.$set(e.columnsState,t.field,i<e.columnsDisplayed)})),t.find((function(e){return"__ACTIONS"===e.field}))||this._actions.noActions||(t.push({field:"__ACTIONS",label:"Actions",filterOptions:{enabled:!1}}),this.columnsState.__ACTIONS=!0),t},canHideColumns:function(){return this.formattedColumns.length>this.columnsDisplayed},displayedColumns:function(){var e=this;if(this.columnsState,this.canHideColumns){var t=this.formattedColumns.filter((function(t){return e.columnsState[t.field]}));if((!t.length||1===t.length&&this.columnsState.__ACTIONS)&&t.push.apply(t,Object(r.a)(this.formattedColumns)),!this.columnsState.__ACTIONS){var i=this.formattedColumns.find((function(e){return"__ACTIONS"===e.field}));i&&t.push(i)}return t}return this.formattedColumns},initialSortBy:function(){if(this.serverParams.sort){var e=Object.entries(this.serverParams.sort);if(e.length){var t=Object(s.a)(e,1),i=Object(s.a)(t[0],2);return{field:i[0],type:i[1]}}}else;},advancedFiltersCount:function(){return this.advancedFilters&&this.advancedFilters.length||0},advancedFiltersFormated:function(){return x.a.methods.parseFilter(this.advancedFilters,{dispatch:!1})},perPageComputed:function(){return"remote"===this.mode?parseInt(this.serverParams.perPage):this.perPage},canFilterByColumnsCpt:function(){return this._actions.columnsFilters&&this.options&&(null!==this.columnsFilterState?this.columnsFilterState:this.options.filterInitiallyOn)}},watch:{params:function(){},entity:"entityChanged",rows:"refreshLocalData",autoRefresh:function(e){e?this.activateAutoRefresh():clearInterval(this.refreshHandle)}},created:function(){var e=this;this.$t||(this.$t=function(t){return e.translations[t]||t},this.$te=function(t){return!!e.translations[t]})},beforeMount:function(){var e=window.navigator?navigator.language||navigator.userLanguage:"en";h()().locale(e)},mounted:function(){var e=this;if(!this.refresh&&!this.store){if(this.apiQueryParams&&this.apiQueryParams.filters&&Object.keys(this.apiQueryParams.filters).length>0){var t=[];Object.keys(this.apiQueryParams.filters).filter((function(t){return e.apiQueryParams.filters[t]})).forEach((function(i){t.push(Object(a.a)({},i,e.apiQueryParams.filters[i]))})),this.advancedFilters=[],t.forEach((function(t){var i={},n=Object(s.a)(Object.entries(t)[0],2),a=n[0],r=n[1],l="object"===Object(o.a)(r)?Object.entries(r)[0]:["$eq",r],u=Object(s.a)(l,2),c=u[0],d=u[1],p=e.columns.find((function(e){return e.field===a}));if(p){i.field=p;var f=x.a.data().filters&&x.a.data().filters.find((function(e){return e.value===c}));i.value=d,f&&(i.filter=f,i.value=d),e.advancedFilters.push(i)}}))}this.autoRefresh&&this.activateAutoRefresh()}},beforeDestroy:function(){clearInterval(this.refreshHandle)},methods:{startCase:u.a.startCase,activateAutoRefresh:function(){var e=this;this.numberOfRefreshCalls=0,this.refreshHandle=setInterval((function(){if(e.numberOfRefreshCalls>300)return e.$awNotify({title:"too much calls, aborting tracking",type:"warning"}),clearInterval(e.refreshHandle),void(e.refreshHandle=null);document.hasFocus()&&(e.numberOfRefreshCalls+=1,e.getItems({source:"awTable_refreshHandle"}))}),1e3*this.autoRefreshInterval)},permanentFiltering:function(e,t){this.updateParams({parsedAdvancedFilters:u.a.cloneDeep(e),page:0,permanent:!0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("permanent-filter",{filters:e}),this.$awEmit("filter",{filters:this.serverParams.filters})},advancedFiltering:function(e,t){this.updateParams({advancedFilters:u.a.cloneDeep(t),parsedAdvancedFilters:u.a.cloneDeep(e),page:0}),this.optionsComputed.autoSearch&&this.getItems({useSkeleton:!0}),this.$awEmit("advanced-filter",e,t),this.$awEmit("filter",{filters:this.serverParams.filters,rawFilters:t})},doRefresh:function(){this.$awEmit("refresh",{filters:this.serverParams.filters}),"remote"==this.mode&&this.getItems({useSkeleton:!0})},toggleFilter:function(){var e=this;this.columnsFilterState=!this.columnsFilterState,this.columnsFilterState||(this.serverParams||(this.serverParams={}),this.serverParams.range={},this.serverParams.filters={},this.getItems({useSkeleton:!0})),this.columns=this.columns.map((function(t){return t.filterOptions&&(t.filterOptions.enabled=e.columnsFilterState),t}))},toggleAdvancedFilters:function(){this.displayAwFilter=!this.displayAwFilter},clickOnLine:function(e,t){var i=this;this.$nextTick((function(){i.clickTimeout?(clearTimeout(i.clickTimeout),i.clickTimeout=null,i.$emit("onRowDoubleClicked",e,t)):i.clickTimeout=setTimeout((function(){i.$emit("onRowClicked",e,t),i.clickTimeout=null}),300)}))},getLovValue:function(e,t){var i=this;if(!e||!this.$store.state.listOfValues[t])return e;var n=this.$store.state.listOfValues[t].find((function(t){return t[i.primaryKey]===e||t.code===e}));return n?n.label||n.code||n:e},getDataValue:function(e,t){var i=this;if(!e||!this.$store.state.data[t])return e;var n=this.$store.state.data[t].find((function(t){return t[i.primaryKey]===e||t.code===e}));return n?n.label||n.title||n.name||n.code||n:e},toggleColumn:function(e){this.$set(this.columnsState,e,!this.columnsState[e]),this.pushChangesToRouter()},onColumnFilter:function(e){"remote"===this.mode&&(this.updateParams(Object(n.a)(Object(n.a)({},e),{},{page:0})),this.getItems({useSkeleton:!0}))},onSortChange:function(e){var t=e[0].field||e[0].columnIndex,i=this.columns.find((function(e){return e.field===t}));if(i){var n={};n[i.field]=e[0].type||e[0].sortType,this.useRouterMode,"remote"===this.mode&&(this.pushChangesToRouter({query:{sort:n}}),this.updateParams({sort:n}),this.getItems({useSkeleton:!0}))}},onDateFilter:function(e){e&&(this.serverParams.range.startDate=e.startDate.toISOString().slice(0,10),this.serverParams.range.endDate=e.endDate.toISOString().slice(0,10),this.getItems({useSkeleton:!0}))},hasValue:function(e,t){return"undefined"!==e[t.toLowerCase()]},itemValue:function(e,t){return e[t.toLowerCase()]},getItemProperty:u.a.get}},A=(i(441),i(42)),P=Object(A.a)(j,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-table aw-listing"},[i("div",{staticClass:"float-left col-6 pl-0"},[e._t("table-header-left"),e._v(" "),e.segmentFieldDefinitionComputed?i("div",{staticClass:"card aw-segment-table-wrapper"},[i("awesome-segments",{attrs:{apiRequestConfig:e.apiRequestConfig,apiResponseConfig:e.apiResponseConfig,field:e.segmentFieldDefinitionComputed},on:{change:e.onSegmentChange}})],1):e._e()],2),e._v(" "),i("div",{staticClass:"float-right text-right col-6 pr-0"},[e._t("table-header-right")],2),e._v(" "),i("div",{staticClass:"card aw-table-card aw-table"},[i("div",{staticClass:"card-header",class:"aw-table-header "+(e.optionsComputed.headerStyle?"colored-header bg-"+e.optionsComputed.headerStyle:"")},[e.isRefreshing?i("div",{staticStyle:{"text-align":"center"}},[e._m(0)]):e._e(),e._v(" "),i("h3",{staticClass:"card-title aw-table-header text-left"},[e._t("table-title",(function(){return[e._v("\n          "+e._s(e._tableTitle)+"\n        ")]})),e._v(" "),e._actions&&e._actions.refresh?i("div",{class:"automatic-refresh-button "+(e.autoRefresh?" active":"")},[e._actions&&e._actions.refresh?i("button",{staticClass:"btn btn-simple btn-alt-style btn-sm p-2",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.getItems({useSkeleton:!0})}}},[i("i",{class:"fa fa-refresh"+(e.isRefreshing?" fa-spin":"")})]):e._e(),e._v(" "),i("span",{staticClass:"refresh-text"},[e._v(e._s(e.$t("AwesomeTable.automatique-refresh")))]),e._v(" "),i("label",{staticClass:"switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.autoRefreshInterface,expression:"autoRefreshInterface"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoRefreshInterface)?e._i(e.autoRefreshInterface,null)>-1:e.autoRefreshInterface},on:{change:function(t){var i=e.autoRefreshInterface,n=t.target,a=!!n.checked;if(Array.isArray(i)){var s=e._i(i,null);n.checked?s<0&&(e.autoRefreshInterface=i.concat([null])):s>-1&&(e.autoRefreshInterface=i.slice(0,s).concat(i.slice(s+1)))}else e.autoRefreshInterface=a}}}),e._v(" "),i("span",{staticClass:"slider round"})])]):e._e(),e._v(" "),i("div",{staticClass:"aw-table-top-actions float-right m-0 p-0"},[e._t("table-top-actions"),e._v(" "),e.canHideColumns?i("popper",{ref:"filterPopover",attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[e._v("\n              "+e._s(e.$t("AwesomeTable.columns"))+"\n            ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},e._l(e.formattedColumns,(function(t,n){return i("button",{key:n,staticClass:"dropdown-item",class:{"text-light bg-primary":e.columnsState[t.field],"d-none":"__ACTIONS"===t.field},attrs:{type:"button",href:"#"},on:{click:function(i){return e.toggleColumn(t.field)}}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),0)]):e._e(),e._v(" "),e._actions.filter&&e._actions.advancedFiltering?i("button",{staticClass:"btn btn-sm btn-simple mt-0",class:{"btn-primary":e.advancedFiltersCount||e.displayAwFilter,"btn-default":!e.advancedFiltersCount},attrs:{slot:"reference",type:"button","aria-haspopup":"true","aria-expanded":"false",id:"advancedFilterButton"},on:{click:e.toggleAdvancedFilters},slot:"reference"},[i("i",{staticClass:"fa fa-filter"}),e._v("\n            "+e._s(e.$t("AwesomeTable.buttons.filters"))+"\n            "+e._s(e.advancedFiltersCount?"("+e.advancedFiltersCount+")":"")+"\n          ")]):e._e(),e._v(" "),e._actions&&(e._actions.export||e._actions.exportLocal||e._actions.import||e._actions.columnsFilters||e._actions.dropdownActions)?i("popper",{attrs:{trigger:"clickToOpen",options:{placement:"bottom",modifiers:{offset:{offset:"0,10px"}}}}},[i("button",{staticClass:"btn btn-sm btn-simple dropdown-toggle",attrs:{slot:"reference",type:"button",id:"configurationButton"},slot:"reference"},[i("i",{staticClass:"fa fa-cog"}),e._v("\n              "+e._s(e.$t("AwesomeTable.configuration"))+"\n            ")]),e._v(" "),i("div",{staticClass:"popper card mt-0",staticStyle:{"z-index":"1"}},[e._t("table-top-more-actions"),e._v(" "),e._actions.columnsFilters?i("button",{staticClass:"btn btn-sm btn-simple btn-main-style",class:{"btn-primary":e.columnsFilterState,"btn-danger":!e.columnsFilterState},attrs:{type:"button"},on:{click:function(t){return e.toggleFilter()}}},[i("i",{staticClass:"fa fa-filter"}),e._v("\n                "+e._s(e.columnsFilterState?e.$t("AwesomeTable.buttons.columnsFilters.deactivate"):e.$t("AwesomeTable.buttons.columnsFilters.activate"))+"\n              ")]):e._e(),e._v(" "),e._actions&&e._actions.export?i("button",{staticClass:"btn btn-sm btn-simple text-success btn-main-style btn-block",attrs:{type:"button"},on:{click:e.exportCallBack}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                "+e._s(e.$t("AwesomeTable.buttons.excel"))+"\n              ")]):e._e(),e._v(" "),e._actions&&e._actions.exportLocal?i("button",{staticClass:"btn btn-sm btn-simple text-success btn-main-style btn-block",attrs:{type:"button"},on:{click:e.exportCurrentArrayToExcel}},[i("i",{staticClass:"fa fa-file-excel"}),e._v("\n                "+e._s(e.$t("AwesomeTable.buttons.excel-currentpage"))+"\n              ")]):e._e(),e._v(" "),e.isSaveStateEnabledCpt?i("button",{staticClass:"btn btn-sm btn-simple text-info btn-main-style btn-block",attrs:{type:"button"},on:{click:e.clearComponentState}},[i("i",{staticClass:"fa fa-trash"}),e._v("\n                "+e._s(e.$t("AwesomeTable.buttons.clear-state"))+"\n              ")]):e._e()],2)]):e._e()],2)],2),e._v(" "),i("p",{staticClass:"card-category"},[e._t("table-subtitle")],2),e._v(" "),e.collapsible?i("button",{staticClass:"btn btn-sm btn-i",staticStyle:{position:"absolute",top:"0",right:"0",padding:"0"},attrs:{"data-toggle":"collapse","data-target":"#awTable-"+this._uid||!1}},[i("i",{staticClass:"fa fa-minus"})]):e._e()]),e._v(" "),i("div",{staticClass:"card-body aw-table-card-body collapse show",class:e.collapsible?"collapse show":"",attrs:{id:"awTable-"+this._uid||!1}},[e.displayAwFilter?i("awesome-filter",{staticClass:"p-0",attrs:{"edit-filters":"",id:"advancedFilterComponentDisplay",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),e._actions.filter&&e._actions.advancedFiltering?i("awesome-filter",{attrs:{"display-filters":"",id:"advancedFilterComponent",fields:e.columns,"advanced-filters":e.advancedFilters},on:{"update-filter":e.advancedFiltering}}):e._e(),e._v(" "),i("div",{staticClass:"table-responsive"},[i("vue-good-table",{ref:"table-"+e.entity,attrs:{mode:e.mode,"total-rows":e.totalCount,"style-class":"vgt-table table striped",columns:e.displayedColumns,"fixed-header":e.optionsComputed&&e.optionsComputed.fixedHeader,"max-height":e.optionsComputed.maxHeight,rows:e.data||[],"filter-options":{enabled:e._actions.filter},"sort-options":{initialSortBy:e.initialSortBy},"search-options":{enabled:e._actions.search,placeholder:this.$t("AwesomeTable.searchInput")},"pagination-options":{enabled:!e._actions||e._actions.pagination,nextLabel:this.$t("AwesomeTable.next"),prevLabel:this.$t("AwesomeTable.prev"),rowsPerPageLabel:this.$t("AwesomeTable.rows_per_page"),ofLabel:this.$t("AwesomeTable.of"),pageLabel:this.$t("AwesomeTable.page"),allLabel:this.$t("AwesomeTable.all"),perPage:e.perPageComputed,setCurrentPage:parseInt(e.serverParams.page)||void 0},"select-options":{enabled:!0,selectOnCheckboxOnly:!0,selectionInfoClass:"awesome-table-selection",selectionText:this.$t("AwesomeTable.bulk.row-select"),clearSelectionText:this.$t("AwesomeTable.bulk.clear"),disableSelectInfo:!1,selectAllByGroup:!0}},on:{"on-page-change":e.onPageChange,"on-sort-change":e.onSortChange,"on-column-filter":e.onColumnFilter,"on-per-page-change":e.onPerPageChange,"on-search":e.onSearch,"on-cell-click":e.clickOnLine,"on-selected-rows-change":e.onSelectionChanged},scopedSlots:e._u([{key:"table-row",fn:function(t){return[e.showSkeleton?i("Skeleton",{attrs:{count:1,loading:!0}}):["__ACTIONS"!==t.column.field?i("awesome-display",e._b({staticClass:"pointer text-avoid-overflow",attrs:{apiResponseConfig:e.apiResponseConfig,apiRequestHeaders:e.apiRequestHeaders,value:e.getItemProperty(t.row,t.column.field)}},"awesome-display",t.column,!1)):"__ACTIONS"===t.column.field?i("span",{staticClass:"text-right aw-table-actions-field"},[e._t("table-row-actions",(function(){return[e.customInlineActions?[i("AwesomeActionList",{attrs:{actions:e.customInlineActions,item:t.row,parent:e.parent,location:"inline"},on:{customAction:function(t){return e.$emit("customAction",t)}}})]:e._e()]}),{item:t.row}),e._v(" "),e.templateParseConditionalField(e._actionsBeforeCalculation.view,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon mr-2",attrs:{type:"button"},on:{click:function(i){return e.$emit("view",t.row)}}},[i("i",{staticClass:"fa fa-eye text-info"})]):e._e(),e._v(" "),e.templateParseConditionalField(e._actionsBeforeCalculation.edit,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon mr-2",attrs:{type:"button"},on:{click:function(i){return e.$emit("edit",t.row)}}},[i("i",{staticClass:"fa fa-pencil fa fa-pencil text-primary"})]):e._e(),e._v(" "),e.templateParseConditionalField(e._actionsBeforeCalculation.delete,{currentItem:t.row})?i("button",{staticClass:"btn btn-sm btn-simple btn-awtable-inline-action btn-icon",attrs:{type:"button"},on:{click:function(i){return e.$emit("delete",t.row)}}},[i("i",{staticClass:"fa fa-trash text-danger"})]):e._e()],2):"list-of-value"===t.column.type||"lov"===t.column.type?i("span",{staticClass:"pointer",on:{click:function(i){return e.clickOnLine(t)}}},[e._v(e._s(e.getLovValue(t.formattedRow[t.column.field],t.column.listName)))]):"list-of-data"===t.column.type?i("span",{staticClass:"pointer",on:{click:function(i){return e.clickOnLine(t)}}},[e._v(e._s(e.getDataValue(t.formattedRow[t.column.field],t.column.listName)))]):e._e()]]}}])},[i("div",{attrs:{slot:"selected-row-actions"},slot:"selected-row-actions"},[e.customBulkActions?[i("AwesomeActionList",{attrs:{actions:e.customBulkActions,items:e.selectedRows,columns:e.columns,parent:e.parent,location:"bulk"},on:{customAction:function(t){return e.$emit("customAction",t)}}})]:e._e(),e._v(" "),e._actions.bulkDelete&&e._actions.delete?i("button",{staticClass:"btn btn-sm btn-primary ml-2 mr-2",attrs:{type:"button"},on:{click:function(t){return e.$emit("bulkDelete",e.selectedRows)}}},[i("i",{staticClass:"fa fa-trash"}),e._v("\n              "+e._s(e.$t("AwesomeTable.bulk.delete"))+"\n            ")]):e._e(),e._v(" "),e._actions.bulkEdit&&e._actions.edit?i("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(t){return e.$emit("bulkEdit",e.selectedRows)}}},[i("i",{staticClass:"fa fa-pencil"}),e._v("\n              "+e._s(e.$t("AwesomeTable.bulk.edit"))+"\n            ")]):e._e()],2),e._v(" "),e.customTableTopActions.length||e._actions.dateFilter?i("div",{attrs:{slot:"table-actions"},slot:"table-actions"},[e._actions.dateFilter?i("date-range-picker",{staticClass:"form-group vgt-date-range",attrs:{placeholder:e.$t("AwesomeTable.daterange.start"),"date-range":{startDate:e.defaultStartDate,endDate:e.defaultEndDate},"locale-data":e.datePicker.locale,opens:"left"},on:{update:e.onDateFilter}}):e._e(),e._v(" "),e.customTableTopActions?[i("AwesomeActionList",{staticClass:"ml-1",attrs:{actions:e.customTableTopActions,columns:e.columns,location:"tabletop"},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":e.permanentFiltering}}),e._v(" "),e.optionsComputed.autoSearch?e._e():i("button",{staticClass:"btn btn-sm btn-primary btn-add-item ",attrs:{type:"button"},on:{click:e.doRefresh}},[i("i",{staticClass:"fa fa-search"})])]:e._e()],2):e._e(),e._v(" "),e._v(" "),i("div",{attrs:{slot:"emptystate"},slot:"emptystate"},[e._t("table-empty-state",(function(){return[i("div",{staticClass:"text-center"},[e._v("\n                "+e._s(e.$t("AwesomeTable.empty"))+"\n                "),i("br"),e._v(" "),i("i",{staticClass:"fa fa-file-o fa-4x"}),i("br"),e._v(" "),e._actions.create?i("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return t.preventDefault(),e.$emit("create")}}},[e._v("\n                  "+e._s(e.$t("AwesomeTable.createFirstItem"))+" "),i("i",{staticClass:"fa fa-plus text-primary"})]):e._e()])]}))],2)])],1)],1)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"progress",staticStyle:{height:"5px","border-radius":"0px",position:"absolute",top:"0",left:"0",width:"100%"}},[t("div",{staticClass:"progress-bar progress-bar-striped progress-bar-animated",staticStyle:{width:"5%"},attrs:{role:"progressbar","aria-valuenow":"100","aria-valuemin":"0","aria-valuemax":"100"}})])}],!1,null,null,null);t.a=P.exports},329:function(e,t,i){"use strict";i(24);var n=i(341),a=i.n(n),s={name:"AwesomeActionList",components:{AwesomeAction:i(383).a,Popper:a.a},props:{actions:{type:Array,required:!0,note:"List of actions"},items:{type:Array,note:"List of items"},item:{type:Object,note:"Selected item"},columns:{type:Array,note:"In case of type: filter || input, the list of the model's columns"},location:{type:String,note:"The location of the element"},parent:{type:Object,note:"The parent of the current element (in case of nested)"},useDropdown:{type:Boolean,note:"if the slect items should be in a dropdown"}},computed:{foldableActions:function(){return this.actions.filter((function(e){return!e.type||"button"===e.type&&!e.sticky}))},unFoldableActions:function(){return this.actions.filter((function(e){return e.type&&"button"!==e.type||e.sticky}))}}},r=(i(440),i(42)),o=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-action-list"},[e.useDropdown?[e._l(e.unFoldableActions,(function(t,n){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[i("AwesomeAction",e._b({key:n,staticStyle:{display:"inline-block"},attrs:{classes:t.class||t.classes,index:n,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]})),e._v(" "),i("div",{staticClass:"dropdown awesome-action-list-dropdown"},[i("popper",{attrs:{trigger:"clickToOpen",options:{placement:"bottom"}}},[i("button",{staticClass:"btn btn-sm btn-outline-secondary ml-1 mr-1 dropdown-toggle",attrs:{slot:"reference",id:"dropdownMenuButton",type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},slot:"reference"},[i("i",{staticClass:"fa fa-bars"}),e._v(" "+e._s(e.$t("AwesomeTable.actions"))+"\n        ")]),e._v(" "),i("div",{staticClass:"card",staticStyle:{"max-height":"80vh",overflow:"auto","z-index":"1"}},[e._l(e.foldableActions,(function(t,n){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[i("AwesomeAction",e._b({key:n,attrs:{classes:t.class||t.classes,index:n,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]}))],2)])],1)]:e._e(),e._v(" "),e.useDropdown?e._e():[e._l(e.actions,(function(t,n){return[!t.canDisplay||t.canDisplay({item:e.item},this)?[i("AwesomeAction",e._b({key:n,attrs:{classes:t.class||t.classes,index:n,items:e.items,item:e.item,columns:e.columns,location:e.location,parent:e.parent},on:{customAction:function(t){return e.$emit("customAction",t)},"permanent-filtering":function(t){return e.$emit("permanent-filtering",t)}}},"AwesomeAction",Object.assign({},t,{class:void 0}),!1))]:e._e()]}))]],2)}),[],!1,null,"257337bf",null);t.a=o.exports},342:function(e,t,i){"use strict";i(170),i(310),i(97),i(169),i(70),i(308),i(323),i(99),i(10),i(352),i(43),i(324),i(98);var n=i(309),a=(i(101),i(44)),s=i(72),r=i(393),o=i.n(r),l=i(314),u=i.n(l),c=i(306),d=i.n(c),p=i(315),f=i(312);t.a={mixins:[p.a,f.a],props:{rows:{type:Array,default:function(){return[]}},primaryKey:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.primaryKey||"id"},description:"Which field to use as primary key. By default it's `id` but it can be `_id`  or anything that you want"},url:{type:String,default:""},useRouterMode:{type:Boolean,default:!1,description:"Determine whether the component should interact with the vue-router."},entity:{type:String,default:"",note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},identity:{type:[String,Number],required:!1,note:"Unique name of the currently displayed list. This serve to retrieve and display titles from the vue-i8n translations"},title:{type:[String,Boolean],default:""},refresh:{type:Function,default:void 0},delete:{type:Function,default:void 0},create:{type:Function,default:void 0},exportUrl:{type:String,default:void 0},needsRefresh:{type:Boolean,default:!1},perPage:{type:[String,Number],default:20},limit:{type:[String,Number],default:1e3,note:"Limit serves in case of local pagination to limit the number of results from the api, in order to avoid memory overflows"},options:{type:Object,default:function(){return{}}},mode:{default:"local",type:String},savePaginationState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation page, perPage"},saveColumnsState:{type:Boolean,default:!1,description:"Whether we should save the state of the navigation (columns, sort etc"},segmentField:{type:String,title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"},segment:{type:[Object,String],title:"The field to use for segmenting the lists",description:"This field is used for segmenting the top section"}},data:function(){return{totalCount:0,isRefreshing:!1,serverParams:{filters:{},range:{},sort:{},page:0,perPage:this.perPage},columnFilters:{},advancedFilters:[],parsedAdvancedFilters:{},data:[],showSkeleton:!1,routeQueryParams:{},segmentQueryField:"",segmentValue:""}},computed:{params:function(){return this.apiQueryParams},opts:function(){return d.a.merge(this.defaultOptions,this.options)},_translatedServerParams:function(){var e=this,t={};this.injectSegmentFilter(this.segmentQueryField,this.segmentValue);var i=d.a.merge({},this.serverParams,this.apiQueryParams,this.apiRequestPermanentQueryParams);return Object.keys(i).forEach((function(n){var a=e.apiRequestConfig[n+"Field"]||n;t[a]=i[n]})),"local"===this.mode&&(t.perPage=this.limit),t},isSaveStateEnabledCpt:function(){return this.saveColumnsState||this.savePaginationState},_actions:function(){var e=this,t=d.a.cloneDeep(this._actionsBeforeCalculation);return Object.entries(t).forEach((function(i){var n=Object(s.a)(i,2),a=n[0],r=n[1];"boolean"!=typeof r&&(t[a]=e.templateParseConditionalField(r))})),t},_actionsBeforeCalculation:function(){return d.a.merge({},this.actions||this.mergedOptions&&this.mergedOptions.actions||this.optionsComputed&&this.optionsComputed.actions||this.options&&this.options.actions)},segmentFieldDefinitionComputed:function(){var e=this;if(!this.segmentField)return"";if(this.columns){var t=this.columns.find((function(t){return t.field===e.segmentField}));if(t)return t}return""}},watch:{needsRefresh:"refreshLocalData",apiQueryParams:function(e,t){e&&JSON.stringify(e)!==JSON.stringify(t)&&(this.serverParams=d.a.merge({},this.apiQueryParams,this.serverParams),this.getItems({useSkeleton:!0,source:"[apiListMixin] apiQueryParams"}))},entity:"entityChanged",rows:"refreshLocalData",url:"refreshLocalData",$route:function(e){this.connectRouteToPagination(e)}},created:function(){if(!this.$http)try{var e=i(331);this.$http=e}catch(e){}},beforeMount:function(){var e=window.navigator?navigator.language||navigator.userLanguage:"en";u()().locale(e)},mounted:function(){this.$awEventBus&&this.$awEventBus.$on("aw-table-needs-refresh",this.refreshLocalData),this.restoreComponentState(),this.connectRouteToPagination(this.$route),this.refreshLocalData()},beforeDestroy:function(){this.$awEventBus&&this.$awEventBus.$off("aw-table-needs-refresh",this.refreshLocalData)},methods:{startCase:d.a.startCase,refreshLocalData:function(e){var t=this;return Object(a.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._url){e.next=5;break}return e.next=3,t.getItems({useSkeleton:!0,source:"[apiListMixin] refreshLocalData"});case 3:e.next=8;break;case 5:t.data=t.rows,t.totalCount=t.rows?t.rows.length:0,t.$forceUpdate();case 8:t.localRefreshCompleted();case 9:case"end":return e.stop()}}),e)})))()},entityChanged:function(){this.data=this._url?[]:this.rows,this.serverParams={},this.getItems({useSkeleton:!0,source:"[apiListMixin] entityChanged"})},localRefreshCompleted:function(){this.$emit("update:needsRefresh",!1),this.$emit("afterRefresh",{data:this.data})},getItems:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{useSkeleton:!1};if(this.refresh)this.refresh({filters:this.serverParams&&this.serverParams.filters,translatedParams:this._translatedServerParams});else if(this._url)return t.useSkeleton&&(this.showSkeleton=t.useSkeleton),this.isRefreshing=!0,this.$awEmit("before-api-refresh",{component:"aw-listing",url:this._url}),this.$http.get("".concat(this._url).concat(-1===this._url.indexOf("?")?"?":"&").concat(o.a.stringify(this._translatedServerParams,{})),{}).then((function(t){e.$awEmit("after-api-refresh",{response:t,component:"aw-listing",url:e._url}),e.data=e.apiResponseConfig&&e.apiResponseConfig.dataPath?d.a.get(t,e.apiResponseConfig.dataPath):t.data,e.totalCount=e.apiResponseConfig&&e.apiResponseConfig.totalCountPath?d.a.get(t,e.apiResponseConfig.totalCountPath):t.data.totalCount,e.$emit("crud-list-updated",e.data),e.$awEmit("table-refreshed",{component:"aw-listing",url:e.url,data:e.data}),e.$emit("dataChanged",e.data),e.$awEmit("data-changed",{component:"aw-listing",url:e.url,data:e.data})})).catch((function(t){console.warn(t),e.apiErrorCallback(t)})).finally((function(){e.showSkeleton=!1,e.isRefreshing=!1}))},onClick:function(e){this.opts&&this.opts.actions&&this.opts.actions.view&&this.$emit("view",e),this.$emit("itemClicked",e)},updateParams:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{page:void 0,search:void 0,perPage:void 0,columnFilters:void 0,advancedFilters:void 0,parsedAdvancedFilters:void 0,filters:void 0,columns:void 0,sort:void 0,permanent:!1},i=t.columnFilters&&Object.keys(t.columnFilters).length?Object.assign({},t.columnFilters):{};Object.keys(i).length>0&&(this.columnFilters={},Object.keys(i).forEach((function(t){null!=i[t]&&""!=i[t]&&(e.columnFilters["".concat(t)]={$default:i[t]})})),delete t.columnFilters),t.columns&&(this.columnsState=t.columns),t.sort&&(this.serverParams.sort=t.columns),t.advancedFilters&&(this.advancedFilters=t.advancedFilters,delete t.advancedFilters),t.parsedAdvancedFilters&&(this.parsedAdvancedFilters=t.parsedAdvancedFilters,delete t.parsedAdvancedFilters),t.permanent?Object.keys(this.parsedAdvancedFilters).forEach((function(t){e.serverParams.filters[t]&&"$relation"!==t&&delete e.serverParams.filters[t],Object.keys(e.parsedAdvancedFilters[t]).forEach((function(i){"$relation"===t?Object.keys(e.parsedAdvancedFilters[t][i]).forEach((function(n){e.parsedAdvancedFilters[t][i][n]||(delete e.parsedAdvancedFilters[t][i],e.serverParams.filters[t]&&e.serverParams.filters[t][i]&&delete e.serverParams.filters[t][i])})):e.parsedAdvancedFilters[t][i]||(delete e.serverParams.filters[t],delete e.parsedAdvancedFilters[t])}))})):delete this.serverParams.filters,this.serverParams=d.a.merge({},this.serverParams,t,{advancedFilters:void 0,filters:Object(n.a)(Object(n.a)({},this.parsedAdvancedFilters),this.columnFilters)},this.apiQueryParams)},sortFn:function(e,t,i,n,a){return e<t?-1:e>t?1:0},onPageChange:function(e){this.pushChangesToRouter({query:Object(n.a)(Object(n.a)({},this.$route.query),{},{page:e.currentPage})}),"remote"===this.mode&&(this.updateParams({page:e.currentPage}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onPageChange"}))},onPerPageChange:function(e){this.pushChangesToRouter({query:Object(n.a)(Object(n.a)({},this.$route.query),{},{perPage:e.currentPerPage})}),"remote"===this.mode&&(this.updateParams({perPage:e.currentPerPage}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onPerPageChange"}))},onSearch:function(e){if("remote"===this.mode){var t=e.searchTerm;this.updateParams({search:t,page:1}),this.getItems({useSkeleton:!0,source:"[apiListMixin] onSearch"})}},onSelectionChanged:function(e){e&&(this.selectedRows=e.selectedRows)},pushChangesToRouter:function(e){this.saveComponentState()},connectRouteToPagination:function(e){if(this.useRouterMode){if(Object.keys(e.query).length)return this.updateParams({page:e.query.page,search:e.query.search||"",perPage:e.query.perPage||"",filters:e.query.filters||""}),void(this.routeQueryParams={page:e.query.page||"",search:e.query.search||"",perPage:e.query.perPage||"",filters:e.query.filters||""});if(Object.keys(this.routeQueryParams).length)return this.updateParams(Object(n.a)(Object(n.a)({},this.routeQueryParams),{},{columns:void 0})),void this.pushChangesToRouter()}},exportCurrentArrayToExcel:function(){var e="",t=this.data[0];Object.keys(t).forEach((function(t){e+="".concat(t,",")})),e+="\r\n",this.data.forEach((function(t){Object.values(t).forEach((function(t){e+="".concat(t,",")})),e+="\r\n"})),e="data:application/csv,".concat(encodeURIComponent(e));var i=document.createElement("A");i.setAttribute("href",e),i.setAttribute("download","".concat(this.entity||this.identity||this.name||this.title||this.$options.name,".csv")),document.body.appendChild(i),i.click()},saveComponentState:function(){if(this.isSaveStateEnabledCpt&&this.uuid&&window.localStorage)try{var e=Object(n.a)({},this.columnsState);delete e.__ACTIONS,localStorage.setItem("".concat(this.uuid,"-").concat(this.$options.name,"-state"),JSON.stringify({routeQueryParams:this.savePaginationState?this.routeQueryParams:void 0,columnsState:this.saveColumnsState?e:void 0,columnFilters:this.saveColumnsState?this.columnFilters:void 0,advancedFilters:this.saveColumnsState?this.advancedFilters:void 0}))}catch(e){console.warn("saveComponentState",e.message)}},restoreComponentState:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.isSaveStateEnabledCpt&&e.uuid&&window.localStorage)){t.next=11;break}return t.prev=1,t.next=4,localStorage.getItem("".concat(e.uuid,"-").concat(e.$options.name,"-state"));case 4:(i=t.sent)&&(i=JSON.parse(i),e.savePaginationState&&(e.routeQueryParams=i.routeQueryParams),i.columnsState&&e.saveColumnsState&&(e.columnsState=i.columnsState)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.warn(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},clearComponentState:function(){try{window.localStorage&&localStorage.removeItem("".concat(this.uuid,"-").concat(this.$options.name,"-state"))}catch(e){console.warn(e)}},exportCallBack:function(){var e=this;this.exportUrl?this.$http.get(this.exportUrl,{}).then((function(t){if(t.data.url){var i=document.createElement("a");i.download="".concat(e.entity||"","_export"),i.href=t.data.url,i.click(),i.remove()}})).catch(this.apiErrorCallback):this.$awNotify({title:"[WARN] missing export url",type:"warning"})},injectSegmentFilter:function(e,t){if("ALL"===t){delete this.serverParams[e];var i=this.apiRequestConfig.filtersField;this.serverParams[i]&&this.serverParams[i][e]&&delete this.serverParams[i][e],this.segmentValue=""}else this.serverParams.filters||(this.serverParams.filters={}),this.apiRequestConfig.filtersField?(this.serverParams[this.apiRequestConfig.filtersField][e]||(this.serverParams[this.apiRequestConfig.filtersField][e]={}),this.apiRequestConfig.filtersOperator?this.serverParams[this.apiRequestConfig.filtersField][e][this.apiRequestConfig.filtersOperator]=this.segmentValue:this.serverParams[this.apiRequestConfig.filtersField][e]=this.segmentValue):this.serverParams[e]=this.segmentValue},onSegmentChange:function(e){var t=e.segmentField,i=e.segmentValue;this.segmentValue=i,this.segmentQueryField=t,this.injectSegmentFilter(t,i),this.getItems({useSkeleton:!0,source:"[apiListMixin] segmentChanged"})}}}},348:function(e,t,i){"use strict";i(170),i(169),i(69),i(10);var n=i(309),a=i(306),s=i.n(a),r=i(307),o=i(312),l=i(350),u=i(318),c=i(385),d={name:"AwesomeSegments",components:{},mixins:[l.a,r.a,o.a,u.a,c.a],props:{field:{type:[Object,String],default:function(){return null}},title:{type:[String,Boolean],default:""},name:{type:String,default:""},namePlural:{type:String,default:""},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path"},translations:{type:Object,default:function(){return{"AwesomeTable.buttons.filters":"Filter","AwesomeTable.buttons.refresh":"Refresh","AwesomeTable.buttons.excel-currentpage":"Export current page","AwesomeTable.searchInput":"AwesomeTable.searchInput","AwesomeTable.next":"Next","AwesomeTable.prev":"Previous","AwesomeTable.rows_per_page":"Rows per page","AwesomeTable.of":"of","AwesomeTable.page":"page","AwesomeTable.all":"all","AwesomeTable.empty":"empty"}}},needsRefresh:{type:Boolean,default:!1},options:{type:Object,default:function(){return{}}},collapsible:{default:!0,type:Boolean,description:"Wether the table can be collapsed using the minus button at the topRight corner."}},data:function(){return{totalCount:0,isRefreshing:!1,selectedSegment:"ALL",segmentOptions:[]}},computed:{_segmentsList:function(){var e=s.a.get(this.field,"fieldOptions.filterDropdownItems")||s.a.get(this.field,"enum")||s.a.get(this.field,"fieldOptions.values")||s.a.get(this.field,"fieldOptions.option");return e&&e.length?e:this.segmentOptions},dataUrl:function(){var e=this.url||this.field.relationUrl;return e&&e.indexOf("{{")>-1&&(e=this.templateParser(e,Object(n.a)(Object(n.a)({},this.$props.model),{},{currentItem:this.$props.model,context:this}))),e||""}},watch:{_segmentsList:function(){this.$emit("segment-list-changed",this._segmentsList)}},created:function(){var e=this;this.$t||(this.$t=function(t){return e.translations[t]||t},this.$te=function(t){return!!e.translations[t]})},beforeMount:function(){},mounted:function(){this.field&&this.field.relation&&this.preloadFn()},beforeDestroy:function(){},methods:{onClickOnSegment:function(e){if(!e)return"";this.selectedSegment=this.getSegmentKey(e),this.$emit("aw-segment-changed",this.selectedSegment,e),this.$emit("change",{segmentField:this.field.field||this.field.model,segmentValue:this.getSegmentKey(e)})},preloadFn:function(){var e=this;this.dataUrl&&this.$http.get("".concat(this.dataUrl).concat(-1===this.dataUrl.indexOf("?")?"?":"&","$perPage=100'"),{params:Object(n.a)({},s.a.get(this.field,"fieldOptions.queryParams"))}).then((function(t){e.segmentOptions=e.getData(t)})).finally((function(){e.isDataReady=!0}))},getData:function(e){var t=this,i=this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?s.a.get(e,this.apiResponseConfig.dataPath):e.data;if(Array.isArray(i))return i.map((function(e){return t.field.relationKey?{label:e[t.field.relationLabel],id:e[t.field.relationKey]}:e}))}}},p=i(42),f=Object(p.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-table-segments bg-white"},[i("ul",{staticClass:"nav nav-pills"},[i("li",{staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:e.selectedSegment&&""!==e.selectedSegment&&"ALL"!==e.selectedSegment?"":"active",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.onClickOnSegment("ALL")}}},[e._v(e._s(e.$t("AwesomeDefault.messages.all")))])]),e._v(" "),e._l(e._segmentsList,(function(t,n){return i("li",{key:n,staticClass:"nav-item"},[i("a",{staticClass:"nav-link",class:e.getSegmentKey(t)===e.selectedSegment?"active":"",attrs:{href:"javascript:void(0)"},on:{click:function(i){return e.onClickOnSegment(t)}}},[e._v(e._s(e.getSegmentLabel(t)))])])}))],2)])}),[],!1,null,null,null);t.a=f.exports},350:function(e,t,i){"use strict";var n=i(566);t.a={props:{uuid:{type:String,default:function(){return Object(n.a)()},description:"A unique id for identifying the component. If not provided as a prop, the id is autogenerated"}}}},353:function(e,t,i){},354:function(e,t,i){},355:function(e,t,i){},356:function(e,t,i){},357:function(e,t,i){},358:function(e,t,i){},359:function(e,t,i){},360:function(e,t,i){},361:function(e,t,i){},362:function(e,t,i){},363:function(e,t,i){},364:function(e,t,i){},365:function(e,t,i){},366:function(e,t,i){},367:function(e,t,i){},368:function(e,t,i){},369:function(e,t,i){},370:function(e,t,i){},371:function(e,t,i){},372:function(e,t,i){},373:function(e,t,i){},374:function(e,t,i){},379:function(e,t,i){"use strict";i(169);var n=i(306),a=i.n(n);t.a={props:{rolesStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.rolesStorePath||"user.roles"},note:"Location of the array in the vuex state that contains all the roles of the current users eg if you provide user.roles => we will look ink this.$store.state.user.roles"},extendedRolesStorePath:{type:String,default:function(){return this.awComponentsConfig&&this.awComponentsConfig.extendedRolesStorePath||"extendedRolesStorePath"},note:"Location of the array in the vuex state that contains all the extended roles of the current users eg if you provide user.roles => we will look ink this.$store.state.user.roles"}},methods:{userIs:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=this.$store||t;var i=a.a.get(t,this.rolesStorePath)||a.a.get(t.state,this.rolesStorePath);return i&&Array.isArray(i)&&i.indexOf(e)>-1},userHasRole:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=this.$store||t;var i=a.a.get(t,this.rolesStorePath)||a.a.get(t.state,this.rolesStorePath);return i&&Array.isArray(i)&&i.indexOf(e)>-1}}}},380:function(e,t,i){"use strict";i(24),i(310),i(169),i(69),i(308),i(10);t.a={props:{options:{type:Array,default:function(){return[]}},label:String,trackBy:[String,Number],vModelValue:[String,Number,Array,Object],noResult:String,url:String,multiple:[String,Boolean],searchable:{type:[String,Boolean,Number],default:!1}},model:{prop:"vModelValue",event:"input"},data:function(){return{internalValue:"",isLoading:!1,apiOptions:null}},watch:{url:function(){this.setIncomingValue(this.vModelValue)},vModelValue:function(e,t){e!==t&&this.setIncomingValue(e,t)}},computed:{computedOptions:function(){return this.apiOptions||this.options&&this.options.length&&this.options||this.schema&&this.schema.options||this.schema&&this.schema.fieldOptions&&this.schema.fieldOptions.options||[]},internalOptions:function(){return this.computedOptions},dataUrl:function(){return this.url},filteredProps:function(){var e=Object.assign({},this.$props);return delete e.vModelValue,delete e.input,delete e.value,e},isAjax:function(){return!!this.dataUrl}},methods:{setIncomingValue:function(e,t){var i=this;e!=t&&(Array.isArray(e)?this.internalValue=this.computedOptions&&this.computedOptions.filter((function(t){var n="string"==typeof t?t:t[i.trackBy];return e.indexOf(n)>-1})):(this.internalValue=this.computedOptions&&this.computedOptions.find((function(t){return("string"==typeof t?t:t[i.trackBy])==e})),!this.internalValue&&this.url&&this.loadRemoteEntities(e)))},updateSelected:function(e){var t=this;if(this.internalValue=e,e&&"string"!=typeof e&&"number"!=typeof e)if(Array.isArray(e)){var i=e.map((function(e){return e[t.trackBy]}));this.$emit("input",i)}else this.$emit("input",e[this.trackBy]);else this.$emit("input",e)},loadRemoteEntities:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this.dataUrl){this.isLoading=!0;var i=this.$http.get(this.dataUrl,{params:{listOfValues:this.fieldOptions.queryParams&&this.fieldOptions.queryParams.listOfValues||!1,search:t}});return i.then((function(t){e.apiOptions=e.apiResponseConfig&&e.apiResponseConfig.dataPath?_.get(t,e.apiResponseConfig.dataPath):t.data.body,e.isLoading=!1})).catch((function(t){console.error(t),e.isLoading=!1})),i}return Promise.resolve()}},created:function(){},mounted:function(){this.setIncomingValue(this.vModelValue)}}},381:function(e,t,i){"use strict";i(24),i(310),i(171),i(99),i(172);var n=i(306),a=i.n(n),s={name:"AwesomeFilterOperator",mixins:[i(307).a],props:{currentField:{type:Object,required:!0},currentFilter:{type:Object,required:!0},permanentInput:{type:Boolean},inPopper:{type:Boolean}},data:function(){return{filters:[],rules:{text:["$eq","$ne","$like","$notLike","$startsWith","$endsWith","$substring","$isNull","$isNotNull","$isNotDefined"],object:["$eq","$ne","$like","$notLike","$startsWith","$endsWith","$substring","$isNull","$isNotNull","$isNotDefined"],datetime:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isNotDefined"],number:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isDefined","$isNotDefined"],integer:["$eq","$ne","$gt","$gte","$lt","$lte","$between","$notBetween","$isNull","$isNotNull","$isDefined","$isNotDefined"],relation:["$eq","$ne","$in","$isNull","$isNotNull","$isDefined","$isNotDefined"],boolean:["$eq","$ne","$isNull","$isNotNull","$isDefined","$isNotDefined"]}}},methods:{updateFilter:function(e){var t={};e.target.value&&(t=this.filters.find((function(t){return t.value===e.target.value}))),this.$emit("update:current-filter",t)},formatLabel:function(e){return this.currentFilter&&e.value===this.currentFilter.value&&e.shortText||e.text}},computed:{_getFilters:function(){var e=this;if(this.currentField&&Object.keys(this.currentField).length){var t=a.a.filter(this.filters,(function(t){if(a.a.includes(e.rules[e.currentField.type],t.value))return t}));if(t.length)return t}return this.filters},_filterSelected:function(){return this.currentFilter&&Object.keys(this.currentFilter).length>0}},mounted:function(){this.filters=[{shortText:"=",text:this.$t("AwesomeFilter.filters.equals"),value:"$eq"},{shortText:"",text:this.$t("AwesomeFilter.filters.in"),value:"$in"},{shortText:"!=",text:this.$t("AwesomeFilter.filters.not-equals"),value:"$ne"},{shortText:">",text:this.$t("AwesomeFilter.filters.greater-than"),value:"$gt"},{shortText:">=",text:this.$t("AwesomeFilter.filters.greater-or-equals"),value:"$gte"},{shortText:"",text:this.$t("AwesomeFilter.filters.lesser-than"),value:"$lt"},{shortText:"",text:this.$t("AwesomeFilter.filters.lesser-or-equals"),value:"$lte"},{text:this.$t("AwesomeFilter.filters.between"),value:"$between"},{text:this.$t("AwesomeFilter.filters.not-between"),value:"$notBetween"},{text:this.$t("AwesomeFilter.filters.contains"),value:"$like"},{text:this.$t("AwesomeFilter.filters.not-contains"),value:"$notLike"},{text:this.$t("AwesomeFilter.filters.starts-with"),value:"$startsWith"},{text:this.$t("AwesomeFilter.filters.ends-with"),value:"$endsWith"},{text:this.$t("AwesomeFilter.filters.is-null"),value:"$isNull"},{text:this.$t("AwesomeFilter.filters.is-not-null"),value:"$isNotNull"},{text:this.$t("AwesomeFilter.filters.is-defined"),value:"$isDefined"},{text:this.$t("AwesomeFilter.filters.is-not-defined"),value:"$isNotDefined"}]}},r=i(42),o=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"dropdown column awesome-filter-operator"},[i("select",{staticClass:"btn form-control btn-outline-primary",class:{"font-weight-bold":e._filterSelected},attrs:{disabled:!(e.currentField&&e.currentField.field)||e.permanentInput},on:{change:e.updateFilter}},[i("option",{staticClass:"dropdown-item",attrs:{disabled:""}},[e._v(e._s(e.$t("AwesomeFilter.labels.filters")))]),e._v(" "),i("option",{staticClass:"text-center",attrs:{disabled:""}},[e._v("_________")]),e._v(" "),e._l(e._getFilters,(function(t){return i("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(e.formatLabel(t)))])}))],2)])}),[],!1,null,"469bf6be",null);t.a=o.exports},382:function(e,t,i){"use strict";i(46),i(308),i(99);var n=i(45),a=i(416),s=i.n(a),r=(i(417),i(314)),o=i.n(r),l=i(307),u=i(414),c=i(418);o.a.extend(c);var d={name:"AwesomeFilterValue",mixins:[l.a],components:{DateRangePicker:s.a,FieldVSelect:u.a},props:{currentField:{type:Object,required:!0},currentFilter:{type:Object,required:!0},currentValue:{type:[String,Object,Number,Array],required:!0},permanentInput:{type:Boolean}},data:function(){return{value:"",dateRangePicker:{startDate:o()(),endDate:o()().add(7,"days"),locale:{direction:"ltr",format:"yyyy-mm-dd",separator:" - ",applyLabel:"Appliquer",cancelLabel:"Annuler",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:o.a.weekdaysMin(),monthNames:o.a.monthsShort(),firstDay:1}}}},methods:{updateValue:function(e){this.$emit("update:current-value",e)},onDateFilter:function(e){e&&("$notBetween"!==this.currentFilter.value&&"$between"!==this.currentFilter.value?this.value=o()(e.startDate.toISOString()).format("YYYY-MM-DD hh:mm"):this.value={from:e.startDate.toISOString().slice(0,10),to:e.endDate.toISOString().slice(0,10)})}},watch:{value:function(e){this.updateValue(e)},currentField:function(e){e&&"object"===Object(n.a)(e)&&Object.keys(e).length?"datetime"===e.type||"date"===e.type?this.value=(new Date).toISOString():"boolean"===e.type?this.value=!0:this.value="":this.value=""},currentFilter:function(e){"$between"!==e.value&&"$notBetween"!==e.value||(this.value={from:"",to:""})}},mounted:function(){this.value=this.currentValue,this.dateRangePicker.locale.applyLabel=this.$t("dateRangePicker.applyLabel"),this.dateRangePicker.locale.cancelLabel=this.$t("dateRangePicker.cancelLabel"),this.dateRangePicker.locale.weekLabel=this.$t("dateRangePicker.weekLabel"),this.dateRangePicker.locale.customRangeLabel=this.$t("dateRangePicker.customRangeLabel")}},p=(i(438),i(42)),f=Object(p.a)(d,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return["$isNull","$isNotNull","$isDefined","$isNotDefined"].includes(e.currentFilter.value)?e._e():i("div",{staticClass:"column awesome-filter-value"},[Object.keys(e.currentField).length||e.permanentInput?i("div",["number"!==e.currentField.type&&"integer"!==e.currentField.type||"$between"===e.currentFilter.value||"$notBetween"===e.currentFilter.value?e._e():i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"form-control input-group-sm",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),("text"===e.currentField.type||"html"===e.currentField.type||"string"===e.currentField.type||"url"===e.currentField.type)&&!e.currentField.enum||e.permanentInput?i("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control input-group-sm",attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}):e._e(),e._v(" "),"text"!==e.currentField.type&&"string"!==e.currentField.type&&"url"!==e.currentField.type||!e.currentField.enum?e._e():i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn btn-default dropdown-toggle p-0 mr-2 ml-2",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("\n        "+e._s(Object.keys(e.value).length?e.value:e.$t("AwesomeFilter.labels.values"))+"\n      ")]),e._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"field"}},[i("a",{staticClass:"dropdown-item",attrs:{href:""},on:{click:function(t){t.preventDefault(),e.value=""}}},[e._v(e._s(e.$t("AwesomeFilter.labels.values")))]),e._v(" "),e._l(e.currentField.enum,(function(t,n){return i("a",{key:n,staticClass:"dropdown-item",attrs:{href:""},on:{click:function(i){i.preventDefault(),e.value=t}}},[e._v("\n          "+e._s(t)+"\n        ")])}))],2)]),e._v(" "),"number"!==e.currentField.type&&"integer"!==e.currentField.type||"$between"!==e.currentFilter.value&&"$notBetween"!==e.currentFilter.value?e._e():i("div",{staticClass:"form-element between"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value.from,expression:"value.from",modifiers:{number:!0}}],staticClass:"form-control",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.from")},domProps:{value:e.value.from},on:{input:function(t){t.target.composing||e.$set(e.value,"from",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.value.to,expression:"value.to"}],staticClass:"form-control",attrs:{type:"number",placeholder:e.$t("AwesomeFilter.labels.to")},domProps:{value:e.value.to},on:{input:function(t){t.target.composing||e.$set(e.value,"to",t.target.value)}}})]),e._v(" "),"boolean"===e.currentField.type?i("div",{staticClass:"form-element"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],staticClass:"form-control",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.value=t.target.multiple?i:i[0]}}},[i("option",{attrs:{value:"true"}},[e._v("true")]),e._v(" "),i("option",{attrs:{value:"false"}},[e._v("false")]),e._v(" "),i("option",{domProps:{value:"NULL"}},[e._v("Null")])])]):e._e(),e._v(" "),"datetime"!==e.currentField.type&&"date"!==e.currentField.type||"$notBetween"===e.currentFilter.value||"$between"===e.currentFilter.value?e._e():i("div",{staticClass:"form-element"},[i("date-range-picker",{staticClass:"form-group",attrs:{"locale-data":e.dateRangePicker.locale,"date-range":e.dateRangePicker,"single-date-picker":!0,"time-picker":!0,open:"left","time-picker-increment":1,"show-week-numbers":!1,"show-dropdowns":!1,ranges:!1},on:{update:e.onDateFilter}})],1),e._v(" "),"datetime"!==e.currentField.type&&"date"!==e.currentField.type||"$notBetween"!==e.currentFilter.value&&"$between"!==e.currentFilter.value?e._e():i("div",{staticClass:"form-element"},[i("date-range-picker",{staticClass:"form-group vgt-date-range",attrs:{"date-range":e.dateRangePicker,"locale-data":e.dateRangePicker.locale,open:"left"},on:{update:e.onDateFilter}})],1),e._v(" "),"relation"===e.currentField.type?i("FieldVSelect",{staticClass:"form-control input-group-sm",attrs:{schema:Object.assign({},e.currentField,{model:e.currentField.field,hidden:!1,fieldOptions:Object.assign({},e.currentField,{hidden:!1})}),model:{},multiple:e.currentFilter&&"$in"===e.currentFilter.value,placeholder:e.$t("AwesomeFilter.labels.filterValue"),url:e.currentField.relationUrl},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e(),e._v(" "),"object"===e.currentField.type?i("input",{directives:[{name:"model",rawName:"v-model.number",value:e.value,expression:"value",modifiers:{number:!0}}],staticClass:"form-control input-group-sm",attrs:{type:"text",placeholder:e.$t("AwesomeFilter.labels.filterValue")},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}):e._e()],1):e._e()])}),[],!1,null,null,null);t.a=f.exports},383:function(e,t,i){"use strict";i(308);var n=i(307),a=i(317),s={name:"AwesomeAction",mixins:[n.a],components:{AwesomeFilter:a.a},props:{type:{type:String,default:"button",values:["button","dropdown","input","filter"],note:"The type of custom action"},name:{type:String,note:"The name of the custom action used in the identifier"},title:{type:String,note:"The text of the element. Usually used as a tooltip"},label:{type:String,note:"The label of the element"},classes:{type:String,note:"The CSS classes"},icon:{type:String,note:"The icon of the element"},children:{type:Array,default:function(){return[]},note:"The children of the element (eg: in case of a dropdown)"},action:{type:Function,note:"A function you want to trigger when an action on element is fire"},index:{type:Number,note:"The index of the element (use in id)"},items:{type:Array,note:"The selected items"},item:{type:Object,note:"The selected item"},location:{type:String,values:["top","tabletop","inline","topright"],note:"The location of the element"},parent:{type:Object,note:"The parent of the current element (in case of nested)"},field:{type:String,note:"In case of type: filter || input, the field to search on"},defaultOperator:{type:String,note:"In case of type: filter || input, the defaultOperator to display"},columns:{type:Array,note:"In case of type: filter || input, the list of the model's columns"}},data:function(){return{}},methods:{permanentFiltering:function(e,t){this.$emit("permanent-filtering",e,t)},permanentSearching:function(e){this.$emit("permanent-searching",e)}},mounted:function(){"filter"!==this.type&&"input"!==this.type||this.field||console.warn("[AwesomeAction]","You forget to set `field` for this type:",this.type)}},r=i(42),o=Object(r.a)(s,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"aw-action"},["dropdown"===e.type&&e.children.length?i("div",{staticClass:"dropdown"},[i("button",{staticClass:"btn dropdown-toggle",class:e.classes,attrs:{type:"button",id:e.name+"-"+e.index,"data-toggle":"dropdown","arias-haspopup":"true","aria-expanded":"false"}},[e.icon?i("i",{class:e.icon}):e._e(),e._v(" "),i("span",[e._v(e._s(e.title?e.$t(e.title):""))])]),e._v(" "),i("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":e.name+"-"+e.index}},e._l(e.children,(function(t,n){return i("a",{key:t.id||n,staticClass:"dropdown-item",on:{click:function(i){return e.$emit("customAction",{action:e.$props,items:e.items,item:e.item,location:e.location,parent:e.parent,id:e.name+"-"+n,child:t})}}},[i("span",[e._v(e._s(t.title?e.$t(t.title):""))])])})),0)]):e._e(),e._v(" "),"filter"===e.type?i("div",[i("AwesomeFilter",{key:e.index,attrs:{"permanent-filter":"",defaultOperator:e.defaultOperator,field:e.field,"field-label":e.label||e.title,fields:e.columns},on:{"update-filter":e.permanentFiltering}})],1):e._e(),e._v(" "),"input"===e.type?i("div",[i("AwesomeFilter",{key:e.index,attrs:{"permanent-input":"",field:e.field,"field-label":e.label||e.title},on:{"update-filter":e.permanentFiltering}})],1):e._e(),e._v(" "),e.type&&"button"!==e.type?e._e():i("div",[i("button",{key:e.index,staticClass:"btn",class:e.classes,attrs:{type:"button",id:e.name+"-"+e.index,"data-title":e.title,"data-tooltip":e.title},on:{click:function(t){return e.$emit("customAction",{action:e.$props,items:e.items,item:e.item,location:e.location,parent:e.parent,id:e.name+"-"+e.index})}}},[e.icon?i("i",{class:e.icon}):e._e(),e._v(" "),i("span",[e._v(e._s(e.label?e.$t(e.label):""))])])])])}),[],!1,null,"8e493f8c",null);t.a=o.exports},385:function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));i(169),i(70),i(43),i(316);var n=i(306),a=i.n(n),s={methods:{getSegmentLabel:function(e){if(!e)return"";var t=e.title||e.label;return t||("string"==typeof e&&e.indexOf("|")>-1?e.split("|")[1]:a.a.startCase(e.field||e.name||a.a.isString(e)?e:this.getSegmentKey(e)))},getSegmentKey:function(e){if(!e)return"";var t=e.model||e.field||e.key||e.id;return t||("string"==typeof e&&e.indexOf("|")>-1?e.split("|")[0]:e)}}}},414:function(e,t,i){"use strict";i(170),i(24),i(310),i(169),i(69),i(10),i(43),i(324),i(29);var n=i(309),a=(i(101),i(44)),s=i(460),r=i.n(s),o=i(306),l=i.n(o),u=i(341),c=i.n(u),d=i(313),p=i(380),f=(i(315),{name:"field-vSelect",components:{vSelect:r.a,Popper:c.a,AwesomeForm:function(){return Promise.all([i.e(0),i.e(2),i.e(11)]).then(i.bind(null,345))}},mixins:[p.a,d.b.abstractField],props:{apiRequestConfig:{type:Object,note:"This object define the configuration for talking to the api : filters, sort, pagination, etc",default:function(){return{dataPath:"",perPageField:"perPage",pageField:"page",filtersField:"filters",sortField:"sort",searchField:"search"}}},apiResponseConfig:{type:Object,note:"This object define the configuration for processing data coming from the api : count, data path",default:function(){return{dataPath:"data.body",totalCountPath:"data.totalCount"}}},apiQueryParams:{type:Object,default:function(){return{}},note:"A params object containing parameters that will be passed as query params to the api request.\n It's up to the server to treat these requests. Example of uses incluse passing a `filter` object, or an options object. In one of our projects we pass the args options.searchMode = `exact|startWith|wildcard|regex` to determine how the filtering options will ve treated in the back."},apiRequestHeaders:{type:Object,default:function(){return{}}},preloadQueryParam:{type:String,default:"perPage=10000"},multiple:{type:Boolean,default:!1},addNewUrl:{type:[String,Function],default:""}},mounted:function(){var e=this;return Object(a.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.schema.fieldOptions&&e.schema.fieldOptions.preload?e.preloadFn():e.onSearch(e.model[e.schema&&e.schema.model]||"",(function(){return null}));case 1:case"end":return t.stop()}}),t)})))()},data:function(){return{isDataReady:!1,displayEditModal:!1}},computed:{fieldOptions:function(){return this.schema&&this.schema.fieldOptions||this.$props.fieldOptions||{}},internalOptions:function(){return this.apiOptions||this.fieldOptions.values||this.fieldOptions.options||this.schema&&this.schema.values},customLabel:function(){if(void 0!==this.fieldOptions&&void 0!==this.fieldOptions.customLabel&&"function"==typeof this.fieldOptions.customLabel)return this.fieldOptions.customLabel},dataUrl:function(){var e=this.url||this.fieldOptions.url;return e&&e.indexOf("{{")>-1&&(e=this.templateParser(e,Object(n.a)(Object(n.a)({},this.$props.model),{},{currentItem:this.$props.model,context:this}))),e},_trackBy:function(){return this.$props.trackBy||this.fieldOptions.trackBy||this.fieldOptions.relationKey||this.schema.relationKey||this.schema.foreignKey},_labelField:function(){return this.fieldOptions.relationLabel||this.schema.relationLabel||this.fieldOptions.label||"label"},_values:function(){var e=this;return this.model&&Array.isArray(this.model[this.schema.model])?this.model[this.schema.model].map((function(t){return t[e._trackBy]})):this.model[this.schema.model]},_preloadQueryParam:function(){return this.fieldOptions.preloadQueryParam||this.preloadQueryParam},_usePreloadMode:function(){return this.fieldOptions&&this.fieldOptions.preload},_useApiFilter:function(){return this.dataUrl&&!this._usePreloadMode},popupCss:function(){if(this.$refs.vselectPopup){var e=this.$ref.vselectPopup.getBoundingClientRect();return{position:"fixed","z-index":9999999,top:"calc(50vh - ".concat(e.height/2,"px) / 2)"),left:"calc(50vw - ".concat(e.width/2,"px) / 2)"),width:e.width+"px",background:"#fff"}}return{position:"fixed","z-index":9999999,top:"calc(50vh - ".concat(150,"px)"),left:"calc(50vw - ".concat(150,"px)"),width:"300px",height:"300px",background:"#fff"}}},watch:{vModelValue:function(e,t){e!=t&&this.setIncomingValue(e,t)},value:function(e,t){e!=t&&this.setIncomingValue(e,t)}},created:function(){var e=this;this.apiRequestDebounced=l.a.debounce((function(t){return e.loadRemoteEntities(t)}),200)},methods:{get:l.a.get,kebabCase:l.a.kebabCase,isFunction:l.a.isFunction,addTag:function(e,t){var i=this.fieldOptions.onNewTag;"function"==typeof i&&i(e,t,this.options,this.value)},setIncomingValue:function(e,t,i){var n=this;return Object(a.a)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e!==t){a.next=2;break}return a.abrupt("return");case 2:if(!n.dataUrl||n.internalOptions&&!(n.internalOptions.length<1)||i){a.next=5;break}return a.next=5,n.apiRequestDebounced(e);case 5:if(!Array.isArray(e)){a.next=8;break}return n.internalValue=n.internalOptions&&n.internalOptions.filter((function(t){var i="string"==typeof t?t:t[n._trackBy];return e.indexOf(i)>-1})),a.abrupt("return");case 8:if(n.internalValue=n.internalOptions&&n.internalOptions.find((function(t){return("string"==typeof t?t:t[n._trackBy])==e})),n.internalValue||!n.dataUrl||i){a.next=14;break}return a.next=12,n.apiRequestDebounced(e);case 12:a.sent&&n.setIncomingValue(e,null,!0);case 14:case"end":return a.stop()}}),a)})))()},updateSelected:function(e){var t=this;if(this.internalValue=e,e&&"string"!=typeof e&&"number"!=typeof e)if(Array.isArray(e)){var i=e.map((function(e){return t._trackBy&&e[t._trackBy]?e[t._trackBy]:e}));this.$emit("input",i),this.value=i}else this.$emit("input",e[this._trackBy]),this.value=e[this._trackBy];else this.$emit("input",e),this.value=e},onSearch:function(e,t){this._useApiFilter&&(t(!0),this.search(t,e,this))},preloadFn:function(){var e=this;this.dataUrl&&this.$http.get("".concat(this.dataUrl).concat(-1===this.dataUrl.indexOf("?")?"?":"&").concat(this._preloadQueryParam||"perPage=100"),{params:Object(n.a)({},this.fieldOptions.queryParams)}).then((function(t){e.apiOptions=e.getData(t)})).finally((function(){e.isDataReady=!0}))},search:function(e,t,i){var a=this;this.$http.get(this.dataUrl,{params:Object(n.a)(Object(n.a)({},this.fieldOptions.queryParams),{},{search:t})}).then((function(e){a.apiOptions=a.getData(e)})).finally((function(){e(!1),a.isDataReady=!0}))},searchDebounced:l.a.debounce((function(e,t,i){i.$http.get(i.dataUrl,{params:Object(n.a)(Object(n.a)({},i.fieldOptions.queryParams),{},{search:t})}).then((function(e){i.apiOptions=i.getData(e)})).finally((function(){e(!1),i.isDataReady=!0}))}),150),templateParser:function(e,t){return l.a.templateSettings.interpolate=/{{([\s\S]+?)}}/g,l.a.template(e)(t)},formatLabel:function(e){if(l.a.isString(e)||l.a.isNumber(e))return e;var t;if(this._labelField.indexOf("{{")>-1)try{t=this.templateParser(this._labelField,Object(n.a)(Object(n.a)({},e),{},{currentItem:e}))}catch(e){console.warn("[vSelect][templateParser]",e.message)}else t=this.get(e,this._labelField,"");return this.fieldOptions.taggable?t||e:this.awComponentsConfig.hideIdsInSelect?"".concat(t):"".concat(t," [").concat(e[this._trackBy],"]")},reduce:function(e){return l.a.isString(e)||l.a.isNumber(e)?e:this.fieldOptions.taggable?e&&e[this._trackBy]?e[this._trackBy]:e:this.get(e,this._trackBy)},getData:function(e){return this.apiResponseConfig&&this.apiResponseConfig.dataPath&&0!=this.apiResponseConfig.dataPath?l.a.get(e,this.apiResponseConfig.dataPath):e.data},getDataCount:function(e){return this.apiResponseConfig&&this.apiResponseConfig.totalCountPath&&0!=this.apiResponseConfig.totalCountPath?l.a.get(e,this.apiResponseConfig.totalCountPath):e.data.totalCount},getCss:function(){if(this.$refs.vselectPopup){var e=this.$ref.vselectPopup.getBoundingClientRect();return{position:"fixed","z-index":"9999999",top:"calc(50vh - ".concat(e.height/2,"px) / 2)"),left:"calc(50vw - ".concat(e.width/2,"px) / 2)"),width:e.width+"px"}}return{}}}}),h=(i(437),i(42)),m=Object(h.a)(f,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"awesome-vue-select"},[!e.isAjax||e.isDataReady?i("v-select",e._b({attrs:{multiple:e.multiple||e.fieldOptions.multiple||e.schema.multiple,taggable:e.fieldOptions.taggable,label:e.fieldOptions.label||"label",filterable:!e._useApiFilter,options:e.computedOptions,disabled:e.disabled||e.schema.disabled||e.schema.readonly,required:e.required,value:e.model[e.schema.model],reduce:e.reduce,getOptionLabel:e.formatLabel},on:{open:e.preloadFn,search:e.onSearch,input:e.updateSelected}},"v-select",e.fieldOptions,!1)):e._e(),e._v(" "),!e.schema.relation&&!e.schema.relationRoute||e.fieldOptions.disableRelationActions?e._e():i("div",{staticClass:"aw-field-select-relation-actions"},[e.model&&e.model[e.schema.model]?[e.schema.relationRoute?e._e():i("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.schema.relation)+"/"+e.model[e.schema.model]}},[i("i",{staticClass:"fa fa-eye text-info"})]),e._v(" "),e.schema.relationRoute?e._e():i("router-link",{staticClass:"external-link",attrs:{to:"/app/"+e.kebabCase(e.schema.relation)+"/"+e.model[e.schema.model]+"/edit"}},[i("i",{staticClass:"fa fa-edit text-info"})])]:e._e(),e._v(" "),i("Popper",{attrs:{trigger:"clickToOpen",transition:"fade","append-to-body":!0,options:{placement:"auto",modifiers:{offset:{offset:"0,10px"}}}},on:{show:function(t){e.displayEditModal=!0},hide:function(t){e.displayEditModal=!1}}},[i("button",{staticClass:"external-link",attrs:{slot:"reference",type:"button"},on:{click:function(t){e.displayEditModal=!0}},slot:"reference"},[e._v("\n          "),i("i",{staticClass:"fa fa-plus text-info"})]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.displayEditModal,expression:"displayEditModal"}],ref:"vselectPopup",staticClass:"vselect-popup-width"},[e.displayEditModal?i("AwesomeForm",{attrs:{identity:e.schema.relation,mode:"create",item:{},displayMode:"page",standalone:!1,useSimpleCreateForm:!0},on:{closeRequested:function(t){e.displayEditModal=!1,e.loadRemoteEntities()},cancel:function(t){e.displayEditModal=!1}}}):e._e()],1)]),e._v(" "),e.schema.relationRoute&&e.isFunction(e.schema.relationRoute)?i("div",{staticClass:"external-link",on:{click:function(t){return e.addNewUrl("new")}}},[e._v("\n        "),i("i",{staticClass:"fa fa-plus text-info"})]):e._e(),e._v(" "),e.schema.relationRoute&&!e.isFunction(e.schema.relationRoute)?i("router-link",{staticClass:"external-link",attrs:{to:e.addNewUrl+"/new"}},[e._v("\n        "),i("i",{staticClass:"fa fa-plus text-info"})]):e._e()],2)],1)}),[],!1,null,null,null);t.a=m.exports},419:function(e){e.exports=JSON.parse('{"AwesomeDefault":{"messages":{"are_you_sure":"Are you sure ?","wont_be_able_recover":"This action cannot be reverted","successfullyCreated":"Successfully created.","successfullyModified":"Successfully modified.","successfullyImported":"successfullyImported","no_data_imported":"no_data_imported","not_imported":"not_imported","all":"Tous"}},"AwesomeKanban":{"labels":{"addList":"Add a list","add":"Add","listName":"List name","removeList":"Remove list","noData":"No fields selected","unsorted":"Un sorted"},"buttons":{"filters":"Filters","refresh":"Refresh","excel-currentpage":"excel-currentpage","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":"Toggle columns filters","clear-state":"Reset table configuration"}},"AwesomeFilter":{"labels":{"filterData":"Filter data","filterValue":"Filter value","fields":"Fields","filters":"Filters","values":"Values","activeFilter":"Active Filters","addFilter":"Add filter","from":"From","clear":"--Vider--","to":"To"},"filters":{"equals":"Equals (=)","not-equals":"Not equals(<>)","greater-than":"Greater than (>)","greater-or-equals":"Greater or equals (>=)","lesser-than":"Lesser than (<)","lesser-or-equals":"Lesser or equals (<=)","between":"Between","not-between":"Not Between","contains":"Contains","not-contains":"Does not contains","starts-with":"Starts with","ends-with":"Ends with","is-null":"is null","is-not-null":"is not null","is-defined":"is defined","is-not-defined":"is not defined","in":"is in"}},"AwesomeTable":{"buttons":{"filters":"Filters","refresh":"Refresh","excel":"Exporter tout","excel-currentpage":"Export data","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":{"toggle":"Toggle columns filters","activate":"Activate les filtres","deactivate":"Disable les filtres"},"clear-state":"Reset table configuration"},"next":"next","prev":"prev","rows_per_page":"Rows per page","of":"of","page":"page","all":"all","empty":"empty","searchInput":"Search","more":"Plus d\'actions","actions":"Actions","configuration":"Configuration","automatique-refresh":"Refresh automatically","columns":"Columns","createFirstItem":"Click here to create your first item","bulk":{"row-select":"row(s) selected","clear":"clear","delete":"delete","edit":"edit"}},"AwesomeCrud":{"labels":{"manageTitle":"Manage","createNew":"Add","view":"View","edit":"Edit","add_a":"Add a(n)"},"buttons":{"yes_delete_it":"Yes i confirm","view":"Open","cancel":"Cancel","close":"Close","edit":"Edit","save":"Save","delete":"Delete","bulkEdit":"Multiple Edit","openEditLayoutMode":"Edit Layout","closeEditLayoutMode":"Close editor","resetLayout":"Reset the layout","exportLayout":"Export the layout"},"messages":{"successfullyModified":"Successfully modified."}},"dateRangePicker":{"applyLabel":"Apply","cancelLabel":"Cancel","weekLabel":"W","customRangeLabel":"Custom Range"},"AwesomeList":{"labels":{"noData":"No fields selected"},"buttons":{"filters":"Filters","refresh":"Refresh","excel-currentpage":"excel-currentpage","searchInput":"Search","view":"view","cancel":"cancel","close":"close","columnsFilters":"Toggle columns filters","clear-state":"Reset table configuration"}},"AwesomeLayout":{"messages":{"emptyBlockBeforeDelete":"you must empty the block before you can delete it."}},"Notifications":{"messages":{"are_you_sure":"Are you sure ?"},"buttons":{"yes":"Yes","cancel":"Cancel","close":"Close"}}}')},420:function(e,t,i){"use strict";var n=i(353);i.n(n).a},421:function(e,t,i){"use strict";var n=i(354);i.n(n).a},422:function(e,t,i){"use strict";var n=i(355);i.n(n).a},423:function(e,t,i){"use strict";var n=i(356);i.n(n).a},424:function(e,t,i){"use strict";var n=i(357);i.n(n).a},425:function(e,t,i){"use strict";var n=i(358);i.n(n).a},426:function(e,t,i){"use strict";var n=i(359);i.n(n).a},427:function(e,t,i){"use strict";var n=i(360);i.n(n).a},428:function(e,t,i){"use strict";var n=i(361);i.n(n).a},429:function(e,t,i){"use strict";var n=i(362);i.n(n).a},430:function(e,t,i){"use strict";var n=i(363);i.n(n).a},431:function(e,t,i){"use strict";var n=i(364);i.n(n).a},432:function(e,t,i){"use strict";var n=i(365);i.n(n).a},433:function(e,t,i){"use strict";var n=i(366);i.n(n).a},434:function(e,t,i){"use strict";var n=i(367);i.n(n).a},435:function(e,t,i){"use strict";var n=i(368);i.n(n).a},436:function(e,t,i){"use strict";var n=i(369);i.n(n).a},437:function(e,t,i){"use strict";var n=i(370);i.n(n).a},438:function(e,t,i){"use strict";var n=i(371);i.n(n).a},439:function(e,t,i){"use strict";var n=i(372);i.n(n).a},440:function(e,t,i){"use strict";var n=i(373);i.n(n).a},441:function(e,t,i){"use strict";var n=i(374);i.n(n).a}}]);